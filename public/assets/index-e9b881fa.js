(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function AN(t){var e=t.default;if(typeof e=="function"){var n=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var s=Function.bind.apply(e,r);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var A_={exports:{}},P_={},mt={exports:{}},Xe={};var Mm=Symbol.for("react.element"),Z5=Symbol.for("react.portal"),e$=Symbol.for("react.fragment"),t$=Symbol.for("react.strict_mode"),n$=Symbol.for("react.profiler"),i$=Symbol.for("react.provider"),r$=Symbol.for("react.context"),s$=Symbol.for("react.forward_ref"),a$=Symbol.for("react.suspense"),o$=Symbol.for("react.memo"),u$=Symbol.for("react.lazy"),uR=Symbol.iterator;function l$(t){return t===null||typeof t!="object"?null:(t=uR&&t[uR]||t["@@iterator"],typeof t=="function"?t:null)}var PN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DN=Object.assign,RN={};function nh(t,e,n){this.props=t,this.context=e,this.refs=RN,this.updater=n||PN}nh.prototype.isReactComponent={};nh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ON(){}ON.prototype=nh.prototype;function ux(t,e,n){this.props=t,this.context=e,this.refs=RN,this.updater=n||PN}var lx=ux.prototype=new ON;lx.constructor=ux;DN(lx,nh.prototype);lx.isPureReactComponent=!0;var lR=Array.isArray,LN=Object.prototype.hasOwnProperty,cx={current:null},NN={key:!0,ref:!0,__self:!0,__source:!0};function MN(t,e,n){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)LN.call(e,i)&&!NN.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:Mm,type:t,key:s,ref:a,props:r,_owner:cx.current}}function c$(t,e){return{$$typeof:Mm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mm}function d$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cR=/\/+/g;function Nw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?d$(""+t.key):e.toString(36)}function Uy(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Mm:case Z5:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+Nw(a,0):i,lR(r)?(n="",t!=null&&(n=t.replace(cR,"$&/")+"/"),Uy(r,e,n,"",function(d){return d})):r!=null&&(dx(r)&&(r=c$(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(cR,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",lR(t))for(var u=0;u<t.length;u++){s=t[u];var c=i+Nw(s,u);a+=Uy(s,e,n,c,r)}else if(c=l$(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=i+Nw(s,u++),a+=Uy(s,e,n,c,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ty(t,e,n){if(t==null)return t;var i=[],r=0;return Uy(t,i,"","",function(s){return e.call(n,s,r++)}),i}function h$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ai={current:null},By={transition:null},f$={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:By,ReactCurrentOwner:cx};Xe.Children={map:ty,forEach:function(t,e,n){ty(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ty(t,function(){e++}),e},toArray:function(t){return ty(t,function(e){return e})||[]},only:function(t){if(!dx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xe.Component=nh;Xe.Fragment=e$;Xe.Profiler=n$;Xe.PureComponent=ux;Xe.StrictMode=t$;Xe.Suspense=a$;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f$;Xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=DN({},t.props),r=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=cx.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)LN.call(e,c)&&!NN.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:Mm,type:t.type,key:r,ref:s,props:i,_owner:a}};Xe.createContext=function(t){return t={$$typeof:r$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:i$,_context:t},t.Consumer=t};Xe.createElement=MN;Xe.createFactory=function(t){var e=MN.bind(null,t);return e.type=t,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(t){return{$$typeof:s$,render:t}};Xe.isValidElement=dx;Xe.lazy=function(t){return{$$typeof:u$,_payload:{_status:-1,_result:t},_init:h$}};Xe.memo=function(t,e){return{$$typeof:o$,type:t,compare:e===void 0?null:e}};Xe.startTransition=function(t){var e=By.transition;By.transition={};try{t()}finally{By.transition=e}};Xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xe.useCallback=function(t,e){return Ai.current.useCallback(t,e)};Xe.useContext=function(t){return Ai.current.useContext(t)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(t){return Ai.current.useDeferredValue(t)};Xe.useEffect=function(t,e){return Ai.current.useEffect(t,e)};Xe.useId=function(){return Ai.current.useId()};Xe.useImperativeHandle=function(t,e,n){return Ai.current.useImperativeHandle(t,e,n)};Xe.useInsertionEffect=function(t,e){return Ai.current.useInsertionEffect(t,e)};Xe.useLayoutEffect=function(t,e){return Ai.current.useLayoutEffect(t,e)};Xe.useMemo=function(t,e){return Ai.current.useMemo(t,e)};Xe.useReducer=function(t,e,n){return Ai.current.useReducer(t,e,n)};Xe.useRef=function(t){return Ai.current.useRef(t)};Xe.useState=function(t){return Ai.current.useState(t)};Xe.useSyncExternalStore=function(t,e,n){return Ai.current.useSyncExternalStore(t,e,n)};Xe.useTransition=function(){return Ai.current.useTransition()};Xe.version="18.2.0";(function(t){t.exports=Xe})(mt);const FN=J5(mt.exports);var p$=mt.exports,m$=Symbol.for("react.element"),g$=Symbol.for("react.fragment"),v$=Object.prototype.hasOwnProperty,y$=p$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_$={key:!0,ref:!0,__self:!0,__source:!0};function UN(t,e,n){var i,r={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)v$.call(e,i)&&!_$.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:m$,type:t,key:s,ref:a,props:r,_owner:y$.current}}P_.Fragment=g$;P_.jsx=UN;P_.jsxs=UN;(function(t){t.exports=P_})(A_);const BN=A_.exports.Fragment,Je=A_.exports.jsx,Ti=A_.exports.jsxs;var n1={},jN={exports:{}},vr={},VN={exports:{}},$N={};(function(t){function e(se,we){var me=se.length;se.push(we);e:for(;0<me;){var dt=me-1>>>1,We=se[dt];if(0<r(We,we))se[dt]=we,se[me]=We,me=dt;else break e}}function n(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var we=se[0],me=se.pop();if(me!==we){se[0]=me;e:for(var dt=0,We=se.length,Zn=We>>>1;dt<Zn;){var Sn=2*(dt+1)-1,Xi=se[Sn],rn=Sn+1,At=se[rn];if(0>r(Xi,me))rn<We&&0>r(At,Xi)?(se[dt]=At,se[rn]=me,dt=rn):(se[dt]=Xi,se[Sn]=me,dt=Sn);else if(rn<We&&0>r(At,me))se[dt]=At,se[rn]=me,dt=rn;else break e}}return we}function r(se,we){var me=se.sortIndex-we.sortIndex;return me!==0?me:se.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],f=1,m=null,g=3,E=!1,I=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(se){for(var we=n(d);we!==null;){if(we.callback===null)i(d);else if(we.startTime<=se)i(d),we.sortIndex=we.expirationTime,e(c,we);else break;we=n(d)}}function N(se){if(b=!1,O(se),!I)if(n(c)!==null)I=!0,ce(B);else{var we=n(d);we!==null&&De(N,we.startTime-se)}}function B(se,we){I=!1,b&&(b=!1,k(H),H=-1),E=!0;var me=g;try{for(O(we),m=n(c);m!==null&&(!(m.expirationTime>we)||se&&!Q());){var dt=m.callback;if(typeof dt=="function"){m.callback=null,g=m.priorityLevel;var We=dt(m.expirationTime<=we);we=t.unstable_now(),typeof We=="function"?m.callback=We:m===n(c)&&i(c),O(we)}else i(c);m=n(c)}if(m!==null)var Zn=!0;else{var Sn=n(d);Sn!==null&&De(N,Sn.startTime-we),Zn=!1}return Zn}finally{m=null,g=me,E=!1}}var q=!1,$=null,H=-1,K=5,G=-1;function Q(){return!(t.unstable_now()-G<K)}function ie(){if($!==null){var se=t.unstable_now();G=se;var we=!0;try{we=$(!0,se)}finally{we?he():(q=!1,$=null)}}else q=!1}var he;if(typeof P=="function")he=function(){P(ie)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Ie=$e.port2;$e.port1.onmessage=ie,he=function(){Ie.postMessage(null)}}else he=function(){x(ie,0)};function ce(se){$=se,q||(q=!0,he())}function De(se,we){H=x(function(){se(t.unstable_now())},we)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){I||E||(I=!0,ce(B))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(se){switch(g){case 1:case 2:case 3:var we=3;break;default:we=g}var me=g;g=we;try{return se()}finally{g=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,we){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var me=g;g=se;try{return we()}finally{g=me}},t.unstable_scheduleCallback=function(se,we,me){var dt=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?dt+me:dt):me=dt,se){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=me+We,se={id:f++,callback:we,priorityLevel:se,startTime:me,expirationTime:We,sortIndex:-1},me>dt?(se.sortIndex=me,e(d,se),n(c)===null&&se===n(d)&&(b?(k(H),H=-1):b=!0,De(N,me-dt))):(se.sortIndex=We,e(c,se),I||E||(I=!0,ce(B))),se},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(se){var we=g;return function(){var me=g;g=we;try{return se.apply(this,arguments)}finally{g=me}}}})($N);(function(t){t.exports=$N})(VN);var HN=mt.exports,fr=VN.exports;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zN=new Set,qp={};function Cl(t,e){Cd(t,e),Cd(t+"Capture",e)}function Cd(t,e){for(qp[t]=e,t=0;t<e.length;t++)zN.add(e[t])}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i1=Object.prototype.hasOwnProperty,T$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dR={},hR={};function b$(t){return i1.call(hR,t)?!0:i1.call(dR,t)?!1:T$.test(t)?hR[t]=!0:(dR[t]=!0,!1)}function w$(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S$(t,e,n,i){if(e===null||typeof e>"u"||w$(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pi(t,e,n,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qn[t]=new Pi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qn[e]=new Pi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qn[t]=new Pi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qn[t]=new Pi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qn[t]=new Pi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qn[t]=new Pi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qn[t]=new Pi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qn[t]=new Pi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qn[t]=new Pi(t,5,!1,t.toLowerCase(),null,!1,!1)});var hx=/[\-:]([a-z])/g;function fx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hx,fx);Qn[e]=new Pi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hx,fx);Qn[e]=new Pi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hx,fx);Qn[e]=new Pi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qn[t]=new Pi(t,1,!1,t.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new Pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qn[t]=new Pi(t,1,!1,t.toLowerCase(),null,!0,!0)});function px(t,e,n,i){var r=Qn.hasOwnProperty(e)?Qn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S$(e,n,r,i)&&(n=null),i||r===null?b$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ka=HN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ny=Symbol.for("react.element"),Gc=Symbol.for("react.portal"),Kc=Symbol.for("react.fragment"),mx=Symbol.for("react.strict_mode"),r1=Symbol.for("react.profiler"),qN=Symbol.for("react.provider"),WN=Symbol.for("react.context"),gx=Symbol.for("react.forward_ref"),s1=Symbol.for("react.suspense"),a1=Symbol.for("react.suspense_list"),vx=Symbol.for("react.memo"),Eo=Symbol.for("react.lazy"),GN=Symbol.for("react.offscreen"),fR=Symbol.iterator;function Vf(t){return t===null||typeof t!="object"?null:(t=fR&&t[fR]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Object.assign,Mw;function op(t){if(Mw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mw=e&&e[1]||""}return`
`+Mw+t}var Fw=!1;function Uw(t,e){if(!t||Fw)return"";Fw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){i=d}t.call(e.prototype)}else{try{throw Error()}catch(d){i=d}t()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,u=s.length-1;1<=a&&0<=u&&r[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||r[a]!==s[u]){var c=`
`+r[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{Fw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?op(t):""}function E$(t){switch(t.tag){case 5:return op(t.type);case 16:return op("Lazy");case 13:return op("Suspense");case 19:return op("SuspenseList");case 0:case 2:case 15:return t=Uw(t.type,!1),t;case 11:return t=Uw(t.type.render,!1),t;case 1:return t=Uw(t.type,!0),t;default:return""}}function o1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kc:return"Fragment";case Gc:return"Portal";case r1:return"Profiler";case mx:return"StrictMode";case s1:return"Suspense";case a1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WN:return(t.displayName||"Context")+".Consumer";case qN:return(t._context.displayName||"Context")+".Provider";case gx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vx:return e=t.displayName||null,e!==null?e:o1(t.type)||"Memo";case Eo:e=t._payload,t=t._init;try{return o1(t(e))}catch{}}return null}function x$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return o1(e);case 8:return e===mx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ho(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function C$(t){var e=KN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iy(t){t._valueTracker||(t._valueTracker=C$(t))}function XN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=KN(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function c0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function u1(t,e){var n=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pR(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ho(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YN(t,e){e=e.checked,e!=null&&px(t,"checked",e,!1)}function l1(t,e){YN(t,e);var n=Ho(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?c1(t,e.type,n):e.hasOwnProperty("defaultValue")&&c1(t,e.type,Ho(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function c1(t,e,n){(e!=="number"||c0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var up=Array.isArray;function dd(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ho(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function d1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(up(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ho(n)}}function QN(t,e){var n=Ho(e.value),i=Ho(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function vR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function h1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ry,ZN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ry=ry||document.createElement("div"),ry.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ry.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I$=["Webkit","ms","Moz","O"];Object.keys(Sp).forEach(function(t){I$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sp[e]=Sp[t]})});function eM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sp.hasOwnProperty(t)&&Sp[t]?(""+e).trim():e+"px"}function tM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=eM(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var k$=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function f1(t,e){if(e){if(k$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function p1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m1=null;function yx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var g1=null,hd=null,fd=null;function yR(t){if(t=Bm(t)){if(typeof g1!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=N_(e),g1(t.stateNode,t.type,e))}}function nM(t){hd?fd?fd.push(t):fd=[t]:hd=t}function iM(){if(hd){var t=hd,e=fd;if(fd=hd=null,yR(t),e)for(t=0;t<e.length;t++)yR(e[t])}}function rM(t,e){return t(e)}function sM(){}var Bw=!1;function aM(t,e,n){if(Bw)return t(e,n);Bw=!0;try{return rM(t,e,n)}finally{Bw=!1,(hd!==null||fd!==null)&&(sM(),iM())}}function Gp(t,e){var n=t.stateNode;if(n===null)return null;var i=N_(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var v1=!1;if(La)try{var $f={};Object.defineProperty($f,"passive",{get:function(){v1=!0}}),window.addEventListener("test",$f,$f),window.removeEventListener("test",$f,$f)}catch{v1=!1}function A$(t,e,n,i,r,s,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Ep=!1,d0=null,h0=!1,y1=null,P$={onError:function(t){Ep=!0,d0=t}};function D$(t,e,n,i,r,s,a,u,c){Ep=!1,d0=null,A$.apply(P$,arguments)}function R$(t,e,n,i,r,s,a,u,c){if(D$.apply(this,arguments),Ep){if(Ep){var d=d0;Ep=!1,d0=null}else throw Error(oe(198));h0||(h0=!0,y1=d)}}function Il(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _R(t){if(Il(t)!==t)throw Error(oe(188))}function O$(t){var e=t.alternate;if(!e){if(e=Il(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return _R(r),t;if(s===i)return _R(r),e;s=s.sibling}throw Error(oe(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=s;break}if(u===i){a=!0,i=r,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,i=r;break}if(u===i){a=!0,i=s,n=r;break}u=u.sibling}if(!a)throw Error(oe(189))}}if(n.alternate!==i)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function uM(t){return t=O$(t),t!==null?lM(t):null}function lM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lM(t);if(e!==null)return e;t=t.sibling}return null}var cM=fr.unstable_scheduleCallback,TR=fr.unstable_cancelCallback,L$=fr.unstable_shouldYield,N$=fr.unstable_requestPaint,tn=fr.unstable_now,M$=fr.unstable_getCurrentPriorityLevel,_x=fr.unstable_ImmediatePriority,dM=fr.unstable_UserBlockingPriority,f0=fr.unstable_NormalPriority,F$=fr.unstable_LowPriority,hM=fr.unstable_IdlePriority,D_=null,Us=null;function U$(t){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(D_,t,void 0,(t.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:V$,B$=Math.log,j$=Math.LN2;function V$(t){return t>>>=0,t===0?32:31-(B$(t)/j$|0)|0}var sy=64,ay=4194304;function lp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function p0(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~r;u!==0?i=lp(u):(s&=a,s!==0&&(i=lp(s)))}else a=n&~r,a!==0?i=lp(a):s!==0&&(i=lp(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-ts(e),r=1<<n,i|=t[n],e&=~r;return i}function $$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H$(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ts(s),u=1<<a,c=r[a];c===-1?(!(u&n)||u&i)&&(r[a]=$$(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function _1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fM(){var t=sy;return sy<<=1,!(sy&4194240)&&(sy=64),t}function jw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ts(e),t[e]=n}function z$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ts(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Tx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ts(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ft=0;function pM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mM,bx,gM,vM,yM,T1=!1,oy=[],Ro=null,Oo=null,Lo=null,Kp=new Map,Xp=new Map,Co=[],q$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bR(t,e){switch(t){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Kp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xp.delete(e.pointerId)}}function Hf(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Bm(e),e!==null&&bx(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function W$(t,e,n,i,r){switch(e){case"focusin":return Ro=Hf(Ro,t,e,n,i,r),!0;case"dragenter":return Oo=Hf(Oo,t,e,n,i,r),!0;case"mouseover":return Lo=Hf(Lo,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Kp.set(s,Hf(Kp.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Xp.set(s,Hf(Xp.get(s)||null,t,e,n,i,r)),!0}return!1}function _M(t){var e=Wu(t.target);if(e!==null){var n=Il(e);if(n!==null){if(e=n.tag,e===13){if(e=oM(n),e!==null){t.blockedOn=e,yM(t.priority,function(){gM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=b1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);m1=i,n.target.dispatchEvent(i),m1=null}else return e=Bm(n),e!==null&&bx(e),t.blockedOn=n,!1;e.shift()}return!0}function wR(t,e,n){jy(t)&&n.delete(e)}function G$(){T1=!1,Ro!==null&&jy(Ro)&&(Ro=null),Oo!==null&&jy(Oo)&&(Oo=null),Lo!==null&&jy(Lo)&&(Lo=null),Kp.forEach(wR),Xp.forEach(wR)}function zf(t,e){t.blockedOn===e&&(t.blockedOn=null,T1||(T1=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,G$)))}function Yp(t){function e(r){return zf(r,t)}if(0<oy.length){zf(oy[0],t);for(var n=1;n<oy.length;n++){var i=oy[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ro!==null&&zf(Ro,t),Oo!==null&&zf(Oo,t),Lo!==null&&zf(Lo,t),Kp.forEach(e),Xp.forEach(e),n=0;n<Co.length;n++)i=Co[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Co.length&&(n=Co[0],n.blockedOn===null);)_M(n),n.blockedOn===null&&Co.shift()}var pd=Ka.ReactCurrentBatchConfig,m0=!0;function K$(t,e,n,i){var r=ft,s=pd.transition;pd.transition=null;try{ft=1,wx(t,e,n,i)}finally{ft=r,pd.transition=s}}function X$(t,e,n,i){var r=ft,s=pd.transition;pd.transition=null;try{ft=4,wx(t,e,n,i)}finally{ft=r,pd.transition=s}}function wx(t,e,n,i){if(m0){var r=b1(t,e,n,i);if(r===null)Yw(t,e,i,g0,n),bR(t,i);else if(W$(r,t,e,n,i))i.stopPropagation();else if(bR(t,i),e&4&&-1<q$.indexOf(t)){for(;r!==null;){var s=Bm(r);if(s!==null&&mM(s),s=b1(t,e,n,i),s===null&&Yw(t,e,i,g0,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Yw(t,e,i,null,n)}}var g0=null;function b1(t,e,n,i){if(g0=null,t=yx(i),t=Wu(t),t!==null)if(e=Il(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return g0=t,null}function TM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M$()){case _x:return 1;case dM:return 4;case f0:case F$:return 16;case hM:return 536870912;default:return 16}default:return 16}}var Ao=null,Sx=null,Vy=null;function bM(){if(Vy)return Vy;var t,e=Sx,n=e.length,i,r="value"in Ao?Ao.value:Ao.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return Vy=r.slice(t,1<i?1-i:void 0)}function $y(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uy(){return!0}function SR(){return!1}function yr(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uy:SR,this.isPropagationStopped=SR,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uy)},persist:function(){},isPersistent:uy}),e}var ih={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ex=yr(ih),Um=$t({},ih,{view:0,detail:0}),Y$=yr(Um),Vw,$w,qf,R_=$t({},Um,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qf&&(qf&&t.type==="mousemove"?(Vw=t.screenX-qf.screenX,$w=t.screenY-qf.screenY):$w=Vw=0,qf=t),Vw)},movementY:function(t){return"movementY"in t?t.movementY:$w}}),ER=yr(R_),Q$=$t({},R_,{dataTransfer:0}),J$=yr(Q$),Z$=$t({},Um,{relatedTarget:0}),Hw=yr(Z$),eH=$t({},ih,{animationName:0,elapsedTime:0,pseudoElement:0}),tH=yr(eH),nH=$t({},ih,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iH=yr(nH),rH=$t({},ih,{data:0}),xR=yr(rH),sH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oH[t])?!!e[t]:!1}function xx(){return uH}var lH=$t({},Um,{key:function(t){if(t.key){var e=sH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$y(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xx,charCode:function(t){return t.type==="keypress"?$y(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$y(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cH=yr(lH),dH=$t({},R_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CR=yr(dH),hH=$t({},Um,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xx}),fH=yr(hH),pH=$t({},ih,{propertyName:0,elapsedTime:0,pseudoElement:0}),mH=yr(pH),gH=$t({},R_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vH=yr(gH),yH=[9,13,27,32],Cx=La&&"CompositionEvent"in window,xp=null;La&&"documentMode"in document&&(xp=document.documentMode);var _H=La&&"TextEvent"in window&&!xp,wM=La&&(!Cx||xp&&8<xp&&11>=xp),IR=String.fromCharCode(32),kR=!1;function SM(t,e){switch(t){case"keyup":return yH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xc=!1;function TH(t,e){switch(t){case"compositionend":return EM(e);case"keypress":return e.which!==32?null:(kR=!0,IR);case"textInput":return t=e.data,t===IR&&kR?null:t;default:return null}}function bH(t,e){if(Xc)return t==="compositionend"||!Cx&&SM(t,e)?(t=bM(),Vy=Sx=Ao=null,Xc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wM&&e.locale!=="ko"?null:e.data;default:return null}}var wH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wH[t.type]:e==="textarea"}function xM(t,e,n,i){nM(i),e=v0(e,"onChange"),0<e.length&&(n=new Ex("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Cp=null,Qp=null;function SH(t){MM(t,0)}function O_(t){var e=Jc(t);if(XN(e))return t}function EH(t,e){if(t==="change")return e}var CM=!1;if(La){var zw;if(La){var qw="oninput"in document;if(!qw){var PR=document.createElement("div");PR.setAttribute("oninput","return;"),qw=typeof PR.oninput=="function"}zw=qw}else zw=!1;CM=zw&&(!document.documentMode||9<document.documentMode)}function DR(){Cp&&(Cp.detachEvent("onpropertychange",IM),Qp=Cp=null)}function IM(t){if(t.propertyName==="value"&&O_(Qp)){var e=[];xM(e,Qp,t,yx(t)),aM(SH,e)}}function xH(t,e,n){t==="focusin"?(DR(),Cp=e,Qp=n,Cp.attachEvent("onpropertychange",IM)):t==="focusout"&&DR()}function CH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return O_(Qp)}function IH(t,e){if(t==="click")return O_(e)}function kH(t,e){if(t==="input"||t==="change")return O_(e)}function AH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var as=typeof Object.is=="function"?Object.is:AH;function Jp(t,e){if(as(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!i1.call(e,r)||!as(t[r],e[r]))return!1}return!0}function RR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OR(t,e){var n=RR(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RR(n)}}function kM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AM(){for(var t=window,e=c0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=c0(t.document)}return e}function Ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PH(t){var e=AM(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kM(n.ownerDocument.documentElement,n)){if(i!==null&&Ix(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=OR(n,s);var a=OR(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DH=La&&"documentMode"in document&&11>=document.documentMode,Yc=null,w1=null,Ip=null,S1=!1;function LR(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;S1||Yc==null||Yc!==c0(i)||(i=Yc,"selectionStart"in i&&Ix(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ip&&Jp(Ip,i)||(Ip=i,i=v0(w1,"onSelect"),0<i.length&&(e=new Ex("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Yc)))}function ly(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qc={animationend:ly("Animation","AnimationEnd"),animationiteration:ly("Animation","AnimationIteration"),animationstart:ly("Animation","AnimationStart"),transitionend:ly("Transition","TransitionEnd")},Ww={},PM={};La&&(PM=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function L_(t){if(Ww[t])return Ww[t];if(!Qc[t])return t;var e=Qc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PM)return Ww[t]=e[n];return t}var DM=L_("animationend"),RM=L_("animationiteration"),OM=L_("animationstart"),LM=L_("transitionend"),NM=new Map,NR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eu(t,e){NM.set(t,e),Cl(e,[t])}for(var Gw=0;Gw<NR.length;Gw++){var Kw=NR[Gw],RH=Kw.toLowerCase(),OH=Kw[0].toUpperCase()+Kw.slice(1);eu(RH,"on"+OH)}eu(DM,"onAnimationEnd");eu(RM,"onAnimationIteration");eu(OM,"onAnimationStart");eu("dblclick","onDoubleClick");eu("focusin","onFocus");eu("focusout","onBlur");eu(LM,"onTransitionEnd");Cd("onMouseEnter",["mouseout","mouseover"]);Cd("onMouseLeave",["mouseout","mouseover"]);Cd("onPointerEnter",["pointerout","pointerover"]);Cd("onPointerLeave",["pointerout","pointerover"]);Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LH=new Set("cancel close invalid load scroll toggle".split(" ").concat(cp));function MR(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,R$(i,e,void 0,t),t.currentTarget=null}function MM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&r.isPropagationStopped())break e;MR(r,u,d),s=c}else for(a=0;a<i.length;a++){if(u=i[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&r.isPropagationStopped())break e;MR(r,u,d),s=c}}}if(h0)throw t=y1,h0=!1,y1=null,t}function Et(t,e){var n=e[k1];n===void 0&&(n=e[k1]=new Set);var i=t+"__bubble";n.has(i)||(FM(e,t,2,!1),n.add(i))}function Xw(t,e,n){var i=0;e&&(i|=4),FM(n,t,i,e)}var cy="_reactListening"+Math.random().toString(36).slice(2);function Zp(t){if(!t[cy]){t[cy]=!0,zN.forEach(function(n){n!=="selectionchange"&&(LH.has(n)||Xw(n,!1,t),Xw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cy]||(e[cy]=!0,Xw("selectionchange",!1,e))}}function FM(t,e,n,i){switch(TM(e)){case 1:var r=K$;break;case 4:r=X$;break;default:r=wx}n=r.bind(null,e,n,t),r=void 0,!v1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Yw(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;u!==null;){if(a=Wu(u),a===null)return;if(c=a.tag,c===5||c===6){i=s=a;continue e}u=u.parentNode}}i=i.return}aM(function(){var d=s,f=yx(n),m=[];e:{var g=NM.get(t);if(g!==void 0){var E=Ex,I=t;switch(t){case"keypress":if($y(n)===0)break e;case"keydown":case"keyup":E=cH;break;case"focusin":I="focus",E=Hw;break;case"focusout":I="blur",E=Hw;break;case"beforeblur":case"afterblur":E=Hw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=ER;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=J$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=fH;break;case DM:case RM:case OM:E=tH;break;case LM:E=mH;break;case"scroll":E=Y$;break;case"wheel":E=vH;break;case"copy":case"cut":case"paste":E=iH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=CR}var b=(e&4)!==0,x=!b&&t==="scroll",k=b?g!==null?g+"Capture":null:g;b=[];for(var P=d,O;P!==null;){O=P;var N=O.stateNode;if(O.tag===5&&N!==null&&(O=N,k!==null&&(N=Gp(P,k),N!=null&&b.push(em(P,N,O)))),x)break;P=P.return}0<b.length&&(g=new E(g,I,null,n,f),m.push({event:g,listeners:b}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==m1&&(I=n.relatedTarget||n.fromElement)&&(Wu(I)||I[Na]))break e;if((E||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,E?(I=n.relatedTarget||n.toElement,E=d,I=I?Wu(I):null,I!==null&&(x=Il(I),I!==x||I.tag!==5&&I.tag!==6)&&(I=null)):(E=null,I=d),E!==I)){if(b=ER,N="onMouseLeave",k="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(b=CR,N="onPointerLeave",k="onPointerEnter",P="pointer"),x=E==null?g:Jc(E),O=I==null?g:Jc(I),g=new b(N,P+"leave",E,n,f),g.target=x,g.relatedTarget=O,N=null,Wu(f)===d&&(b=new b(k,P+"enter",I,n,f),b.target=O,b.relatedTarget=x,N=b),x=N,E&&I)t:{for(b=E,k=I,P=0,O=b;O;O=Oc(O))P++;for(O=0,N=k;N;N=Oc(N))O++;for(;0<P-O;)b=Oc(b),P--;for(;0<O-P;)k=Oc(k),O--;for(;P--;){if(b===k||k!==null&&b===k.alternate)break t;b=Oc(b),k=Oc(k)}b=null}else b=null;E!==null&&FR(m,g,E,b,!1),I!==null&&x!==null&&FR(m,x,I,b,!0)}}e:{if(g=d?Jc(d):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var B=EH;else if(AR(g))if(CM)B=kH;else{B=CH;var q=xH}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(B=IH);if(B&&(B=B(t,d))){xM(m,B,n,f);break e}q&&q(t,g,d),t==="focusout"&&(q=g._wrapperState)&&q.controlled&&g.type==="number"&&c1(g,"number",g.value)}switch(q=d?Jc(d):window,t){case"focusin":(AR(q)||q.contentEditable==="true")&&(Yc=q,w1=d,Ip=null);break;case"focusout":Ip=w1=Yc=null;break;case"mousedown":S1=!0;break;case"contextmenu":case"mouseup":case"dragend":S1=!1,LR(m,n,f);break;case"selectionchange":if(DH)break;case"keydown":case"keyup":LR(m,n,f)}var $;if(Cx)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Xc?SM(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(wM&&n.locale!=="ko"&&(Xc||H!=="onCompositionStart"?H==="onCompositionEnd"&&Xc&&($=bM()):(Ao=f,Sx="value"in Ao?Ao.value:Ao.textContent,Xc=!0)),q=v0(d,H),0<q.length&&(H=new xR(H,t,null,n,f),m.push({event:H,listeners:q}),$?H.data=$:($=EM(n),$!==null&&(H.data=$)))),($=_H?TH(t,n):bH(t,n))&&(d=v0(d,"onBeforeInput"),0<d.length&&(f=new xR("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=$))}MM(m,e)})}function em(t,e,n){return{instance:t,listener:e,currentTarget:n}}function v0(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Gp(t,n),s!=null&&i.unshift(em(t,s,r)),s=Gp(t,e),s!=null&&i.push(em(t,s,r))),t=t.return}return i}function Oc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FR(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&d!==null&&(u=d,r?(c=Gp(n,s),c!=null&&a.unshift(em(n,c,u))):r||(c=Gp(n,s),c!=null&&a.push(em(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var NH=/\r\n?/g,MH=/\u0000|\uFFFD/g;function UR(t){return(typeof t=="string"?t:""+t).replace(NH,`
`).replace(MH,"")}function dy(t,e,n){if(e=UR(e),UR(t)!==e&&n)throw Error(oe(425))}function y0(){}var E1=null,x1=null;function C1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var I1=typeof setTimeout=="function"?setTimeout:void 0,FH=typeof clearTimeout=="function"?clearTimeout:void 0,BR=typeof Promise=="function"?Promise:void 0,UH=typeof queueMicrotask=="function"?queueMicrotask:typeof BR<"u"?function(t){return BR.resolve(null).then(t).catch(BH)}:I1;function BH(t){setTimeout(function(){throw t})}function Qw(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Yp(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Yp(e)}function No(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rh=Math.random().toString(36).slice(2),ks="__reactFiber$"+rh,tm="__reactProps$"+rh,Na="__reactContainer$"+rh,k1="__reactEvents$"+rh,jH="__reactListeners$"+rh,VH="__reactHandles$"+rh;function Wu(t){var e=t[ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Na]||n[ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jR(t);t!==null;){if(n=t[ks])return n;t=jR(t)}return e}t=n,n=t.parentNode}return null}function Bm(t){return t=t[ks]||t[Na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function N_(t){return t[tm]||null}var A1=[],Zc=-1;function tu(t){return{current:t}}function kt(t){0>Zc||(t.current=A1[Zc],A1[Zc]=null,Zc--)}function Tt(t,e){Zc++,A1[Zc]=t.current,t.current=e}var zo={},ci=tu(zo),$i=tu(!1),fl=zo;function Id(t,e){var n=t.type.contextTypes;if(!n)return zo;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Hi(t){return t=t.childContextTypes,t!=null}function _0(){kt($i),kt(ci)}function VR(t,e,n){if(ci.current!==zo)throw Error(oe(168));Tt(ci,e),Tt($i,n)}function UM(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(oe(108,x$(t)||"Unknown",r));return $t({},n,i)}function T0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zo,fl=ci.current,Tt(ci,t),Tt($i,$i.current),!0}function $R(t,e,n){var i=t.stateNode;if(!i)throw Error(oe(169));n?(t=UM(t,e,fl),i.__reactInternalMemoizedMergedChildContext=t,kt($i),kt(ci),Tt(ci,t)):kt($i),Tt($i,n)}var ya=null,M_=!1,Jw=!1;function BM(t){ya===null?ya=[t]:ya.push(t)}function $H(t){M_=!0,BM(t)}function nu(){if(!Jw&&ya!==null){Jw=!0;var t=0,e=ft;try{var n=ya;for(ft=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}ya=null,M_=!1}catch(r){throw ya!==null&&(ya=ya.slice(t+1)),cM(_x,nu),r}finally{ft=e,Jw=!1}}return null}var ed=[],td=0,b0=null,w0=0,Er=[],xr=0,pl=null,ba=1,wa="";function Vu(t,e){ed[td++]=w0,ed[td++]=b0,b0=t,w0=e}function jM(t,e,n){Er[xr++]=ba,Er[xr++]=wa,Er[xr++]=pl,pl=t;var i=ba;t=wa;var r=32-ts(i)-1;i&=~(1<<r),n+=1;var s=32-ts(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,ba=1<<32-ts(e)+r|n<<r|i,wa=s+t}else ba=1<<s|n<<r|i,wa=t}function kx(t){t.return!==null&&(Vu(t,1),jM(t,1,0))}function Ax(t){for(;t===b0;)b0=ed[--td],ed[td]=null,w0=ed[--td],ed[td]=null;for(;t===pl;)pl=Er[--xr],Er[xr]=null,wa=Er[--xr],Er[xr]=null,ba=Er[--xr],Er[xr]=null}var dr=null,ur=null,Mt=!1,Jr=null;function VM(t,e){var n=Cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function HR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,ur=No(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pl!==null?{id:ba,overflow:wa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,ur=null,!0):!1;default:return!1}}function P1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function D1(t){if(Mt){var e=ur;if(e){var n=e;if(!HR(t,e)){if(P1(t))throw Error(oe(418));e=No(n.nextSibling);var i=dr;e&&HR(t,e)?VM(i,n):(t.flags=t.flags&-4097|2,Mt=!1,dr=t)}}else{if(P1(t))throw Error(oe(418));t.flags=t.flags&-4097|2,Mt=!1,dr=t}}}function zR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function hy(t){if(t!==dr)return!1;if(!Mt)return zR(t),Mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!C1(t.type,t.memoizedProps)),e&&(e=ur)){if(P1(t))throw $M(),Error(oe(418));for(;e;)VM(t,e),e=No(e.nextSibling)}if(zR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ur=No(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ur=null}}else ur=dr?No(t.stateNode.nextSibling):null;return!0}function $M(){for(var t=ur;t;)t=No(t.nextSibling)}function kd(){ur=dr=null,Mt=!1}function Px(t){Jr===null?Jr=[t]:Jr.push(t)}var HH=Ka.ReactCurrentBatchConfig;function Yr(t,e){if(t&&t.defaultProps){e=$t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var S0=tu(null),E0=null,nd=null,Dx=null;function Rx(){Dx=nd=E0=null}function Ox(t){var e=S0.current;kt(S0),t._currentValue=e}function R1(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function md(t,e){E0=t,Dx=nd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vi=!0),t.firstContext=null)}function Pr(t){var e=t._currentValue;if(Dx!==t)if(t={context:t,memoizedValue:e,next:null},nd===null){if(E0===null)throw Error(oe(308));nd=t,E0.dependencies={lanes:0,firstContext:t}}else nd=nd.next=t;return e}var Gu=null;function Lx(t){Gu===null?Gu=[t]:Gu.push(t)}function HM(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Lx(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ma(t,i)}function Ma(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xo=!1;function Nx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ca(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mo(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,nt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ma(t,n)}return r=i.interleaved,r===null?(e.next=e,Lx(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ma(t,n)}function Hy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Tx(t,n)}}function qR(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function x0(t,e,n,i){var r=t.updateQueue;xo=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==a&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(s!==null){var m=r.baseState;a=0,f=d=c=null,u=s;do{var g=u.lane,E=u.eventTime;if((i&g)===g){f!==null&&(f=f.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var I=t,b=u;switch(g=e,E=n,b.tag){case 1:if(I=b.payload,typeof I=="function"){m=I.call(E,m,g);break e}m=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=b.payload,g=typeof I=="function"?I.call(E,m,g):I,g==null)break e;m=$t({},m,g);break e;case 2:xo=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=r.effects,g===null?r.effects=[u]:g.push(u))}else E={eventTime:E,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=E,c=m):f=f.next=E,a|=g;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;g=u,u=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(1);if(f===null&&(c=m),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);gl|=a,t.lanes=a,t.memoizedState=m}}function WR(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(oe(191,r));r.call(i)}}}var qM=new HN.Component().refs;function O1(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:$t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var F_={isMounted:function(t){return(t=t._reactInternals)?Il(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ii(),r=Uo(t),s=Ca(i,r);s.payload=e,n!=null&&(s.callback=n),e=Mo(t,s,r),e!==null&&(ns(e,t,r,i),Hy(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ii(),r=Uo(t),s=Ca(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Mo(t,s,r),e!==null&&(ns(e,t,r,i),Hy(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ii(),i=Uo(t),r=Ca(n,i);r.tag=2,e!=null&&(r.callback=e),e=Mo(t,r,i),e!==null&&(ns(e,t,i,n),Hy(e,t,i))}};function GR(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Jp(n,i)||!Jp(r,s):!0}function WM(t,e,n){var i=!1,r=zo,s=e.contextType;return typeof s=="object"&&s!==null?s=Pr(s):(r=Hi(e)?fl:ci.current,i=e.contextTypes,s=(i=i!=null)?Id(t,r):zo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=F_,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function KR(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&F_.enqueueReplaceState(e,e.state,null)}function L1(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=qM,Nx(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Pr(s):(s=Hi(e)?fl:ci.current,r.context=Id(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(O1(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&F_.enqueueReplaceState(r,r.state,null),x0(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Wf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var i=n.stateNode}if(!i)throw Error(oe(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=r.refs;u===qM&&(u=r.refs={}),a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function fy(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function XR(t){var e=t._init;return e(t._payload)}function GM(t){function e(k,P){if(t){var O=k.deletions;O===null?(k.deletions=[P],k.flags|=16):O.push(P)}}function n(k,P){if(!t)return null;for(;P!==null;)e(k,P),P=P.sibling;return null}function i(k,P){for(k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function r(k,P){return k=Bo(k,P),k.index=0,k.sibling=null,k}function s(k,P,O){return k.index=O,t?(O=k.alternate,O!==null?(O=O.index,O<P?(k.flags|=2,P):O):(k.flags|=2,P)):(k.flags|=1048576,P)}function a(k){return t&&k.alternate===null&&(k.flags|=2),k}function u(k,P,O,N){return P===null||P.tag!==6?(P=sS(O,k.mode,N),P.return=k,P):(P=r(P,O),P.return=k,P)}function c(k,P,O,N){var B=O.type;return B===Kc?f(k,P,O.props.children,N,O.key):P!==null&&(P.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Eo&&XR(B)===P.type)?(N=r(P,O.props),N.ref=Wf(k,P,O),N.return=k,N):(N=Xy(O.type,O.key,O.props,null,k.mode,N),N.ref=Wf(k,P,O),N.return=k,N)}function d(k,P,O,N){return P===null||P.tag!==4||P.stateNode.containerInfo!==O.containerInfo||P.stateNode.implementation!==O.implementation?(P=aS(O,k.mode,N),P.return=k,P):(P=r(P,O.children||[]),P.return=k,P)}function f(k,P,O,N,B){return P===null||P.tag!==7?(P=nl(O,k.mode,N,B),P.return=k,P):(P=r(P,O),P.return=k,P)}function m(k,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return P=sS(""+P,k.mode,O),P.return=k,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ny:return O=Xy(P.type,P.key,P.props,null,k.mode,O),O.ref=Wf(k,null,P),O.return=k,O;case Gc:return P=aS(P,k.mode,O),P.return=k,P;case Eo:var N=P._init;return m(k,N(P._payload),O)}if(up(P)||Vf(P))return P=nl(P,k.mode,O,null),P.return=k,P;fy(k,P)}return null}function g(k,P,O,N){var B=P!==null?P.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return B!==null?null:u(k,P,""+O,N);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ny:return O.key===B?c(k,P,O,N):null;case Gc:return O.key===B?d(k,P,O,N):null;case Eo:return B=O._init,g(k,P,B(O._payload),N)}if(up(O)||Vf(O))return B!==null?null:f(k,P,O,N,null);fy(k,O)}return null}function E(k,P,O,N,B){if(typeof N=="string"&&N!==""||typeof N=="number")return k=k.get(O)||null,u(P,k,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ny:return k=k.get(N.key===null?O:N.key)||null,c(P,k,N,B);case Gc:return k=k.get(N.key===null?O:N.key)||null,d(P,k,N,B);case Eo:var q=N._init;return E(k,P,O,q(N._payload),B)}if(up(N)||Vf(N))return k=k.get(O)||null,f(P,k,N,B,null);fy(P,N)}return null}function I(k,P,O,N){for(var B=null,q=null,$=P,H=P=0,K=null;$!==null&&H<O.length;H++){$.index>H?(K=$,$=null):K=$.sibling;var G=g(k,$,O[H],N);if(G===null){$===null&&($=K);break}t&&$&&G.alternate===null&&e(k,$),P=s(G,P,H),q===null?B=G:q.sibling=G,q=G,$=K}if(H===O.length)return n(k,$),Mt&&Vu(k,H),B;if($===null){for(;H<O.length;H++)$=m(k,O[H],N),$!==null&&(P=s($,P,H),q===null?B=$:q.sibling=$,q=$);return Mt&&Vu(k,H),B}for($=i(k,$);H<O.length;H++)K=E($,k,H,O[H],N),K!==null&&(t&&K.alternate!==null&&$.delete(K.key===null?H:K.key),P=s(K,P,H),q===null?B=K:q.sibling=K,q=K);return t&&$.forEach(function(Q){return e(k,Q)}),Mt&&Vu(k,H),B}function b(k,P,O,N){var B=Vf(O);if(typeof B!="function")throw Error(oe(150));if(O=B.call(O),O==null)throw Error(oe(151));for(var q=B=null,$=P,H=P=0,K=null,G=O.next();$!==null&&!G.done;H++,G=O.next()){$.index>H?(K=$,$=null):K=$.sibling;var Q=g(k,$,G.value,N);if(Q===null){$===null&&($=K);break}t&&$&&Q.alternate===null&&e(k,$),P=s(Q,P,H),q===null?B=Q:q.sibling=Q,q=Q,$=K}if(G.done)return n(k,$),Mt&&Vu(k,H),B;if($===null){for(;!G.done;H++,G=O.next())G=m(k,G.value,N),G!==null&&(P=s(G,P,H),q===null?B=G:q.sibling=G,q=G);return Mt&&Vu(k,H),B}for($=i(k,$);!G.done;H++,G=O.next())G=E($,k,H,G.value,N),G!==null&&(t&&G.alternate!==null&&$.delete(G.key===null?H:G.key),P=s(G,P,H),q===null?B=G:q.sibling=G,q=G);return t&&$.forEach(function(ie){return e(k,ie)}),Mt&&Vu(k,H),B}function x(k,P,O,N){if(typeof O=="object"&&O!==null&&O.type===Kc&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case ny:e:{for(var B=O.key,q=P;q!==null;){if(q.key===B){if(B=O.type,B===Kc){if(q.tag===7){n(k,q.sibling),P=r(q,O.props.children),P.return=k,k=P;break e}}else if(q.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Eo&&XR(B)===q.type){n(k,q.sibling),P=r(q,O.props),P.ref=Wf(k,q,O),P.return=k,k=P;break e}n(k,q);break}else e(k,q);q=q.sibling}O.type===Kc?(P=nl(O.props.children,k.mode,N,O.key),P.return=k,k=P):(N=Xy(O.type,O.key,O.props,null,k.mode,N),N.ref=Wf(k,P,O),N.return=k,k=N)}return a(k);case Gc:e:{for(q=O.key;P!==null;){if(P.key===q)if(P.tag===4&&P.stateNode.containerInfo===O.containerInfo&&P.stateNode.implementation===O.implementation){n(k,P.sibling),P=r(P,O.children||[]),P.return=k,k=P;break e}else{n(k,P);break}else e(k,P);P=P.sibling}P=aS(O,k.mode,N),P.return=k,k=P}return a(k);case Eo:return q=O._init,x(k,P,q(O._payload),N)}if(up(O))return I(k,P,O,N);if(Vf(O))return b(k,P,O,N);fy(k,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,P!==null&&P.tag===6?(n(k,P.sibling),P=r(P,O),P.return=k,k=P):(n(k,P),P=sS(O,k.mode,N),P.return=k,k=P),a(k)):n(k,P)}return x}var Ad=GM(!0),KM=GM(!1),jm={},Bs=tu(jm),nm=tu(jm),im=tu(jm);function Ku(t){if(t===jm)throw Error(oe(174));return t}function Mx(t,e){switch(Tt(im,e),Tt(nm,t),Tt(Bs,jm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:h1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=h1(e,t)}kt(Bs),Tt(Bs,e)}function Pd(){kt(Bs),kt(nm),kt(im)}function XM(t){Ku(im.current);var e=Ku(Bs.current),n=h1(e,t.type);e!==n&&(Tt(nm,t),Tt(Bs,n))}function Fx(t){nm.current===t&&(kt(Bs),kt(nm))}var Bt=tu(0);function C0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zw=[];function Ux(){for(var t=0;t<Zw.length;t++)Zw[t]._workInProgressVersionPrimary=null;Zw.length=0}var zy=Ka.ReactCurrentDispatcher,eS=Ka.ReactCurrentBatchConfig,ml=0,jt=null,gn=null,An=null,I0=!1,kp=!1,rm=0,zH=0;function ei(){throw Error(oe(321))}function Bx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!as(t[n],e[n]))return!1;return!0}function jx(t,e,n,i,r,s){if(ml=s,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zy.current=t===null||t.memoizedState===null?KH:XH,t=n(i,r),kp){s=0;do{if(kp=!1,rm=0,25<=s)throw Error(oe(301));s+=1,An=gn=null,e.updateQueue=null,zy.current=YH,t=n(i,r)}while(kp)}if(zy.current=k0,e=gn!==null&&gn.next!==null,ml=0,An=gn=jt=null,I0=!1,e)throw Error(oe(300));return t}function Vx(){var t=rm!==0;return rm=0,t}function xs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?jt.memoizedState=An=t:An=An.next=t,An}function Dr(){if(gn===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=gn.next;var e=An===null?jt.memoizedState:An.next;if(e!==null)An=e,gn=t;else{if(t===null)throw Error(oe(310));gn=t,t={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},An===null?jt.memoizedState=An=t:An=An.next=t}return An}function sm(t,e){return typeof e=="function"?e(t):e}function tS(t){var e=Dr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var i=gn,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var u=a=null,c=null,d=s;do{var f=d.lane;if((ml&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:t(i,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,a=i):c=c.next=m,jt.lanes|=f,gl|=f}d=d.next}while(d!==null&&d!==s);c===null?a=i:c.next=u,as(i,e.memoizedState)||(Vi=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,jt.lanes|=s,gl|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nS(t){var e=Dr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);as(s,e.memoizedState)||(Vi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function YM(){}function QM(t,e){var n=jt,i=Dr(),r=e(),s=!as(i.memoizedState,r);if(s&&(i.memoizedState=r,Vi=!0),i=i.queue,$x(eF.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,am(9,ZM.bind(null,n,i,r,e),void 0,null),Dn===null)throw Error(oe(349));ml&30||JM(n,e,r)}return r}function JM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZM(t,e,n,i){e.value=n,e.getSnapshot=i,tF(e)&&nF(t)}function eF(t,e,n){return n(function(){tF(e)&&nF(t)})}function tF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!as(t,n)}catch{return!0}}function nF(t){var e=Ma(t,1);e!==null&&ns(e,t,1,-1)}function YR(t){var e=xs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sm,lastRenderedState:t},e.queue=t,t=t.dispatch=GH.bind(null,jt,t),[e.memoizedState,t]}function am(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function iF(){return Dr().memoizedState}function qy(t,e,n,i){var r=xs();jt.flags|=t,r.memoizedState=am(1|e,n,void 0,i===void 0?null:i)}function U_(t,e,n,i){var r=Dr();i=i===void 0?null:i;var s=void 0;if(gn!==null){var a=gn.memoizedState;if(s=a.destroy,i!==null&&Bx(i,a.deps)){r.memoizedState=am(e,n,s,i);return}}jt.flags|=t,r.memoizedState=am(1|e,n,s,i)}function QR(t,e){return qy(8390656,8,t,e)}function $x(t,e){return U_(2048,8,t,e)}function rF(t,e){return U_(4,2,t,e)}function sF(t,e){return U_(4,4,t,e)}function aF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oF(t,e,n){return n=n!=null?n.concat([t]):null,U_(4,4,aF.bind(null,e,t),n)}function Hx(){}function uF(t,e){var n=Dr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Bx(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function lF(t,e){var n=Dr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Bx(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function cF(t,e,n){return ml&21?(as(n,e)||(n=fM(),jt.lanes|=n,gl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vi=!0),t.memoizedState=n)}function qH(t,e){var n=ft;ft=n!==0&&4>n?n:4,t(!0);var i=eS.transition;eS.transition={};try{t(!1),e()}finally{ft=n,eS.transition=i}}function dF(){return Dr().memoizedState}function WH(t,e,n){var i=Uo(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},hF(t))fF(e,n);else if(n=HM(t,e,n,i),n!==null){var r=Ii();ns(n,t,i,r),pF(n,e,i)}}function GH(t,e,n){var i=Uo(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(hF(t))fF(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(r.hasEagerState=!0,r.eagerState=u,as(u,a)){var c=e.interleaved;c===null?(r.next=r,Lx(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=HM(t,e,r,i),n!==null&&(r=Ii(),ns(n,t,i,r),pF(n,e,i))}}function hF(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function fF(t,e){kp=I0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pF(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Tx(t,n)}}var k0={readContext:Pr,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},KH={readContext:Pr,useCallback:function(t,e){return xs().memoizedState=[t,e===void 0?null:e],t},useContext:Pr,useEffect:QR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qy(4194308,4,aF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qy(4194308,4,t,e)},useInsertionEffect:function(t,e){return qy(4,2,t,e)},useMemo:function(t,e){var n=xs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=xs();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=WH.bind(null,jt,t),[i.memoizedState,t]},useRef:function(t){var e=xs();return t={current:t},e.memoizedState=t},useState:YR,useDebugValue:Hx,useDeferredValue:function(t){return xs().memoizedState=t},useTransition:function(){var t=YR(!1),e=t[0];return t=qH.bind(null,t[1]),xs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=jt,r=xs();if(Mt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Dn===null)throw Error(oe(349));ml&30||JM(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,QR(eF.bind(null,i,s,t),[t]),i.flags|=2048,am(9,ZM.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=xs(),e=Dn.identifierPrefix;if(Mt){var n=wa,i=ba;n=(i&~(1<<32-ts(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=rm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XH={readContext:Pr,useCallback:uF,useContext:Pr,useEffect:$x,useImperativeHandle:oF,useInsertionEffect:rF,useLayoutEffect:sF,useMemo:lF,useReducer:tS,useRef:iF,useState:function(){return tS(sm)},useDebugValue:Hx,useDeferredValue:function(t){var e=Dr();return cF(e,gn.memoizedState,t)},useTransition:function(){var t=tS(sm)[0],e=Dr().memoizedState;return[t,e]},useMutableSource:YM,useSyncExternalStore:QM,useId:dF,unstable_isNewReconciler:!1},YH={readContext:Pr,useCallback:uF,useContext:Pr,useEffect:$x,useImperativeHandle:oF,useInsertionEffect:rF,useLayoutEffect:sF,useMemo:lF,useReducer:nS,useRef:iF,useState:function(){return nS(sm)},useDebugValue:Hx,useDeferredValue:function(t){var e=Dr();return gn===null?e.memoizedState=t:cF(e,gn.memoizedState,t)},useTransition:function(){var t=nS(sm)[0],e=Dr().memoizedState;return[t,e]},useMutableSource:YM,useSyncExternalStore:QM,useId:dF,unstable_isNewReconciler:!1};function Dd(t,e){try{var n="",i=e;do n+=E$(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function iS(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function N1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QH=typeof WeakMap=="function"?WeakMap:Map;function mF(t,e,n){n=Ca(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){P0||(P0=!0,q1=i),N1(t,e)},n}function gF(t,e,n){n=Ca(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){N1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){N1(t,e),typeof i!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function JR(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new QH;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=d7.bind(null,t,e,n),e.then(t,t))}function ZR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eO(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ca(-1,1),e.tag=2,Mo(n,e,1))),n.lanes|=1),t)}var JH=Ka.ReactCurrentOwner,Vi=!1;function _i(t,e,n,i){e.child=t===null?KM(e,null,n,i):Ad(e,t.child,n,i)}function tO(t,e,n,i,r){n=n.render;var s=e.ref;return md(e,r),i=jx(t,e,n,i,s,r),n=Vx(),t!==null&&!Vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Fa(t,e,r)):(Mt&&n&&kx(e),e.flags|=1,_i(t,e,i,r),e.child)}function nO(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Qx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vF(t,e,s,i,r)):(t=Xy(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Jp,n(a,i)&&t.ref===e.ref)return Fa(t,e,r)}return e.flags|=1,t=Bo(s,i),t.ref=e.ref,t.return=e,e.child=t}function vF(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Jp(s,i)&&t.ref===e.ref)if(Vi=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Vi=!0);else return e.lanes=t.lanes,Fa(t,e,r)}return M1(t,e,n,i,r)}function yF(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(rd,sr),sr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(rd,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Tt(rd,sr),sr|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Tt(rd,sr),sr|=i;return _i(t,e,r,n),e.child}function _F(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function M1(t,e,n,i,r){var s=Hi(n)?fl:ci.current;return s=Id(e,s),md(e,r),n=jx(t,e,n,i,s,r),i=Vx(),t!==null&&!Vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Fa(t,e,r)):(Mt&&i&&kx(e),e.flags|=1,_i(t,e,n,r),e.child)}function iO(t,e,n,i,r){if(Hi(n)){var s=!0;T0(e)}else s=!1;if(md(e,r),e.stateNode===null)Wy(t,e),WM(e,n,i),L1(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Pr(d):(d=Hi(n)?fl:ci.current,d=Id(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||c!==d)&&KR(e,a,i,d),xo=!1;var g=e.memoizedState;a.state=g,x0(e,i,a,r),c=e.memoizedState,u!==i||g!==c||$i.current||xo?(typeof f=="function"&&(O1(e,n,f,i),c=e.memoizedState),(u=xo||GR(e,n,u,i,g,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=d,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,zM(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Yr(e.type,u),a.props=d,m=e.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pr(c):(c=Hi(n)?fl:ci.current,c=Id(e,c));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||g!==c)&&KR(e,a,i,c),xo=!1,g=e.memoizedState,a.state=g,x0(e,i,a,r);var I=e.memoizedState;u!==m||g!==I||$i.current||xo?(typeof E=="function"&&(O1(e,n,E,i),I=e.memoizedState),(d=xo||GR(e,n,d,i,g,I,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,I,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,I,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=I),a.props=i,a.state=I,a.context=c,i=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return F1(t,e,n,i,s,r)}function F1(t,e,n,i,r,s){_F(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&$R(e,n,!1),Fa(t,e,s);i=e.stateNode,JH.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Ad(e,t.child,null,s),e.child=Ad(e,null,u,s)):_i(t,e,u,s),e.memoizedState=i.state,r&&$R(e,n,!0),e.child}function TF(t){var e=t.stateNode;e.pendingContext?VR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VR(t,e.context,!1),Mx(t,e.containerInfo)}function rO(t,e,n,i,r){return kd(),Px(r),e.flags|=256,_i(t,e,n,i),e.child}var U1={dehydrated:null,treeContext:null,retryLane:0};function B1(t){return{baseLanes:t,cachePool:null,transitions:null}}function bF(t,e,n){var i=e.pendingProps,r=Bt.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Tt(Bt,r&1),t===null)return D1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=V_(a,i,0,null),t=nl(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=B1(n),e.memoizedState=U1,t):zx(e,a));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return ZH(t,e,a,i,u,r,n);if(s){s=i.fallback,a=e.mode,r=t.child,u=r.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Bo(r,c),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?s=Bo(u,s):(s=nl(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?B1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=U1,i}return s=t.child,t=s.sibling,i=Bo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function zx(t,e){return e=V_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function py(t,e,n,i){return i!==null&&Px(i),Ad(e,t.child,null,n),t=zx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZH(t,e,n,i,r,s,a){if(n)return e.flags&256?(e.flags&=-257,i=iS(Error(oe(422))),py(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=V_({mode:"visible",children:i.children},r,0,null),s=nl(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ad(e,t.child,null,a),e.child.memoizedState=B1(a),e.memoizedState=U1,s);if(!(e.mode&1))return py(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,s=Error(oe(419)),i=iS(s,i,void 0),py(t,e,a,i)}if(u=(a&t.childLanes)!==0,Vi||u){if(i=Dn,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ma(t,r),ns(i,t,r,-1))}return Yx(),i=iS(Error(oe(421))),py(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=h7.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,ur=No(r.nextSibling),dr=e,Mt=!0,Jr=null,t!==null&&(Er[xr++]=ba,Er[xr++]=wa,Er[xr++]=pl,ba=t.id,wa=t.overflow,pl=e),e=zx(e,i.children),e.flags|=4096,e)}function sO(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),R1(t.return,e,n)}function rS(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function wF(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(_i(t,e,i.children,n),i=Bt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sO(t,n,e);else if(t.tag===19)sO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Tt(Bt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&C0(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),rS(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&C0(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}rS(e,!0,n,null,s);break;case"together":rS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Bo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function e7(t,e,n){switch(e.tag){case 3:TF(e),kd();break;case 5:XM(e);break;case 1:Hi(e.type)&&T0(e);break;case 4:Mx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Tt(S0,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Tt(Bt,Bt.current&1),e.flags|=128,null):n&e.child.childLanes?bF(t,e,n):(Tt(Bt,Bt.current&1),t=Fa(t,e,n),t!==null?t.sibling:null);Tt(Bt,Bt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return wF(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tt(Bt,Bt.current),i)break;return null;case 22:case 23:return e.lanes=0,yF(t,e,n)}return Fa(t,e,n)}var SF,j1,EF,xF;SF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};j1=function(){};EF=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Ku(Bs.current);var s=null;switch(n){case"input":r=u1(t,r),i=u1(t,i),s=[];break;case"select":r=$t({},r,{value:void 0}),i=$t({},i,{value:void 0}),s=[];break;case"textarea":r=d1(t,r),i=d1(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=y0)}f1(n,i);var a;n=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qp.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(u=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qp.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Et("scroll",t),s||u===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};xF=function(t,e,n,i){n!==i&&(e.flags|=4)};function Gf(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ti(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function t7(t,e,n){var i=e.pendingProps;switch(Ax(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(e),null;case 1:return Hi(e.type)&&_0(),ti(e),null;case 3:return i=e.stateNode,Pd(),kt($i),kt(ci),Ux(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(hy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(K1(Jr),Jr=null))),j1(t,e),ti(e),null;case 5:Fx(e);var r=Ku(im.current);if(n=e.type,t!==null&&e.stateNode!=null)EF(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(oe(166));return ti(e),null}if(t=Ku(Bs.current),hy(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[ks]=e,i[tm]=s,t=(e.mode&1)!==0,n){case"dialog":Et("cancel",i),Et("close",i);break;case"iframe":case"object":case"embed":Et("load",i);break;case"video":case"audio":for(r=0;r<cp.length;r++)Et(cp[r],i);break;case"source":Et("error",i);break;case"img":case"image":case"link":Et("error",i),Et("load",i);break;case"details":Et("toggle",i);break;case"input":pR(i,s),Et("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Et("invalid",i);break;case"textarea":gR(i,s),Et("invalid",i)}f1(n,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?i.textContent!==u&&(s.suppressHydrationWarning!==!0&&dy(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&dy(i.textContent,u,t),r=["children",""+u]):qp.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Et("scroll",i)}switch(n){case"input":iy(i),mR(i,s,!0);break;case"textarea":iy(i),vR(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=y0)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script></script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[ks]=e,t[tm]=i,SF(t,e,!1,!1),e.stateNode=t;e:{switch(a=p1(n,i),n){case"dialog":Et("cancel",t),Et("close",t),r=i;break;case"iframe":case"object":case"embed":Et("load",t),r=i;break;case"video":case"audio":for(r=0;r<cp.length;r++)Et(cp[r],t);r=i;break;case"source":Et("error",t),r=i;break;case"img":case"image":case"link":Et("error",t),Et("load",t),r=i;break;case"details":Et("toggle",t),r=i;break;case"input":pR(t,i),r=u1(t,i),Et("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=$t({},i,{value:void 0}),Et("invalid",t);break;case"textarea":gR(t,i),r=d1(t,i),Et("invalid",t);break;default:r=i}f1(n,r),u=r;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?tM(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ZN(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wp(t,c):typeof c=="number"&&Wp(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qp.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Et("scroll",t):c!=null&&px(t,s,c,a))}switch(n){case"input":iy(t),mR(t,i,!1);break;case"textarea":iy(t),vR(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ho(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?dd(t,!!i.multiple,s,!1):i.defaultValue!=null&&dd(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=y0)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ti(e),null;case 6:if(t&&e.stateNode!=null)xF(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Ku(im.current),Ku(Bs.current),hy(e)){if(i=e.stateNode,n=e.memoizedProps,i[ks]=e,(s=i.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:dy(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dy(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ks]=e,e.stateNode=i}return ti(e),null;case 13:if(kt(Bt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&ur!==null&&e.mode&1&&!(e.flags&128))$M(),kd(),e.flags|=98560,s=!1;else if(s=hy(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(oe(317));s[ks]=e}else kd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ti(e),s=!1}else Jr!==null&&(K1(Jr),Jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Bt.current&1?yn===0&&(yn=3):Yx())),e.updateQueue!==null&&(e.flags|=4),ti(e),null);case 4:return Pd(),j1(t,e),t===null&&Zp(e.stateNode.containerInfo),ti(e),null;case 10:return Ox(e.type._context),ti(e),null;case 17:return Hi(e.type)&&_0(),ti(e),null;case 19:if(kt(Bt),s=e.memoizedState,s===null)return ti(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)Gf(s,!1);else{if(yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=C0(t),a!==null){for(e.flags|=128,Gf(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(Bt,Bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&tn()>Rd&&(e.flags|=128,i=!0,Gf(s,!1),e.lanes=4194304)}else{if(!i)if(t=C0(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Mt)return ti(e),null}else 2*tn()-s.renderingStartTime>Rd&&n!==1073741824&&(e.flags|=128,i=!0,Gf(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tn(),e.sibling=null,n=Bt.current,Tt(Bt,i?n&1|2:n&1),e):(ti(e),null);case 22:case 23:return Xx(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?sr&1073741824&&(ti(e),e.subtreeFlags&6&&(e.flags|=8192)):ti(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function n7(t,e){switch(Ax(e),e.tag){case 1:return Hi(e.type)&&_0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pd(),kt($i),kt(ci),Ux(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fx(e),null;case 13:if(kt(Bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));kd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kt(Bt),null;case 4:return Pd(),null;case 10:return Ox(e.type._context),null;case 22:case 23:return Xx(),null;case 24:return null;default:return null}}var my=!1,ri=!1,i7=typeof WeakSet=="function"?WeakSet:Set,ye=null;function id(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Gt(t,e,i)}else n.current=null}function V1(t,e,n){try{n()}catch(i){Gt(t,e,i)}}var aO=!1;function r7(t,e){if(E1=m0,t=AM(),Ix(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,d=0,f=0,m=t,g=null;t:for(;;){for(var E;m!==n||r!==0&&m.nodeType!==3||(u=a+r),m!==s||i!==0&&m.nodeType!==3||(c=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(E=m.firstChild)!==null;)g=m,m=E;for(;;){if(m===t)break t;if(g===n&&++d===r&&(u=a),g===s&&++f===i&&(c=a),(E=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=E}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(x1={focusedElem:t,selectionRange:n},m0=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var b=I.memoizedProps,x=I.memoizedState,k=e.stateNode,P=k.getSnapshotBeforeUpdate(e.elementType===e.type?b:Yr(e.type,b),x);k.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var O=e.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(N){Gt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return I=aO,aO=!1,I}function Ap(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&V1(e,n,s)}r=r.next}while(r!==i)}}function B_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function $1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CF(t){var e=t.alternate;e!==null&&(t.alternate=null,CF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ks],delete e[tm],delete e[k1],delete e[jH],delete e[VH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IF(t){return t.tag===5||t.tag===3||t.tag===4}function oO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function H1(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=y0));else if(i!==4&&(t=t.child,t!==null))for(H1(t,e,n),t=t.sibling;t!==null;)H1(t,e,n),t=t.sibling}function z1(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(z1(t,e,n),t=t.sibling;t!==null;)z1(t,e,n),t=t.sibling}var Hn=null,Qr=!1;function bo(t,e,n){for(n=n.child;n!==null;)kF(t,e,n),n=n.sibling}function kF(t,e,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(D_,n)}catch{}switch(n.tag){case 5:ri||id(n,e);case 6:var i=Hn,r=Qr;Hn=null,bo(t,e,n),Hn=i,Qr=r,Hn!==null&&(Qr?(t=Hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Hn.removeChild(n.stateNode));break;case 18:Hn!==null&&(Qr?(t=Hn,n=n.stateNode,t.nodeType===8?Qw(t.parentNode,n):t.nodeType===1&&Qw(t,n),Yp(t)):Qw(Hn,n.stateNode));break;case 4:i=Hn,r=Qr,Hn=n.stateNode.containerInfo,Qr=!0,bo(t,e,n),Hn=i,Qr=r;break;case 0:case 11:case 14:case 15:if(!ri&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&V1(n,e,a),r=r.next}while(r!==i)}bo(t,e,n);break;case 1:if(!ri&&(id(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){Gt(n,e,u)}bo(t,e,n);break;case 21:bo(t,e,n);break;case 22:n.mode&1?(ri=(i=ri)||n.memoizedState!==null,bo(t,e,n),ri=i):bo(t,e,n);break;default:bo(t,e,n)}}function uO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new i7),e.forEach(function(i){var r=f7.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Kr(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Hn=u.stateNode,Qr=!1;break e;case 3:Hn=u.stateNode.containerInfo,Qr=!0;break e;case 4:Hn=u.stateNode.containerInfo,Qr=!0;break e}u=u.return}if(Hn===null)throw Error(oe(160));kF(s,a,r),Hn=null,Qr=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){Gt(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AF(e,t),e=e.sibling}function AF(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kr(e,t),Es(t),i&4){try{Ap(3,t,t.return),B_(3,t)}catch(b){Gt(t,t.return,b)}try{Ap(5,t,t.return)}catch(b){Gt(t,t.return,b)}}break;case 1:Kr(e,t),Es(t),i&512&&n!==null&&id(n,n.return);break;case 5:if(Kr(e,t),Es(t),i&512&&n!==null&&id(n,n.return),t.flags&32){var r=t.stateNode;try{Wp(r,"")}catch(b){Gt(t,t.return,b)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&YN(r,s),p1(u,a);var d=p1(u,s);for(a=0;a<c.length;a+=2){var f=c[a],m=c[a+1];f==="style"?tM(r,m):f==="dangerouslySetInnerHTML"?ZN(r,m):f==="children"?Wp(r,m):px(r,f,m,d)}switch(u){case"input":l1(r,s);break;case"textarea":QN(r,s);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?dd(r,!!s.multiple,E,!1):g!==!!s.multiple&&(s.defaultValue!=null?dd(r,!!s.multiple,s.defaultValue,!0):dd(r,!!s.multiple,s.multiple?[]:"",!1))}r[tm]=s}catch(b){Gt(t,t.return,b)}}break;case 6:if(Kr(e,t),Es(t),i&4){if(t.stateNode===null)throw Error(oe(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(b){Gt(t,t.return,b)}}break;case 3:if(Kr(e,t),Es(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Yp(e.containerInfo)}catch(b){Gt(t,t.return,b)}break;case 4:Kr(e,t),Es(t);break;case 13:Kr(e,t),Es(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Gx=tn())),i&4&&uO(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ri=(d=ri)||f,Kr(e,t),ri=d):Kr(e,t),Es(t),i&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(ye=t,f=t.child;f!==null;){for(m=ye=f;ye!==null;){switch(g=ye,E=g.child,g.tag){case 0:case 11:case 14:case 15:Ap(4,g,g.return);break;case 1:id(g,g.return);var I=g.stateNode;if(typeof I.componentWillUnmount=="function"){i=g,n=g.return;try{e=i,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(b){Gt(i,n,b)}}break;case 5:id(g,g.return);break;case 22:if(g.memoizedState!==null){cO(m);continue}}E!==null?(E.return=g,ye=E):cO(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{r=m.stateNode,d?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=eM("display",a))}catch(b){Gt(t,t.return,b)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){Gt(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Kr(e,t),Es(t),i&4&&uO(t);break;case 21:break;default:Kr(e,t),Es(t)}}function Es(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IF(n)){var i=n;break e}n=n.return}throw Error(oe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Wp(r,""),i.flags&=-33);var s=oO(t);z1(t,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,u=oO(t);H1(t,u,a);break;default:throw Error(oe(161))}}catch(c){Gt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function s7(t,e,n){ye=t,PF(t)}function PF(t,e,n){for(var i=(t.mode&1)!==0;ye!==null;){var r=ye,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||my;if(!a){var u=r.alternate,c=u!==null&&u.memoizedState!==null||ri;u=my;var d=ri;if(my=a,(ri=c)&&!d)for(ye=r;ye!==null;)a=ye,c=a.child,a.tag===22&&a.memoizedState!==null?dO(r):c!==null?(c.return=a,ye=c):dO(r);for(;s!==null;)ye=s,PF(s),s=s.sibling;ye=r,my=u,ri=d}lO(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ye=s):lO(t)}}function lO(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ri||B_(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ri)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Yr(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&WR(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}WR(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Yp(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}ri||e.flags&512&&$1(e)}catch(g){Gt(e,e.return,g)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function cO(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function dO(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{B_(4,e)}catch(c){Gt(e,n,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){Gt(e,r,c)}}var s=e.return;try{$1(e)}catch(c){Gt(e,s,c)}break;case 5:var a=e.return;try{$1(e)}catch(c){Gt(e,a,c)}}}catch(c){Gt(e,e.return,c)}if(e===t){ye=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ye=u;break}ye=e.return}}var a7=Math.ceil,A0=Ka.ReactCurrentDispatcher,qx=Ka.ReactCurrentOwner,Ir=Ka.ReactCurrentBatchConfig,nt=0,Dn=null,cn=null,Gn=0,sr=0,rd=tu(0),yn=0,om=null,gl=0,j_=0,Wx=0,Pp=null,Fi=null,Gx=0,Rd=1/0,ga=null,P0=!1,q1=null,Fo=null,gy=!1,Po=null,D0=0,Dp=0,W1=null,Gy=-1,Ky=0;function Ii(){return nt&6?tn():Gy!==-1?Gy:Gy=tn()}function Uo(t){return t.mode&1?nt&2&&Gn!==0?Gn&-Gn:HH.transition!==null?(Ky===0&&(Ky=fM()),Ky):(t=ft,t!==0||(t=window.event,t=t===void 0?16:TM(t.type)),t):1}function ns(t,e,n,i){if(50<Dp)throw Dp=0,W1=null,Error(oe(185));Fm(t,n,i),(!(nt&2)||t!==Dn)&&(t===Dn&&(!(nt&2)&&(j_|=n),yn===4&&Io(t,Gn)),zi(t,i),n===1&&nt===0&&!(e.mode&1)&&(Rd=tn()+500,M_&&nu()))}function zi(t,e){var n=t.callbackNode;H$(t,e);var i=p0(t,t===Dn?Gn:0);if(i===0)n!==null&&TR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&TR(n),e===1)t.tag===0?$H(hO.bind(null,t)):BM(hO.bind(null,t)),UH(function(){!(nt&6)&&nu()}),n=null;else{switch(pM(i)){case 1:n=_x;break;case 4:n=dM;break;case 16:n=f0;break;case 536870912:n=hM;break;default:n=f0}n=UF(n,DF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DF(t,e){if(Gy=-1,Ky=0,nt&6)throw Error(oe(327));var n=t.callbackNode;if(gd()&&t.callbackNode!==n)return null;var i=p0(t,t===Dn?Gn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=R0(t,i);else{e=i;var r=nt;nt|=2;var s=OF();(Dn!==t||Gn!==e)&&(ga=null,Rd=tn()+500,tl(t,e));do try{l7();break}catch(u){RF(t,u)}while(1);Rx(),A0.current=s,nt=r,cn!==null?e=0:(Dn=null,Gn=0,e=yn)}if(e!==0){if(e===2&&(r=_1(t),r!==0&&(i=r,e=G1(t,r))),e===1)throw n=om,tl(t,0),Io(t,i),zi(t,tn()),n;if(e===6)Io(t,i);else{if(r=t.current.alternate,!(i&30)&&!o7(r)&&(e=R0(t,i),e===2&&(s=_1(t),s!==0&&(i=s,e=G1(t,s))),e===1))throw n=om,tl(t,0),Io(t,i),zi(t,tn()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(oe(345));case 2:$u(t,Fi,ga);break;case 3:if(Io(t,i),(i&130023424)===i&&(e=Gx+500-tn(),10<e)){if(p0(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Ii(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=I1($u.bind(null,t,Fi,ga),e);break}$u(t,Fi,ga);break;case 4:if(Io(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-ts(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=tn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*a7(i/1960))-i,10<i){t.timeoutHandle=I1($u.bind(null,t,Fi,ga),i);break}$u(t,Fi,ga);break;case 5:$u(t,Fi,ga);break;default:throw Error(oe(329))}}}return zi(t,tn()),t.callbackNode===n?DF.bind(null,t):null}function G1(t,e){var n=Pp;return t.current.memoizedState.isDehydrated&&(tl(t,e).flags|=256),t=R0(t,e),t!==2&&(e=Fi,Fi=n,e!==null&&K1(e)),t}function K1(t){Fi===null?Fi=t:Fi.push.apply(Fi,t)}function o7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!as(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Io(t,e){for(e&=~Wx,e&=~j_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ts(e),i=1<<n;t[n]=-1,e&=~i}}function hO(t){if(nt&6)throw Error(oe(327));gd();var e=p0(t,0);if(!(e&1))return zi(t,tn()),null;var n=R0(t,e);if(t.tag!==0&&n===2){var i=_1(t);i!==0&&(e=i,n=G1(t,i))}if(n===1)throw n=om,tl(t,0),Io(t,e),zi(t,tn()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$u(t,Fi,ga),zi(t,tn()),null}function Kx(t,e){var n=nt;nt|=1;try{return t(e)}finally{nt=n,nt===0&&(Rd=tn()+500,M_&&nu())}}function vl(t){Po!==null&&Po.tag===0&&!(nt&6)&&gd();var e=nt;nt|=1;var n=Ir.transition,i=ft;try{if(Ir.transition=null,ft=1,t)return t()}finally{ft=i,Ir.transition=n,nt=e,!(nt&6)&&nu()}}function Xx(){sr=rd.current,kt(rd)}function tl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FH(n)),cn!==null)for(n=cn.return;n!==null;){var i=n;switch(Ax(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&_0();break;case 3:Pd(),kt($i),kt(ci),Ux();break;case 5:Fx(i);break;case 4:Pd();break;case 13:kt(Bt);break;case 19:kt(Bt);break;case 10:Ox(i.type._context);break;case 22:case 23:Xx()}n=n.return}if(Dn=t,cn=t=Bo(t.current,null),Gn=sr=e,yn=0,om=null,Wx=j_=gl=0,Fi=Pp=null,Gu!==null){for(e=0;e<Gu.length;e++)if(n=Gu[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}n.pending=i}Gu=null}return t}function RF(t,e){do{var n=cn;try{if(Rx(),zy.current=k0,I0){for(var i=jt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}I0=!1}if(ml=0,An=gn=jt=null,kp=!1,rm=0,qx.current=null,n===null||n.return===null){yn=1,om=e,cn=null;break}e:{var s=t,a=n.return,u=n,c=e;if(e=Gn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=ZR(a);if(E!==null){E.flags&=-257,eO(E,a,u,s,e),E.mode&1&&JR(s,d,e),e=E,c=d;var I=e.updateQueue;if(I===null){var b=new Set;b.add(c),e.updateQueue=b}else I.add(c);break e}else{if(!(e&1)){JR(s,d,e),Yx();break e}c=Error(oe(426))}}else if(Mt&&u.mode&1){var x=ZR(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),eO(x,a,u,s,e),Px(Dd(c,u));break e}}s=c=Dd(c,u),yn!==4&&(yn=2),Pp===null?Pp=[s]:Pp.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var k=mF(s,c,e);qR(s,k);break e;case 1:u=c;var P=s.type,O=s.stateNode;if(!(s.flags&128)&&(typeof P.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Fo===null||!Fo.has(O)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=gF(s,u,e);qR(s,N);break e}}s=s.return}while(s!==null)}NF(n)}catch(B){e=B,cn===n&&n!==null&&(cn=n=n.return);continue}break}while(1)}function OF(){var t=A0.current;return A0.current=k0,t===null?k0:t}function Yx(){(yn===0||yn===3||yn===2)&&(yn=4),Dn===null||!(gl&268435455)&&!(j_&268435455)||Io(Dn,Gn)}function R0(t,e){var n=nt;nt|=2;var i=OF();(Dn!==t||Gn!==e)&&(ga=null,tl(t,e));do try{u7();break}catch(r){RF(t,r)}while(1);if(Rx(),nt=n,A0.current=i,cn!==null)throw Error(oe(261));return Dn=null,Gn=0,yn}function u7(){for(;cn!==null;)LF(cn)}function l7(){for(;cn!==null&&!L$();)LF(cn)}function LF(t){var e=FF(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?NF(t):cn=e,qx.current=null}function NF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=n7(n,e),n!==null){n.flags&=32767,cn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yn=6,cn=null;return}}else if(n=t7(n,e,sr),n!==null){cn=n;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=t}while(e!==null);yn===0&&(yn=5)}function $u(t,e,n){var i=ft,r=Ir.transition;try{Ir.transition=null,ft=1,c7(t,e,n,i)}finally{Ir.transition=r,ft=i}return null}function c7(t,e,n,i){do gd();while(Po!==null);if(nt&6)throw Error(oe(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(z$(t,s),t===Dn&&(cn=Dn=null,Gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gy||(gy=!0,UF(f0,function(){return gd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ir.transition,Ir.transition=null;var a=ft;ft=1;var u=nt;nt|=4,qx.current=null,r7(t,n),AF(n,t),PH(x1),m0=!!E1,x1=E1=null,t.current=n,s7(n),N$(),nt=u,ft=a,Ir.transition=s}else t.current=n;if(gy&&(gy=!1,Po=t,D0=r),s=t.pendingLanes,s===0&&(Fo=null),U$(n.stateNode),zi(t,tn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(P0)throw P0=!1,t=q1,q1=null,t;return D0&1&&t.tag!==0&&gd(),s=t.pendingLanes,s&1?t===W1?Dp++:(Dp=0,W1=t):Dp=0,nu(),null}function gd(){if(Po!==null){var t=pM(D0),e=Ir.transition,n=ft;try{if(Ir.transition=null,ft=16>t?16:t,Po===null)var i=!1;else{if(t=Po,Po=null,D0=0,nt&6)throw Error(oe(331));var r=nt;for(nt|=4,ye=t.current;ye!==null;){var s=ye,a=s.child;if(ye.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(ye=d;ye!==null;){var f=ye;switch(f.tag){case 0:case 11:case 15:Ap(8,f,s)}var m=f.child;if(m!==null)m.return=f,ye=m;else for(;ye!==null;){f=ye;var g=f.sibling,E=f.return;if(CF(f),f===d){ye=null;break}if(g!==null){g.return=E,ye=g;break}ye=E}}}var I=s.alternate;if(I!==null){var b=I.child;if(b!==null){I.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}ye=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ye=a;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ap(9,s,s.return)}var k=s.sibling;if(k!==null){k.return=s.return,ye=k;break e}ye=s.return}}var P=t.current;for(ye=P;ye!==null;){a=ye;var O=a.child;if(a.subtreeFlags&2064&&O!==null)O.return=a,ye=O;else e:for(a=P;ye!==null;){if(u=ye,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:B_(9,u)}}catch(B){Gt(u,u.return,B)}if(u===a){ye=null;break e}var N=u.sibling;if(N!==null){N.return=u.return,ye=N;break e}ye=u.return}}if(nt=r,nu(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(D_,t)}catch{}i=!0}return i}finally{ft=n,Ir.transition=e}}return!1}function fO(t,e,n){e=Dd(n,e),e=mF(t,e,1),t=Mo(t,e,1),e=Ii(),t!==null&&(Fm(t,1,e),zi(t,e))}function Gt(t,e,n){if(t.tag===3)fO(t,t,n);else for(;e!==null;){if(e.tag===3){fO(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fo===null||!Fo.has(i))){t=Dd(n,t),t=gF(e,t,1),e=Mo(e,t,1),t=Ii(),e!==null&&(Fm(e,1,t),zi(e,t));break}}e=e.return}}function d7(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ii(),t.pingedLanes|=t.suspendedLanes&n,Dn===t&&(Gn&n)===n&&(yn===4||yn===3&&(Gn&130023424)===Gn&&500>tn()-Gx?tl(t,0):Wx|=n),zi(t,e)}function MF(t,e){e===0&&(t.mode&1?(e=ay,ay<<=1,!(ay&130023424)&&(ay=4194304)):e=1);var n=Ii();t=Ma(t,e),t!==null&&(Fm(t,e,n),zi(t,n))}function h7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MF(t,n)}function f7(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(oe(314))}i!==null&&i.delete(e),MF(t,n)}var FF;FF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$i.current)Vi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vi=!1,e7(t,e,n);Vi=!!(t.flags&131072)}else Vi=!1,Mt&&e.flags&1048576&&jM(e,w0,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wy(t,e),t=e.pendingProps;var r=Id(e,ci.current);md(e,n),r=jx(null,e,i,t,r,n);var s=Vx();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hi(i)?(s=!0,T0(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Nx(e),r.updater=F_,e.stateNode=r,r._reactInternals=e,L1(e,i,t,n),e=F1(null,e,i,!0,s,n)):(e.tag=0,Mt&&s&&kx(e),_i(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Wy(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=m7(i),t=Yr(i,t),r){case 0:e=M1(null,e,i,t,n);break e;case 1:e=iO(null,e,i,t,n);break e;case 11:e=tO(null,e,i,t,n);break e;case 14:e=nO(null,e,i,Yr(i.type,t),n);break e}throw Error(oe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yr(i,r),M1(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yr(i,r),iO(t,e,i,r,n);case 3:e:{if(TF(e),t===null)throw Error(oe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,zM(t,e),x0(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Dd(Error(oe(423)),e),e=rO(t,e,i,n,r);break e}else if(i!==r){r=Dd(Error(oe(424)),e),e=rO(t,e,i,n,r);break e}else for(ur=No(e.stateNode.containerInfo.firstChild),dr=e,Mt=!0,Jr=null,n=KM(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(kd(),i===r){e=Fa(t,e,n);break e}_i(t,e,i,n)}e=e.child}return e;case 5:return XM(e),t===null&&D1(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,a=r.children,C1(i,r)?a=null:s!==null&&C1(i,s)&&(e.flags|=32),_F(t,e),_i(t,e,a,n),e.child;case 6:return t===null&&D1(e),null;case 13:return bF(t,e,n);case 4:return Mx(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ad(e,null,i,n):_i(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yr(i,r),tO(t,e,i,r,n);case 7:return _i(t,e,e.pendingProps,n),e.child;case 8:return _i(t,e,e.pendingProps.children,n),e.child;case 12:return _i(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Tt(S0,i._currentValue),i._currentValue=a,s!==null)if(as(s.value,a)){if(s.children===r.children&&!$i.current){e=Fa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=Ca(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),R1(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(oe(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),R1(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}_i(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,md(e,n),r=Pr(r),i=i(r),e.flags|=1,_i(t,e,i,n),e.child;case 14:return i=e.type,r=Yr(i,e.pendingProps),r=Yr(i.type,r),nO(t,e,i,r,n);case 15:return vF(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yr(i,r),Wy(t,e),e.tag=1,Hi(i)?(t=!0,T0(e)):t=!1,md(e,n),WM(e,i,r),L1(e,i,r,n),F1(null,e,i,!0,t,n);case 19:return wF(t,e,n);case 22:return yF(t,e,n)}throw Error(oe(156,e.tag))};function UF(t,e){return cM(t,e)}function p7(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,e,n,i){return new p7(t,e,n,i)}function Qx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function m7(t){if(typeof t=="function")return Qx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gx)return 11;if(t===vx)return 14}return 2}function Bo(t,e){var n=t.alternate;return n===null?(n=Cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xy(t,e,n,i,r,s){var a=2;if(i=t,typeof t=="function")Qx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Kc:return nl(n.children,r,s,e);case mx:a=8,r|=8;break;case r1:return t=Cr(12,n,e,r|2),t.elementType=r1,t.lanes=s,t;case s1:return t=Cr(13,n,e,r),t.elementType=s1,t.lanes=s,t;case a1:return t=Cr(19,n,e,r),t.elementType=a1,t.lanes=s,t;case GN:return V_(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qN:a=10;break e;case WN:a=9;break e;case gx:a=11;break e;case vx:a=14;break e;case Eo:a=16,i=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Cr(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function nl(t,e,n,i){return t=Cr(7,t,i,e),t.lanes=n,t}function V_(t,e,n,i){return t=Cr(22,t,i,e),t.elementType=GN,t.lanes=n,t.stateNode={isHidden:!1},t}function sS(t,e,n){return t=Cr(6,t,null,e),t.lanes=n,t}function aS(t,e,n){return e=Cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function g7(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jw(0),this.expirationTimes=jw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jw(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Jx(t,e,n,i,r,s,a,u,c){return t=new g7(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nx(s),t}function v7(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gc,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function BF(t){if(!t)return zo;t=t._reactInternals;e:{if(Il(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(Hi(n))return UM(t,n,e)}return e}function jF(t,e,n,i,r,s,a,u,c){return t=Jx(n,i,!0,t,r,s,a,u,c),t.context=BF(null),n=t.current,i=Ii(),r=Uo(n),s=Ca(i,r),s.callback=e??null,Mo(n,s,r),t.current.lanes=r,Fm(t,r,i),zi(t,i),t}function $_(t,e,n,i){var r=e.current,s=Ii(),a=Uo(r);return n=BF(n),e.context===null?e.context=n:e.pendingContext=n,e=Ca(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Mo(r,e,a),t!==null&&(ns(t,r,a,s),Hy(t,r,a)),a}function O0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zx(t,e){pO(t,e),(t=t.alternate)&&pO(t,e)}function y7(){return null}var VF=typeof reportError=="function"?reportError:function(t){console.error(t)};function eC(t){this._internalRoot=t}H_.prototype.render=eC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));$_(t,e,null,null)};H_.prototype.unmount=eC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vl(function(){$_(null,t,null,null)}),e[Na]=null}};function H_(t){this._internalRoot=t}H_.prototype.unstable_scheduleHydration=function(t){if(t){var e=vM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Co.length&&e!==0&&e<Co[n].priority;n++);Co.splice(n,0,t),n===0&&_M(t)}};function tC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function z_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mO(){}function _7(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var d=O0(a);s.call(d)}}var a=jF(e,i,t,0,null,!1,!1,"",mO);return t._reactRootContainer=a,t[Na]=a.current,Zp(t.nodeType===8?t.parentNode:t),vl(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var d=O0(c);u.call(d)}}var c=Jx(t,0,!1,null,null,!1,!1,"",mO);return t._reactRootContainer=c,t[Na]=c.current,Zp(t.nodeType===8?t.parentNode:t),vl(function(){$_(e,c,n,i)}),c}function q_(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var u=r;r=function(){var c=O0(a);u.call(c)}}$_(e,a,t,r)}else a=_7(n,e,t,r,i);return O0(a)}mM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lp(e.pendingLanes);n!==0&&(Tx(e,n|1),zi(e,tn()),!(nt&6)&&(Rd=tn()+500,nu()))}break;case 13:vl(function(){var i=Ma(t,1);if(i!==null){var r=Ii();ns(i,t,1,r)}}),Zx(t,1)}};bx=function(t){if(t.tag===13){var e=Ma(t,134217728);if(e!==null){var n=Ii();ns(e,t,134217728,n)}Zx(t,134217728)}};gM=function(t){if(t.tag===13){var e=Uo(t),n=Ma(t,e);if(n!==null){var i=Ii();ns(n,t,e,i)}Zx(t,e)}};vM=function(){return ft};yM=function(t,e){var n=ft;try{return ft=t,e()}finally{ft=n}};g1=function(t,e,n){switch(e){case"input":if(l1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=N_(i);if(!r)throw Error(oe(90));XN(i),l1(i,r)}}}break;case"textarea":QN(t,n);break;case"select":e=n.value,e!=null&&dd(t,!!n.multiple,e,!1)}};rM=Kx;sM=vl;var T7={usingClientEntryPoint:!1,Events:[Bm,Jc,N_,nM,iM,Kx]},Kf={findFiberByHostInstance:Wu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},b7={bundleType:Kf.bundleType,version:Kf.version,rendererPackageName:Kf.rendererPackageName,rendererConfig:Kf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ka.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uM(t),t===null?null:t.stateNode},findFiberByHostInstance:Kf.findFiberByHostInstance||y7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vy.isDisabled&&vy.supportsFiber)try{D_=vy.inject(b7),Us=vy}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T7;vr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tC(e))throw Error(oe(200));return v7(t,e,null,n)};vr.createRoot=function(t,e){if(!tC(t))throw Error(oe(299));var n=!1,i="",r=VF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Jx(t,1,!1,null,null,n,!1,i,r),t[Na]=e.current,Zp(t.nodeType===8?t.parentNode:t),new eC(e)};vr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=uM(e),t=t===null?null:t.stateNode,t};vr.flushSync=function(t){return vl(t)};vr.hydrate=function(t,e,n){if(!z_(e))throw Error(oe(200));return q_(null,t,e,!0,n)};vr.hydrateRoot=function(t,e,n){if(!tC(t))throw Error(oe(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",a=VF;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=jF(e,null,t,1,n??null,r,!1,s,a),t[Na]=e.current,Zp(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new H_(e)};vr.render=function(t,e,n){if(!z_(e))throw Error(oe(200));return q_(null,t,e,!1,n)};vr.unmountComponentAtNode=function(t){if(!z_(t))throw Error(oe(40));return t._reactRootContainer?(vl(function(){q_(null,null,t,!1,function(){t._reactRootContainer=null,t[Na]=null})}),!0):!1};vr.unstable_batchedUpdates=Kx;vr.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!z_(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return q_(t,e,n,!1,i)};vr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=vr})(jN);var gO=jN.exports;n1.createRoot=gO.createRoot,n1.hydrateRoot=gO.hydrateRoot;const $F=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},w7=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],u=t[n++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},HF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,u=a?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,f=s>>2,m=(s&3)<<4|u>>4;let g=(u&15)<<2|d>>6,E=d&63;c||(E=64,a||(g=64)),i.push(n[f],n[m],n[g],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($F(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||u==null||d==null||m==null)throw Error();const g=s<<2|u>>4;if(i.push(g),d!==64){const E=u<<4&240|d>>2;if(i.push(E),m!==64){const I=d<<6&192|m;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},S7=function(t){const e=$F(t);return HF.encodeByteArray(e,!0)},L0=function(t){return S7(t).replace(/\./g,"")},zF=function(t){try{return HF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function N0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!E7(n)||(t[n]=N0(t[n],e[n]));return t}function E7(t){return t!=="__proto__"}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function nC(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C7(){return typeof self=="object"&&self.self===self}function iC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qF(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function um(){try{return typeof indexedDB=="object"}catch{return!1}}function WF(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function I7(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function k7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const A7=()=>k7().__FIREBASE_DEFAULTS__,P7=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zF(t[1]);return e&&JSON.parse(e)},sC=()=>{try{return A7()||P7()||D7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GF=t=>{var e,n;return(n=(e=sC())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KF=t=>{const e=GF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},R7=()=>{var t;return(t=sC())===null||t===void 0?void 0:t.config},XF=t=>{var e;return(e=sC())===null||e===void 0?void 0:e[`_${t}`]};class O7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function YF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[L0(JSON.stringify(n)),L0(JSON.stringify(a)),u].join(".")}const L7="FirebaseError";class Rn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=L7,Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xa.prototype.create)}}class Xa{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?N7(s,i):"Error",u=`${this.serviceName}: ${a} (${r}).`;return new Rn(r,u,i)}}function N7(t,e){return t.replace(M7,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const M7=/\{\$([^}]+)}/g;function vO(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function M0(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(yO(s)&&yO(a)){if(!M0(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function yO(t){return t!==null&&typeof t=="object"}function sh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function sd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function dp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QF(t,e){const n=new U7(t,e);return n.subscribe.bind(n)}class U7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");B7(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=oS),r.error===void 0&&(r.error=oS),r.complete===void 0&&(r.complete=oS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oS(){}const j7=1e3,V7=2,$7=4*60*60*1e3,H7=.5;function _O(t,e=j7,n=V7){const i=e*Math.pow(n,t),r=Math.round(H7*i*(Math.random()-.5)*2);return Math.min($7,i+r)}function Pe(t){return t&&t._delegate?t._delegate:t}let Wi=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};const Hu="[DEFAULT]";class z7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new O7;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W7(e))try{this.getOrInitializeService({instanceIdentifier:Hu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Hu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hu){return this.instances.has(e)}getOptions(e=Hu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);i===u&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:q7(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Hu){return this.component?this.component.multipleInstances?e:Hu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q7(t){return t===Hu?void 0:t}function W7(t){return t.instantiationMode==="EAGER"}class G7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const aC=[];var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const JF={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},K7=rt.INFO,X7={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},Y7=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=X7[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=K7,this._logHandler=Y7,this._userLogHandler=null,aC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}function Q7(t){aC.forEach(e=>{e.setLogLevel(t)})}function J7(t,e){for(const n of aC){let i=null;e&&e.level&&(i=JF[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,s,...a)=>{const u=a.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(i??r.logLevel)&&t({level:rt[s].toLowerCase(),message:u,args:a,type:r.name})}}}const Z7=(t,e)=>e.some(n=>t instanceof n);let TO,bO;function e9(){return TO||(TO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t9(){return bO||(bO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZF=new WeakMap,X1=new WeakMap,eU=new WeakMap,uS=new WeakMap,oC=new WeakMap;function n9(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(jo(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ZF.set(n,t)}).catch(()=>{}),oC.set(e,t),e}function i9(t){if(X1.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});X1.set(t,e)}let Y1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return X1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r9(t){Y1=t(Y1)}function s9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(lS(this),e,...n);return eU.set(i,e.sort?e.sort():[e]),jo(i)}:t9().includes(t)?function(...e){return t.apply(lS(this),e),jo(ZF.get(this))}:function(...e){return jo(t.apply(lS(this),e))}}function a9(t){return typeof t=="function"?s9(t):(t instanceof IDBTransaction&&i9(t),Z7(t,e9())?new Proxy(t,Y1):t)}function jo(t){if(t instanceof IDBRequest)return n9(t);if(uS.has(t))return uS.get(t);const e=a9(t);return e!==t&&(uS.set(t,e),oC.set(e,t)),e}const lS=t=>oC.get(t);function tU(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),u=jo(a);return i&&a.addEventListener("upgradeneeded",c=>{i(jo(a.result),c.oldVersion,c.newVersion,jo(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),u.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),u}const o9=["get","getKey","getAll","getAllKeys","count"],u9=["put","add","delete","clear"],cS=new Map;function wO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cS.get(e))return cS.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=u9.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||o9.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,r?"readwrite":"readonly");let d=c.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),r&&c.done]))[0]};return cS.set(e,s),s}r9(t=>({...t,get:(e,n,i)=>wO(e,n)||t.get(e,n,i),has:(e,n)=>!!wO(e,n)||t.has(e,n)}));class l9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(c9(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function c9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Q1="@firebase/app",SO="0.9.0";const yl=new Vm("@firebase/app"),d9="@firebase/app-compat",h9="@firebase/analytics-compat",f9="@firebase/analytics",p9="@firebase/app-check-compat",m9="@firebase/app-check",g9="@firebase/auth",v9="@firebase/auth-compat",y9="@firebase/database",_9="@firebase/database-compat",T9="@firebase/functions",b9="@firebase/functions-compat",w9="@firebase/installations",S9="@firebase/installations-compat",E9="@firebase/messaging",x9="@firebase/messaging-compat",C9="@firebase/performance",I9="@firebase/performance-compat",k9="@firebase/remote-config",A9="@firebase/remote-config-compat",P9="@firebase/storage",D9="@firebase/storage-compat",R9="@firebase/firestore",O9="@firebase/firestore-compat",L9="firebase",N9="9.15.0";const qo="[DEFAULT]",M9={[Q1]:"fire-core",[d9]:"fire-core-compat",[f9]:"fire-analytics",[h9]:"fire-analytics-compat",[m9]:"fire-app-check",[p9]:"fire-app-check-compat",[g9]:"fire-auth",[v9]:"fire-auth-compat",[y9]:"fire-rtdb",[_9]:"fire-rtdb-compat",[T9]:"fire-fn",[b9]:"fire-fn-compat",[w9]:"fire-iid",[S9]:"fire-iid-compat",[E9]:"fire-fcm",[x9]:"fire-fcm-compat",[C9]:"fire-perf",[I9]:"fire-perf-compat",[k9]:"fire-rc",[A9]:"fire-rc-compat",[P9]:"fire-gcs",[D9]:"fire-gcs-compat",[R9]:"fire-fst",[O9]:"fire-fst-compat","fire-js":"fire-js",[L9]:"fire-js-all"};const Wo=new Map,lm=new Map;function F0(t,e){try{t.container.addComponent(e)}catch(n){yl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nU(t,e){t.container.addOrOverwriteComponent(e)}function pr(t){const e=t.name;if(lm.has(e))return yl.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,t);for(const n of Wo.values())F0(n,t);return!0}function iu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function F9(t,e,n=qo){iu(t,e).clearInstance(n)}function U9(){lm.clear()}const B9={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ia=new Xa("app","Firebase",B9);let j9=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}};const ru=N9;function W_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:qo,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ia.create("bad-app-name",{appName:String(r)});if(n||(n=R7()),!n)throw Ia.create("no-options");const s=Wo.get(r);if(s){if(M0(n,s.options)&&M0(i,s.config))return s;throw Ia.create("duplicate-app",{appName:r})}const a=new G7(r);for(const c of lm.values())a.addComponent(c);const u=new j9(n,i,a);return Wo.set(r,u),u}function G_(t=qo){const e=Wo.get(t);if(!e&&t===qo)return W_();if(!e)throw Ia.create("no-app",{appName:t});return e}function V9(){return Array.from(Wo.values())}async function iU(t){const e=t.name;Wo.has(e)&&(Wo.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Kn(t,e,n){var i;let r=(i=M9[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yl.warn(u.join(" "));return}pr(new Wi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function rU(t,e){if(t!==null&&typeof t!="function")throw Ia.create("invalid-log-argument");J7(t,e)}function sU(t){Q7(t)}const $9="firebase-heartbeat-database",H9=1,cm="firebase-heartbeat-store";let dS=null;function aU(){return dS||(dS=tU($9,H9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cm)}}}).catch(t=>{throw Ia.create("idb-open",{originalErrorMessage:t.message})})),dS}async function z9(t){try{return(await aU()).transaction(cm).objectStore(cm).get(oU(t))}catch(e){if(e instanceof Rn)yl.warn(e.message);else{const n=Ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yl.warn(n.message)}}}async function EO(t,e){try{const i=(await aU()).transaction(cm,"readwrite");return await i.objectStore(cm).put(e,oU(t)),i.done}catch(n){if(n instanceof Rn)yl.warn(n.message);else{const i=Ia.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yl.warn(i.message)}}}function oU(t){return`${t.name}!${t.options.appId}`}const q9=1024,W9=30*24*60*60*1e3;class G9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X9(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xO();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=W9}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xO(),{heartbeatsToSend:n,unsentEntries:i}=K9(this._heartbeatsCache.heartbeats),r=L0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function xO(){return new Date().toISOString().substring(0,10)}function K9(t,e=q9){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),CO(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),CO(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class X9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return um()?WF().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await z9(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return EO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return EO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function CO(t){return L0(JSON.stringify({version:2,heartbeats:t})).length}function Y9(t){pr(new Wi("platform-logger",e=>new l9(e),"PRIVATE")),pr(new Wi("heartbeat",e=>new G9(e),"PRIVATE")),Kn(Q1,SO,t),Kn(Q1,SO,"esm2017"),Kn("fire-js","")}Y9("");const Q9=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:ru,_DEFAULT_ENTRY_NAME:qo,_addComponent:F0,_addOrOverwriteComponent:nU,_apps:Wo,_clearComponents:U9,_components:lm,_getProvider:iu,_registerComponent:pr,_removeServiceInstance:F9,deleteApp:iU,getApp:G_,getApps:V9,initializeApp:W_,onLog:rU,registerVersion:Kn,setLogLevel:sU,FirebaseError:Rn},Symbol.toStringTag,{value:"Module"}));var J9="firebase",Z9="9.15.0";Kn(J9,Z9,"app");const uU="@firebase/installations",uC="0.6.0";const lU=1e4,cU=`w:${uC}`,dU="FIS_v2",ez="https://firebaseinstallations.googleapis.com/v1",tz=60*60*1e3,nz="installations",iz="Installations";const rz={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},_l=new Xa(nz,iz,rz);function hU(t){return t instanceof Rn&&t.code.includes("request-failed")}function fU({projectId:t}){return`${ez}/projects/${t}/installations`}function pU(t){return{token:t.token,requestStatus:2,expiresIn:az(t.expiresIn),creationTime:Date.now()}}async function mU(t,e){const i=(await e.json()).error;return _l.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function gU({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sz(t,{refreshToken:e}){const n=gU(t);return n.append("Authorization",oz(e)),n}async function vU(t){const e=await t();return e.status>=500&&e.status<600?t():e}function az(t){return Number(t.replace("s","000"))}function oz(t){return`${dU} ${t}`}async function uz({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=fU(t),r=gU(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const a={fid:n,authVersion:dU,appId:t.appId,sdkVersion:cU},u={method:"POST",headers:r,body:JSON.stringify(a)},c=await vU(()=>fetch(i,u));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:pU(d.authToken)}}else throw await mU("Create Installation",c)}function yU(t){return new Promise(e=>{setTimeout(e,t)})}function lz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const cz=/^[cdef][\w-]{21}$/,J1="";function dz(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=hz(t);return cz.test(n)?n:J1}catch{return J1}}function hz(t){return lz(t).substr(0,22)}function K_(t){return`${t.appName}!${t.appId}`}const _U=new Map;function TU(t,e){const n=K_(t);bU(n,e),fz(n,e)}function bU(t,e){const n=_U.get(t);if(!!n)for(const i of n)i(e)}function fz(t,e){const n=pz();n&&n.postMessage({key:t,fid:e}),mz()}let Xu=null;function pz(){return!Xu&&"BroadcastChannel"in self&&(Xu=new BroadcastChannel("[Firebase] FID Change"),Xu.onmessage=t=>{bU(t.data.key,t.data.fid)}),Xu}function mz(){_U.size===0&&Xu&&(Xu.close(),Xu=null)}const gz="firebase-installations-database",vz=1,Tl="firebase-installations-store";let hS=null;function lC(){return hS||(hS=tU(gz,vz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Tl)}}})),hS}async function U0(t,e){const n=K_(t),r=(await lC()).transaction(Tl,"readwrite"),s=r.objectStore(Tl),a=await s.get(n);return await s.put(e,n),await r.done,(!a||a.fid!==e.fid)&&TU(t,e.fid),e}async function wU(t){const e=K_(t),i=(await lC()).transaction(Tl,"readwrite");await i.objectStore(Tl).delete(e),await i.done}async function X_(t,e){const n=K_(t),r=(await lC()).transaction(Tl,"readwrite"),s=r.objectStore(Tl),a=await s.get(n),u=e(a);return u===void 0?await s.delete(n):await s.put(u,n),await r.done,u&&(!a||a.fid!==u.fid)&&TU(t,u.fid),u}async function cC(t){let e;const n=await X_(t.appConfig,i=>{const r=yz(i),s=_z(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===J1?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yz(t){const e=t||{fid:dz(),registrationStatus:0};return SU(e)}function _z(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(_l.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Tz(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bz(t)}:{installationEntry:e}}async function Tz(t,e){try{const n=await uz(t,e);return U0(t.appConfig,n)}catch(n){throw hU(n)&&n.customData.serverCode===409?await wU(t.appConfig):await U0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function bz(t){let e=await IO(t.appConfig);for(;e.registrationStatus===1;)await yU(100),e=await IO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await cC(t);return i||n}return e}function IO(t){return X_(t,e=>{if(!e)throw _l.create("installation-not-found");return SU(e)})}function SU(t){return wz(t)?{fid:t.fid,registrationStatus:0}:t}function wz(t){return t.registrationStatus===1&&t.registrationTime+lU<Date.now()}async function Sz({appConfig:t,heartbeatServiceProvider:e},n){const i=Ez(t,n),r=sz(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const a={installation:{sdkVersion:cU,appId:t.appId}},u={method:"POST",headers:r,body:JSON.stringify(a)},c=await vU(()=>fetch(i,u));if(c.ok){const d=await c.json();return pU(d)}else throw await mU("Generate Auth Token",c)}function Ez(t,{fid:e}){return`${fU(t)}/${e}/authTokens:generate`}async function dC(t,e=!1){let n;const i=await X_(t.appConfig,s=>{if(!EU(s))throw _l.create("not-registered");const a=s.authToken;if(!e&&Iz(a))return s;if(a.requestStatus===1)return n=xz(t,e),s;{if(!navigator.onLine)throw _l.create("app-offline");const u=Az(s);return n=Cz(t,u),u}});return n?await n:i.authToken}async function xz(t,e){let n=await kO(t.appConfig);for(;n.authToken.requestStatus===1;)await yU(100),n=await kO(t.appConfig);const i=n.authToken;return i.requestStatus===0?dC(t,e):i}function kO(t){return X_(t,e=>{if(!EU(e))throw _l.create("not-registered");const n=e.authToken;return Pz(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Cz(t,e){try{const n=await Sz(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await U0(t.appConfig,i),n}catch(n){if(hU(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wU(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await U0(t.appConfig,i)}throw n}}function EU(t){return t!==void 0&&t.registrationStatus===2}function Iz(t){return t.requestStatus===2&&!kz(t)}function kz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+tz}function Az(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Pz(t){return t.requestStatus===1&&t.requestTime+lU<Date.now()}async function Dz(t){const e=t,{installationEntry:n,registrationPromise:i}=await cC(e);return i?i.catch(console.error):dC(e).catch(console.error),n.fid}async function Rz(t,e=!1){const n=t;return await Oz(n),(await dC(n,e)).token}async function Oz(t){const{registrationPromise:e}=await cC(t);e&&await e}function Lz(t){if(!t||!t.options)throw fS("App Configuration");if(!t.name)throw fS("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fS(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fS(t){return _l.create("missing-app-config-values",{valueName:t})}const xU="installations",Nz="installations-internal",Mz=t=>{const e=t.getProvider("app").getImmediate(),n=Lz(e),i=iu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Fz=t=>{const e=t.getProvider("app").getImmediate(),n=iu(e,xU).getImmediate();return{getId:()=>Dz(n),getToken:r=>Rz(n,r)}};function Uz(){pr(new Wi(xU,Mz,"PUBLIC")),pr(new Wi(Nz,Fz,"PRIVATE"))}Uz();Kn(uU,uC);Kn(uU,uC,"esm2017");const AO="analytics",Bz="firebase_id",jz="origin",Vz=60*1e3,$z="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",CU="https://www.googletagmanager.com/gtag/js";const hr=new Vm("@firebase/analytics");function IU(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Hz(t,e){const n=document.createElement("script");n.src=`${CU}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function zz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function qz(t,e,n,i,r,s){const a=i[r];try{if(a)await e[a];else{const c=(await IU(n)).find(d=>d.measurementId===r);c&&await e[c.appId]}}catch(u){hr.error(u)}t("config",r,s)}async function Wz(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const u=await IU(n);for(const c of a){const d=u.find(m=>m.measurementId===c),f=d&&e[d.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){hr.error(s)}}function Gz(t,e,n,i){async function r(s,a,u){try{s==="event"?await Wz(t,e,n,a,u):s==="config"?await qz(t,e,n,i,a,u):s==="consent"?t("consent","update",u):t("set",a)}catch(c){hr.error(c)}}return r}function Kz(t,e,n,i,r){let s=function(...a){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=Gz(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}function Xz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(CU)&&n.src.includes(t))return n;return null}const Yz={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},is=new Xa("analytics","Analytics",Yz);const Qz=30,Jz=1e3;class Zz{constructor(e={},n=Jz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kU=new Zz;function eq(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function tq(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:eq(i)},s=$z.replace("{app-id}",n),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message)}catch{}throw is.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function nq(t,e=kU,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw is.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw is.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new sq;return setTimeout(async()=>{u.abort()},n!==void 0?n:Vz),AU({appId:i,apiKey:r,measurementId:s},a,u,e)}async function AU(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=kU){var s;const{appId:a,measurementId:u}=t;try{await iq(i,e)}catch(c){if(u)return hr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await tq(t);return r.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!rq(d)){if(r.deleteThrottleMetadata(a),u)return hr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:u};throw c}const f=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?_O(n,r.intervalMillis,Qz):_O(n,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return r.setThrottleMetadata(a,m),hr.debug(`Calling attemptFetch again in ${f} millis`),AU(t,m,i,r)}}function iq(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(is.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function rq(t){if(!(t instanceof Rn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class sq{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function aq(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const s=await e,a=Object.assign(Object.assign({},i),{send_to:s});t("event",n,a)}}async function oq(){if(um())try{await WF()}catch(t){return hr.warn(is.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hr.warn(is.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uq(t,e,n,i,r,s,a){var u;const c=nq(t);c.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&hr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>hr.error(E)),e.push(c);const d=oq().then(E=>{if(E)return i.getId()}),[f,m]=await Promise.all([c,d]);Xz(s)||Hz(s,f.measurementId),r("js",new Date);const g=(u=a==null?void 0:a.config)!==null&&u!==void 0?u:{};return g[jz]="firebase",g.update=!0,m!=null&&(g[Bz]=m),r("config",f.measurementId,g),f.measurementId}class lq{constructor(e){this.app=e}_delete(){return delete Rp[this.app.options.appId],Promise.resolve()}}let Rp={},PO=[];const DO={};let pS="dataLayer",cq="gtag",RO,PU,OO=!1;function dq(){const t=[];if(iC()&&t.push("This is a browser extension environment."),I7()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=is.create("invalid-analytics-context",{errorInfo:e});hr.warn(n.message)}}function hq(t,e,n){dq();const i=t.options.appId;if(!i)throw is.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw is.create("no-api-key");if(Rp[i]!=null)throw is.create("already-exists",{id:i});if(!OO){zz(pS);const{wrappedGtag:s,gtagCore:a}=Kz(Rp,PO,DO,pS,cq);PU=s,RO=a,OO=!0}return Rp[i]=uq(t,PO,DO,e,RO,pS,n),new lq(t)}function fq(t,e,n,i){t=Pe(t),aq(PU,Rp[t.app.options.appId],e,n,i).catch(r=>hr.error(r))}const LO="@firebase/analytics",NO="0.9.0";function pq(){pr(new Wi(AO,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return hq(i,r,n)},"PUBLIC")),pr(new Wi("analytics-internal",t,"PRIVATE")),Kn(LO,NO),Kn(LO,NO,"esm2017");function t(e){try{const n=e.getProvider(AO).getImmediate();return{logEvent:(i,r,s)=>fq(n,i,r,s)}}catch(n){throw is.create("interop-component-reg-failed",{reason:n})}}}pq();function hC(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}const Xf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Lc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function mq(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function DU(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gq=mq,vq=DU,RU=new Xa("auth","Firebase",DU());const MO=new Vm("@firebase/auth");function Yy(t,...e){MO.logLevel<=rt.ERROR&&MO.error(`Auth (${ru}): ${t}`,...e)}function Ln(t,...e){throw fC(t,...e)}function Xn(t,...e){return fC(t,...e)}function OU(t,e,n){const i=Object.assign(Object.assign({},vq()),{[e]:n});return new Xa("auth","Firebase",i).create(e,{appName:t.name})}function ah(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ln(t,"argument-error"),OU(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fC(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return RU.create(t,...e)}function le(t,e,...n){if(!t)throw fC(e,...n)}function Os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yy(e),new Error(e)}function os(t,e){t||Os(e)}const FO=new Map;function lr(t){os(t instanceof Function,"Expected a class definition");let e=FO.get(t);return e?(os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FO.set(t,e),e)}function yq(t,e){const n=iu(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(M0(s,e??{}))return r;Ln(r,"already-initialized")}return n.initialize({options:e})}function _q(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pC(){return UO()==="http:"||UO()==="https:"}function UO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Tq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pC()||iC()||"connection"in navigator)?navigator.onLine:!0}function bq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class $m{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=x7()||rC()}get(){return Tq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mC(t,e){os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class LU{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};const Sq=new $m(3e4,6e4);function wn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bn(t,e,n,i,r={}){return NU(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const u=sh(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),LU.fetch()(MU(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function NU(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},wq),e);try{const r=new Eq(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw hp(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw hp(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw hp(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw hp(t,"user-disabled",a);const f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw OU(t,f,d);Ln(t,f)}}catch(r){if(r instanceof Rn)throw r;Ln(t,"network-request-failed")}}async function Ya(t,e,n,i,r={}){const s=await Bn(t,e,n,i,r);return"mfaPendingCredential"in s&&Ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function MU(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?mC(t.config,r):`${t.config.apiScheme}://${r}`}class Eq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Xn(this.auth,"network-request-failed")),Sq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hp(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Xn(t,e,i);return r.customData._tokenResponse=n,r}async function xq(t,e){return Bn(t,"POST","/v1/accounts:delete",e)}async function Cq(t,e){return Bn(t,"POST","/v1/accounts:update",e)}async function Iq(t,e){return Bn(t,"POST","/v1/accounts:lookup",e)}function Op(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kq(t,e=!1){const n=Pe(t),i=await n.getIdToken(e),r=Y_(i);le(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Op(mS(r.auth_time)),issuedAtTime:Op(mS(r.iat)),expirationTime:Op(mS(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mS(t){return Number(t)*1e3}function Y_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Yy("JWT malformed, contained fewer than 3 sections"),null;try{const r=zF(n);return r?JSON.parse(r):(Yy("Failed to decode base64 JWT payload"),null)}catch(r){return Yy("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Aq(t){const e=Y_(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ua(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Rn&&Pq(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Pq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Dq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class FU{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Op(this.lastLoginAt),this.creationTime=Op(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hm(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ua(t,Iq(n,{idToken:i}));le(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Lq(s.providerUserInfo):[],u=Oq(t.providerData,a),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),f=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new FU(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function Rq(t){const e=Pe(t);await hm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Oq(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Lq(t){return t.map(e=>{var{providerId:n}=e,i=hC(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function Nq(t,e){const n=await NU(t,{},async()=>{const i=sh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=MU(t,r,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",LU.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}class fm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Aq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await Nq(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new fm;return i&&(le(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(le(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(le(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fm,this.toJSON())}_performRefresh(){return Os("not implemented")}}function wo(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class il{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=hC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new FU(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ua(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kq(this,e)}reload(){return Rq(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new il(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ua(this,xq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,a,u,c,d,f;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(u=n.tenantId)!==null&&u!==void 0?u:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,k=(d=n.createdAt)!==null&&d!==void 0?d:void 0,P=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:O,emailVerified:N,isAnonymous:B,providerData:q,stsTokenManager:$}=n;le(O&&$,e,"internal-error");const H=fm.fromJSON(this.name,$);le(typeof O=="string",e,"internal-error"),wo(m,e.name),wo(g,e.name),le(typeof N=="boolean",e,"internal-error"),le(typeof B=="boolean",e,"internal-error"),wo(E,e.name),wo(I,e.name),wo(b,e.name),wo(x,e.name),wo(k,e.name),wo(P,e.name);const K=new il({uid:O,auth:e,email:g,emailVerified:N,displayName:m,isAnonymous:B,photoURL:I,phoneNumber:E,tenantId:b,stsTokenManager:H,createdAt:k,lastLoginAt:P});return q&&Array.isArray(q)&&(K.providerData=q.map(G=>Object.assign({},G))),x&&(K._redirectEventId=x),K}static async _fromIdTokenResponse(e,n,i=!1){const r=new fm;r.updateFromServerResponse(n);const s=new il({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await hm(s),s}}class UU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UU.type="NONE";const Od=UU;function rl(t,e,n){return`firebase:${t}:${e}:${n}`}class vd{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=rl(this.userKey,r.apiKey,s),this.fullPersistenceKey=rl("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?il._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new vd(lr(Od),e,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||lr(Od);const a=rl(i,e.config.apiKey,e.name);let u=null;for(const d of n)try{const f=await d._get(a);if(f){const m=il._fromJSON(e,f);d!==s&&(u=m),s=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new vd(s,e,i):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new vd(s,e,i))}}function BO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($U(e))return"Blackberry";if(HU(e))return"Webos";if(gC(e))return"Safari";if((e.includes("chrome/")||jU(e))&&!e.includes("edge/"))return"Chrome";if(Hm(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function BU(t=fn()){return/firefox\//i.test(t)}function gC(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jU(t=fn()){return/crios\//i.test(t)}function VU(t=fn()){return/iemobile/i.test(t)}function Hm(t=fn()){return/android/i.test(t)}function $U(t=fn()){return/blackberry/i.test(t)}function HU(t=fn()){return/webos/i.test(t)}function oh(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Mq(t=fn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Fq(t=fn()){var e;return oh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Uq(){return qF()&&document.documentMode===10}function zU(t=fn()){return oh(t)||Hm(t)||HU(t)||$U(t)||/windows phone/i.test(t)||VU(t)}function Bq(){try{return!!(window&&window!==window.top)}catch{return!1}}function qU(t,e=[]){let n;switch(t){case"Browser":n=BO(fn());break;case"Worker":n=`${BO(fn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ru}/${i}`}class jq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}class Vq{constructor(e,n,i){this.app=e,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jO(this),this.idTokenSubscription=new jO(this),this.beforeStateQueue=new jq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RU,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await vd.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Pe(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xa("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await vd.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return le(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,i,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return i&&(n["X-Firebase-Client"]=i),n}}function Nn(t){return Pe(t)}class jO{constructor(e){this.auth=e,this.observer=null,this.addObserver=QF(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function WU(t,e,n){const i=Nn(t);le(i._canInitEmulator,i,"emulator-config-failed"),le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=GU(e),{host:a,port:u}=$q(e),c=u===null?"":`:${u}`;i.config.emulator={url:`${s}//${a}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Hq()}function GU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $q(t){const e=GU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:VO(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:VO(a)}}}function VO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Hq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class uh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,n){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}async function KU(t,e){return Bn(t,"POST","/v1/accounts:resetPassword",wn(t,e))}async function XU(t,e){return Bn(t,"POST","/v1/accounts:update",e)}async function zq(t,e){return Bn(t,"POST","/v1/accounts:update",wn(t,e))}async function qq(t,e){return Ya(t,"POST","/v1/accounts:signInWithPassword",wn(t,e))}async function Q_(t,e){return Bn(t,"POST","/v1/accounts:sendOobCode",wn(t,e))}async function Wq(t,e){return Q_(t,e)}async function Gq(t,e){return Q_(t,e)}async function Kq(t,e){return Q_(t,e)}async function Xq(t,e){return Q_(t,e)}async function Yq(t,e){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",wn(t,e))}async function Qq(t,e){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",wn(t,e))}class pm extends uh{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new pm(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new pm(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return qq(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Yq(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return XU(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Qq(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ka(t,e){return Ya(t,"POST","/v1/accounts:signInWithIdp",wn(t,e))}const Jq="http://localhost";class Ws extends uh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=hC(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Ws(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ka(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ka(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ka(e,n)}buildRequest(){const e={requestUri:Jq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sh(n)}return e}}async function Zq(t,e){return Bn(t,"POST","/v1/accounts:sendVerificationCode",wn(t,e))}async function eW(t,e){return Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",wn(t,e))}async function tW(t,e){const n=await Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",wn(t,e));if(n.temporaryProof)throw hp(t,"account-exists-with-different-credential",n);return n}const nW={USER_NOT_FOUND:"user-not-found"};async function iW(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",wn(t,n),nW)}class sl extends uh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new sl({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new sl({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return eW(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return tW(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return iW(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:s}=e;return!i&&!n&&!r&&!s?null:new sl({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:s})}}function rW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sW(t){const e=sd(dp(t)).link,n=e?sd(dp(e)).deep_link_id:null,i=sd(dp(t)).deep_link_id;return(i?sd(dp(i)).link:null)||i||n||e||t}class J_{constructor(e){var n,i,r,s,a,u;const c=sd(dp(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(i=c.oobCode)!==null&&i!==void 0?i:null,m=rW((r=c.mode)!==null&&r!==void 0?r:null);le(d&&f&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=sW(e);try{return new J_(n)}catch{return null}}}class su{constructor(){this.providerId=su.PROVIDER_ID}static credential(e,n){return pm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=J_.parseLink(n);return le(i,"argument-error"),pm._fromEmailAndCode(e,i.code,i.tenantId)}}su.PROVIDER_ID="password";su.EMAIL_PASSWORD_SIGN_IN_METHOD="password";su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lh extends Qa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yd extends lh{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return le("providerId"in n&&"signInMethod"in n,"argument-error"),Ws._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return le(e.idToken||e.accessToken,"argument-error"),Ws._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return yd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return yd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:a,providerId:u}=e;if(!i&&!r&&!n&&!s||!u)return null;try{return new yd(u)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:s})}catch{return null}}}class As extends lh{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";class es extends lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return es.credential(n,i)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";class Ps extends lh{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";const aW="http://localhost";class Ld extends uh{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ka(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ka(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ka(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:s}=n;return!i||!r||!s||i!==r?null:new Ld(i,s)}static _create(e,n){return new Ld(e,n)}buildRequest(){return{requestUri:aW,returnSecureToken:!0,pendingToken:this.pendingToken}}}const oW="saml.";class B0 extends Qa{constructor(e){le(e.startsWith(oW),"argument-error"),super(e)}static credentialFromResult(e){return B0.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return B0.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Ld.fromJSON(e);return le(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return Ld._create(i,n)}catch{return null}}}class Ds extends lh{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ds.credential(n,i)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";async function YU(t,e){return Ya(t,"POST","/v1/accounts:signUp",wn(t,e))}class Rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await il._fromIdTokenResponse(e,i,r),a=$O(i);return new Rr({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=$O(i);return new Rr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function $O(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function uW(t){var e;const n=Nn(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Rr({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await YU(n,{returnSecureToken:!0}),r=await Rr._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}class j0 extends Rn{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,j0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new j0(e,n,i,r)}}function QU(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?j0._fromErrorAndOperation(t,s,e,i):s})}function JU(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function lW(t,e){const n=Pe(t);await Z_(!0,n,e);const{providerUserInfo:i}=await Cq(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),r=JU(i||[]);return n.providerData=n.providerData.filter(s=>r.has(s.providerId)),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function vC(t,e,n=!1){const i=await Ua(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rr._forOperation(t,"link",i)}async function Z_(t,e,n){await hm(e);const i=JU(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";le(i.has(n)===t,e.auth,r)}async function ZU(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await Ua(t,QU(i,r,e,t),n);le(s.idToken,i,"internal-error");const a=Y_(s.idToken);le(a,i,"internal-error");const{sub:u}=a;return le(t.uid===u,i,"user-mismatch"),Rr._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ln(i,"user-mismatch"),s}}async function e3(t,e,n=!1){const i="signIn",r=await QU(t,i,e),s=await Rr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function eT(t,e){return e3(Nn(t),e)}async function t3(t,e){const n=Pe(t);return await Z_(!1,n,e.providerId),vC(n,e)}async function n3(t,e){return ZU(Pe(t),e)}async function cW(t,e){return Ya(t,"POST","/v1/accounts:signInWithCustomToken",wn(t,e))}async function dW(t,e){const n=Nn(t),i=await cW(n,{token:e,returnSecureToken:!0}),r=await Rr._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}class tT{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?yC._fromServerResponse(e,n):Ln(e,"internal-error")}}class yC extends tT{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new yC(n)}}function nT(t,e,n){var i;le(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function hW(t,e,n){const i=Pe(t),r={requestType:"PASSWORD_RESET",email:e};n&&nT(i,r,n),await Gq(i,r)}async function fW(t,e,n){await KU(Pe(t),{oobCode:e,newPassword:n})}async function pW(t,e){await zq(Pe(t),{oobCode:e})}async function i3(t,e){const n=Pe(t),i=await KU(n,{oobCode:e}),r=i.requestType;switch(le(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(i.mfaInfo,n,"internal-error");default:le(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=tT._fromServerResponse(Nn(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}}async function mW(t,e){const{data:n}=await i3(Pe(t),e);return n.email}async function gW(t,e,n){const i=Nn(t),r=await YU(i,{returnSecureToken:!0,email:e,password:n}),s=await Rr._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}function r3(t,e,n){return eT(Pe(t),su.credential(e,n))}async function vW(t,e,n){const i=Pe(t),r={requestType:"EMAIL_SIGNIN",email:e};le(n.handleCodeInApp,i,"argument-error"),n&&nT(i,r,n),await Kq(i,r)}function yW(t,e){const n=J_.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function _W(t,e,n){const i=Pe(t),r=su.credentialWithLink(e,n||dm());return le(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),eT(i,r)}async function TW(t,e){return Bn(t,"POST","/v1/accounts:createAuthUri",wn(t,e))}async function bW(t,e){const n=pC()?dm():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=await TW(Pe(t),i);return r||[]}async function wW(t,e){const n=Pe(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&nT(n.auth,r,e);const{email:s}=await Wq(n.auth,r);s!==t.email&&await t.reload()}async function SW(t,e,n){const i=Pe(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&nT(i.auth,s,n);const{email:a}=await Xq(i.auth,s);a!==t.email&&await t.reload()}async function EW(t,e){return Bn(t,"POST","/v1/accounts:update",e)}async function xW(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Pe(t),s={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Ua(i,EW(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const u=i.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function CW(t,e){return s3(Pe(t),e,null)}function IW(t,e){return s3(Pe(t),null,e)}async function s3(t,e,n){const{auth:i}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await Ua(t,XU(i,s));await t._updateTokensIfNecessary(a,!0)}function kW(t){var e,n;if(!t)return null;const{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const a=(n=(e=Y_(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const u=a!=="anonymous"&&a!=="custom"?a:null;return new _d(s,u)}}if(!i)return null;switch(i){case"facebook.com":return new AW(s,r);case"github.com":return new PW(s,r);case"google.com":return new DW(s,r);case"twitter.com":return new RW(s,r,t.screenName||null);case"custom":case"anonymous":return new _d(s,null);default:return new _d(s,i,r)}}class _d{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class a3 extends _d{constructor(e,n,i,r){super(e,n,i),this.username=r}}class AW extends _d{constructor(e,n){super(e,"facebook.com",n)}}class PW extends a3{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class DW extends _d{constructor(e,n){super(e,"google.com",n)}}class RW extends a3{constructor(e,n,i){super(e,"twitter.com",n,i)}}function OW(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:kW(n)}function LW(t,e,n,i){return Pe(t).onIdTokenChanged(e,n,i)}function NW(t,e,n){return Pe(t).beforeAuthStateChanged(e,n)}function MW(t,e,n,i){return Pe(t).onAuthStateChanged(e,n,i)}function FW(t){return Pe(t).signOut()}class Yu{constructor(e,n,i){this.type=e,this.credential=n,this.auth=i}static _fromIdtoken(e,n){return new Yu("enroll",e,n)}static _fromMfaPendingCredential(e){return new Yu("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Yu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return Yu._fromIdtoken(e.multiFactorSession.idToken)}return null}}class _C{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=Nn(e),r=n.customData._serverResponse,s=(r.mfaInfo||[]).map(u=>tT._fromServerResponse(i,u));le(r.mfaPendingCredential,i,"internal-error");const a=Yu._fromMfaPendingCredential(r.mfaPendingCredential);return new _C(a,s,async u=>{const c=await u._process(i,a);delete r.mfaInfo,delete r.mfaPendingCredential;const d=Object.assign(Object.assign({},r),{idToken:c.idToken,refreshToken:c.refreshToken});switch(n.operationType){case"signIn":const f=await Rr._fromIdTokenResponse(i,n.operationType,d);return await i._updateCurrentUser(f.user),f;case"reauthenticate":return le(n.user,i,"internal-error"),Rr._forOperation(n.user,n.operationType,d);default:Ln(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function UW(t,e){var n;const i=Pe(t),r=e;return le(e.customData.operationType,i,"argument-error"),le((n=r.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),_C._fromError(i,r)}function BW(t,e){return Bn(t,"POST","/v2/accounts/mfaEnrollment:start",wn(t,e))}function jW(t,e){return Bn(t,"POST","/v2/accounts/mfaEnrollment:finalize",wn(t,e))}function VW(t,e){return Bn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",wn(t,e))}class TC{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>tT._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new TC(e)}async getSession(){return Yu._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const i=e,r=await this.getSession(),s=await Ua(this.user,i._process(this.user.auth,r,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken(),r=await Ua(this.user,VW(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(s){if((s==null?void 0:s.code)!=="auth/user-token-expired")throw s}}}const gS=new WeakMap;function $W(t){const e=Pe(t);return gS.has(e)||gS.set(e,TC._fromUser(e)),gS.get(e)}const V0="__sak";class o3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(V0,"1"),this.storage.removeItem(V0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}function HW(){const t=fn();return gC(t)||oh(t)}const zW=1e3,qW=10;class u3 extends o3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=HW()&&Bq(),this.fallbackToPolling=zU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Uq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,qW):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},zW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u3.type="LOCAL";const iT=u3;class l3 extends o3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}l3.type="SESSION";const Go=l3;function WW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class rT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new rT(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(a).map(async d=>d(n.origin,s)),c=await WW(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rT.receivers=[];function zm(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class GW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const d=zm("",20);r.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function vn(){return window}function KW(t){vn().location.href=t}function bC(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function XW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function QW(){return bC()?self:null}const c3="firebaseLocalStorageDb",JW=1,$0="firebaseLocalStorage",d3="fbase_key";class qm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sT(t,e){return t.transaction([$0],e?"readwrite":"readonly").objectStore($0)}function ZW(){const t=indexedDB.deleteDatabase(c3);return new qm(t).toPromise()}function Z1(){const t=indexedDB.open(c3,JW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore($0,{keyPath:d3})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains($0)?e(i):(i.close(),await ZW(),e(await Z1()))})})}async function HO(t,e,n){const i=sT(t,!0).put({[d3]:e,value:n});return new qm(i).toPromise()}async function eG(t,e){const n=sT(t,!1).get(e),i=await new qm(n).toPromise();return i===void 0?null:i.value}function zO(t,e){const n=sT(t,!0).delete(e);return new qm(n).toPromise()}const tG=800,nG=3;class h3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Z1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>nG)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rT._getInstance(QW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XW(),!this.activeServiceWorker)return;this.sender=new GW(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);!i||!((e=i[0])===null||e===void 0)&&e.fulfilled&&(!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Z1();return await HO(e,V0,"1"),await zO(e,V0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>HO(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>eG(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=sT(r,!1).getAll();return new qm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h3.type="LOCAL";const Nd=h3;function iG(t,e){return Bn(t,"POST","/v2/accounts/mfaSignIn:start",wn(t,e))}function rG(t,e){return Bn(t,"POST","/v2/accounts/mfaSignIn:finalize",wn(t,e))}async function sG(t){return(await Bn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}function aG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function f3(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Xn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",aG().appendChild(i)})}function p3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const oG=500,uG=6e4,yy=1e12;class lG{constructor(e){this.auth=e,this.counter=yy,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new cG(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||yy;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||yy;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||yy;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class cG{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof e=="string"?document.getElementById(e):e;le(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=dG(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},uG)},oG))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function dG(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const vS=p3("rcb"),hG=new $m(3e4,6e4),fG="https://www.google.com/recaptcha/api.js?";class pG{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=vn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return le(mG(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(vn().grecaptcha):new Promise((i,r)=>{const s=vn().setTimeout(()=>{r(Xn(e,"network-request-failed"))},hG.get());vn()[vS]=()=>{vn().clearTimeout(s),delete vn()[vS];const u=vn().grecaptcha;if(!u){r(Xn(e,"internal-error"));return}const c=u.render;u.render=(d,f)=>{const m=c(d,f);return this.counter++,m},this.hostLanguage=n,i(u)};const a=`${fG}?${sh({onload:vS,render:"explicit",hl:n})}`;f3(a).catch(()=>{clearTimeout(s),r(Xn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=vn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function mG(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class gG{async load(e){return new lG(e)}clearedOneInstance(){}}const m3="recaptcha",vG={theme:"light",type:"image"};let yG=class{constructor(e,n=Object.assign({},vG),i){this.parameters=n,this.type=m3,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nn(i),this.isInvisible=this.parameters.size==="invisible",le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r=typeof e=="string"?document.getElementById(e):e;le(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gG:new pG,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{const s=a=>{!a||(this.tokenChangeListeners.delete(s),r(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=vn()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){le(pC()&&!bC(),this.auth,"internal-error"),await _G(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await sG(this.auth);le(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function _G(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}class wC{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=sl._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function TG(t,e,n){const i=Nn(t),r=await aT(i,e,Pe(n));return new wC(r,s=>eT(i,s))}async function bG(t,e,n){const i=Pe(t);await Z_(!1,i,"phone");const r=await aT(i.auth,e,Pe(n));return new wC(r,s=>t3(i,s))}async function wG(t,e,n){const i=Pe(t),r=await aT(i.auth,e,Pe(n));return new wC(r,s=>n3(i,s))}async function aT(t,e,n){var i;const r=await n.verify();try{le(typeof r=="string",t,"argument-error"),le(n.type===m3,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const a=s.session;if("phoneNumber"in s)return le(a.type==="enroll",t,"internal-error"),(await BW(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{le(a.type==="signin",t,"internal-error");const u=((i=s.multiFactorHint)===null||i===void 0?void 0:i.uid)||s.multiFactorUid;return le(u,t,"missing-multi-factor-info"),(await iG(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:u,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:a}=await Zq(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return a}}finally{n._reset()}}async function SG(t,e){await vC(Pe(t),e)}let js=class{constructor(e){this.providerId=js.PROVIDER_ID,this.auth=Nn(e)}verifyPhoneNumber(e,n){return aT(this.auth,e,Pe(n))}static credential(e,n){return sl._fromVerification(e,n)}static credentialFromResult(e){const n=e;return js.credentialFromTaggedObject(n)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?sl._fromTokenResponse(n,i):null}};js.PROVIDER_ID="phone";js.PHONE_SIGN_IN_METHOD="phone";function kl(t,e){return e?lr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class SC extends uh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EG(t){return e3(t.auth,new SC(t),t.bypassAuthState)}function xG(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),ZU(n,new SC(t),t.bypassAuthState)}async function CG(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),vC(n,new SC(t),t.bypassAuthState)}class g3{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EG;case"linkViaPopup":case"linkViaRedirect":return CG;case"reauthViaPopup":case"reauthViaRedirect":return xG;default:Ln(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IG=new $m(2e3,1e4);async function v3(t,e,n){const i=Nn(t);ah(t,e,Qa);const r=kl(i,n);return new Sa(i,"signInViaPopup",e,r).executeNotNull()}async function kG(t,e,n){const i=Pe(t);ah(i.auth,e,Qa);const r=kl(i.auth,n);return new Sa(i.auth,"reauthViaPopup",e,r,i).executeNotNull()}async function AG(t,e,n){const i=Pe(t);ah(i.auth,e,Qa);const r=kl(i.auth,n);return new Sa(i.auth,"linkViaPopup",e,r,i).executeNotNull()}class Sa extends g3{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,IG.get())};e()}}Sa.currentPopupAction=null;const PG="pendingRedirect",Lp=new Map;class DG extends g3{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Lp.get(this.auth._key());if(!e){try{const i=await RG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Lp.set(this.auth._key(),e)}return this.bypassAuthState||Lp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RG(t,e){const n=_3(e),i=y3(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}async function EC(t,e){return y3(t)._set(_3(e),"true")}function OG(){Lp.clear()}function xC(t,e){Lp.set(t._key(),e)}function y3(t){return lr(t._redirectPersistence)}function _3(t){return rl(PG,t.config.apiKey,t.name)}function LG(t,e,n){return NG(t,e,n)}async function NG(t,e,n){const i=Nn(t);ah(t,e,Qa);const r=kl(i,n);return await EC(r,i),r._openRedirect(i,e,"signInViaRedirect")}function MG(t,e,n){return FG(t,e,n)}async function FG(t,e,n){const i=Pe(t);ah(i.auth,e,Qa);const r=kl(i.auth,n);await EC(r,i.auth);const s=await T3(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",s)}function UG(t,e,n){return BG(t,e,n)}async function BG(t,e,n){const i=Pe(t);ah(i.auth,e,Qa);const r=kl(i.auth,n);await Z_(!1,i,e.providerId),await EC(r,i.auth);const s=await T3(i);return r._openRedirect(i.auth,e,"linkViaRedirect",s)}async function jG(t,e){return await Nn(t)._initializationPromise,oT(t,e,!1)}async function oT(t,e,n=!1){const i=Nn(t),r=kl(i,e),a=await new DG(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}async function T3(t){const e=zm(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}const VG=10*60*1e3;class b3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$G(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!w3(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VG&&this.cachedEventUids.clear(),this.cachedEventUids.has(qO(e))}saveEventToCache(e){this.cachedEventUids.add(qO(e)),this.lastProcessedEventTime=Date.now()}}function qO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $G(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w3(t);default:return!1}}async function S3(t,e={}){return Bn(t,"GET","/v1/projects",e)}const HG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zG=/^https?/;async function qG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S3(t);for(const n of e)try{if(WG(n))return}catch{}Ln(t,"unauthorized-domain")}function WG(t){const e=dm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!zG.test(n))return!1;if(HG.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const GG=new $m(3e4,6e4);function WO(){const t=vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KG(t){return new Promise((e,n)=>{var i,r,s;function a(){WO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WO(),n(Xn(t,"network-request-failed"))},timeout:GG.get()})}if(!((r=(i=vn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=vn().gapi)===null||s===void 0)&&s.load)a();else{const u=p3("iframefcb");return vn()[u]=()=>{gapi.load?a():n(Xn(t,"network-request-failed"))},f3(`https://apis.google.com/js/api.js?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Qy=null,e})}let Qy=null;function XG(t){return Qy=Qy||KG(t),Qy}const YG=new $m(5e3,15e3),QG="__/auth/iframe",JG="emulator/auth/iframe",ZG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tK(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mC(e,JG):`https://${t.config.authDomain}/${QG}`,i={apiKey:e.apiKey,appName:t.name,v:ru},r=eK.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${sh(i).slice(1)}`}async function nK(t){const e=await XG(t),n=vn().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:tK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZG,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Xn(t,"network-request-failed"),u=vn().setTimeout(()=>{s(a)},YG.get());function c(){vn().clearTimeout(u),r(i)}i.ping(c).then(c,()=>{s(a)})}))}const iK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rK=500,sK=600,aK="_blank",oK="http://localhost";class GO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uK(t,e,n,i=rK,r=sK){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},iK),{width:i.toString(),height:r.toString(),top:s,left:a}),d=fn().toLowerCase();n&&(u=jU(d)?aK:n),BU(d)&&(e=e||oK,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[E,I])=>`${g}${E}=${I},`,"");if(Fq(d)&&u!=="_self")return lK(e||"",u),new GO(null);const m=window.open(e||"",u,f);le(m,t,"popup-blocked");try{m.focus()}catch{}return new GO(m)}function lK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const cK="__/auth/handler",dK="emulator/auth/handler";function eE(t,e,n,i,r,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ru,eventId:r};if(e instanceof Qa){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",F7(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))a[c]=d}if(e instanceof lh){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const c of Object.keys(u))u[c]===void 0&&delete u[c];return`${hK(t)}?${sh(u).slice(1)}`}function hK({config:t}){return t.emulator?mC(t,dK):`https://${t.authDomain}/${cK}`}const yS="webStorageSupport";class fK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Go,this._completeRedirectFn=oT,this._overrideRedirectResult=xC}async _openPopup(e,n,i,r){var s;os((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=eE(e,n,i,dm(),r);return uK(e,a,zm())}async _openRedirect(e,n,i,r){return await this._originValidation(e),KW(eE(e,n,i,dm(),r)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(os(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await nK(e),i=new b3(e);return n.register("authEvent",r=>(le(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yS,{type:yS},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[yS];a!==void 0&&n(!!a),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zU()||gC()||oh()}}const E3=fK;class pK{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return Os("unexpected MultiFactorSessionType")}}}class CC extends pK{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new CC(e)}_finalizeEnroll(e,n,i){return jW(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return rG(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class x3{constructor(){}static assertion(e){return CC._fromCredential(e)}}x3.FACTOR_ID="phone";var KO="@firebase/auth",XO="0.21.0";class mK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function vK(t){pr(new Wi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:s,authDomain:a}=i.options;return((u,c)=>{le(s&&!s.includes(":"),"invalid-api-key",{appName:u.name}),le(!(a!=null&&a.includes(":")),"argument-error",{appName:u.name});const d={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qU(t)},f=new Vq(u,c,d);return _q(f,n),f})(i,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),pr(new Wi("auth-internal",e=>{const n=Nn(e.getProvider("auth").getImmediate());return(i=>new mK(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(KO,XO,gK(t)),Kn(KO,XO,"esm2017")}const yK=5*60,_K=XF("authIdTokenMaxAge")||yK;let YO=null;const TK=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>_K)return;const r=n==null?void 0:n.token;YO!==r&&(YO=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function bK(t=G_()){const e=iu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yq(t,{popupRedirectResolver:E3,persistence:[Nd,iT,Go]}),i=XF("authTokenSyncURL");if(i){const s=TK(i);NW(n,s,()=>s(n.currentUser)),LW(n,a=>s(a))}const r=GF("auth");return r&&WU(n,`http://${r}`),n}vK("Browser");var wK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee,IC=IC||{},Me=wK||self;function H0(){}function uT(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Wm(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function SK(t){return Object.prototype.hasOwnProperty.call(t,_S)&&t[_S]||(t[_S]=++EK)}var _S="closure_uid_"+(1e9*Math.random()>>>0),EK=0;function xK(t,e,n){return t.call.apply(t.bind,arguments)}function CK(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function oi(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?oi=xK:oi=CK,oi.apply(null,arguments)}function _y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Jn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(i,r,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[r].apply(i,a)}}function au(){this.s=this.s,this.o=this.o}var IK=0;au.prototype.s=!1;au.prototype.na=function(){!this.s&&(this.s=!0,this.M(),IK!=0)&&SK(this)};au.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C3=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function kC(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function QO(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(uT(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let a=0;a<s;a++)t[r+a]=i[a]}else t.push(i)}}function ui(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ui.prototype.h=function(){this.defaultPrevented=!0};var kK=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Me.addEventListener("test",H0,e),Me.removeEventListener("test",H0,e)}catch{}return t}();function z0(t){return/^[\s\xa0]*$/.test(t)}var JO=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function TS(t,e){return t<e?-1:t>e?1:0}function lT(){var t=Me.navigator;return t&&(t=t.userAgent)?t:""}function Rs(t){return lT().indexOf(t)!=-1}function AC(t){return AC[" "](t),t}AC[" "]=H0;function AK(t){var e=RK;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var PK=Rs("Opera"),Md=Rs("Trident")||Rs("MSIE"),I3=Rs("Edge"),tE=I3||Md,k3=Rs("Gecko")&&!(lT().toLowerCase().indexOf("webkit")!=-1&&!Rs("Edge"))&&!(Rs("Trident")||Rs("MSIE"))&&!Rs("Edge"),DK=lT().toLowerCase().indexOf("webkit")!=-1&&!Rs("Edge");function A3(){var t=Me.document;return t?t.documentMode:void 0}var q0;e:{var bS="",wS=function(){var t=lT();if(k3)return/rv:([^\);]+)(\)|;)/.exec(t);if(I3)return/Edge\/([\d\.]+)/.exec(t);if(Md)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(DK)return/WebKit\/(\S+)/.exec(t);if(PK)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(wS&&(bS=wS?wS[1]:""),Md){var SS=A3();if(SS!=null&&SS>parseFloat(bS)){q0=String(SS);break e}}q0=bS}var RK={};function OK(){return AK(function(){let t=0;const e=JO(String(q0)).split("."),n=JO("9").split("."),i=Math.max(e.length,n.length);for(let a=0;t==0&&a<i;a++){var r=e[a]||"",s=n[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r[0].length==0&&s[0].length==0)break;t=TS(r[1].length==0?0:parseInt(r[1],10),s[1].length==0?0:parseInt(s[1],10))||TS(r[2].length==0,s[2].length==0)||TS(r[2],s[2]),r=r[3],s=s[3]}while(t==0)}return 0<=t})}var nE;if(Me.document&&Md){var ZO=A3();nE=ZO||parseInt(q0,10)||void 0}else nE=void 0;var LK=nE;function mm(t,e){if(ui.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(k3){e:{try{AC(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:NK[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&mm.X.h.call(this)}}Jn(mm,ui);var NK={2:"touch",3:"pen",4:"mouse"};mm.prototype.h=function(){mm.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gm="closure_listenable_"+(1e6*Math.random()|0),MK=0;function FK(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++MK,this.ba=this.ea=!1}function cT(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function PC(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function P3(t){const e={};for(const n in t)e[n]=t[n];return e}const eL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D3(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<eL.length;s++)n=eL[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function dT(t){this.src=t,this.g={},this.h=0}dT.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=rE(t,e,i,r);return-1<a?(e=t[a],n||(e.ea=!1)):(e=new FK(e,this.src,s,!!i,r),e.ea=n,t.push(e)),e};function iE(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=C3(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(cT(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function rE(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}var DC="closure_lm_"+(1e6*Math.random()|0),ES={};function R3(t,e,n,i,r){if(i&&i.once)return L3(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)R3(t,e[s],n,i,r);return null}return n=LC(n),t&&t[Gm]?t.N(e,n,Wm(i)?!!i.capture:!!i,r):O3(t,e,n,!1,i,r)}function O3(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var a=Wm(r)?!!r.capture:!!r,u=OC(t);if(u||(t[DC]=u=new dT(t)),n=u.add(e,n,i,a,s),n.proxy)return n;if(i=UK(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)kK||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(M3(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UK(){function t(n){return e.call(t.src,t.listener,n)}const e=BK;return t}function L3(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)L3(t,e[s],n,i,r);return null}return n=LC(n),t&&t[Gm]?t.O(e,n,Wm(i)?!!i.capture:!!i,r):O3(t,e,n,!0,i,r)}function N3(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)N3(t,e[s],n,i,r);else i=Wm(i)?!!i.capture:!!i,n=LC(n),t&&t[Gm]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=rE(s,n,i,r),-1<n&&(cT(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=OC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rE(e,n,i,r)),(n=-1<t?e[t]:null)&&RC(n))}function RC(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Gm])iE(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(M3(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=OC(e))?(iE(n,t),n.h==0&&(n.src=null,e[DC]=null)):cT(t)}}}function M3(t){return t in ES?ES[t]:ES[t]="on"+t}function BK(t,e){if(t.ba)t=!0;else{e=new mm(e,this);var n=t.listener,i=t.ha||t.src;t.ea&&RC(t),t=n.call(i,e)}return t}function OC(t){return t=t[DC],t instanceof dT?t:null}var xS="__closure_events_fn_"+(1e9*Math.random()>>>0);function LC(t){return typeof t=="function"?t:(t[xS]||(t[xS]=function(e){return t.handleEvent(e)}),t[xS])}function Mn(){au.call(this),this.i=new dT(this),this.P=this,this.I=null}Jn(Mn,au);Mn.prototype[Gm]=!0;Mn.prototype.removeEventListener=function(t,e,n,i){N3(this,t,e,n,i)};function Yn(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new ui(e,t);else if(e instanceof ui)e.target=e.target||t;else{var r=e;e=new ui(i,t),D3(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];r=Ty(a,i,!0,e)&&r}if(a=e.g=t,r=Ty(a,i,!0,e)&&r,r=Ty(a,i,!1,e)&&r,n)for(s=0;s<n.length;s++)a=e.g=n[s],r=Ty(a,i,!1,e)&&r}Mn.prototype.M=function(){if(Mn.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)cT(n[i]);delete t.g[e],t.h--}}this.I=null};Mn.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Mn.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Ty(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ba&&a.capture==n){var u=a.listener,c=a.ha||a.src;a.ea&&iE(t.i,a),r=u.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var NC=Me.JSON.stringify;function jK(){var t=B3;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class VK{constructor(){this.h=this.g=null}add(e,n){const i=F3.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var F3=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new $K,t=>t.reset());class $K{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function HK(t){Me.setTimeout(()=>{throw t},0)}function U3(t,e){sE||zK(),aE||(sE(),aE=!0),B3.add(t,e)}var sE;function zK(){var t=Me.Promise.resolve(void 0);sE=function(){t.then(qK)}}var aE=!1,B3=new VK;function qK(){for(var t;t=jK();){try{t.h.call(t.g)}catch(n){HK(n)}var e=F3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}aE=!1}function hT(t,e){Mn.call(this),this.h=t||1,this.g=e||Me,this.j=oi(this.lb,this),this.l=Date.now()}Jn(hT,Mn);Ee=hT.prototype;Ee.ca=!1;Ee.R=null;Ee.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Yn(this,"tick"),this.ca&&(MC(this),this.start()))}};Ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function MC(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}Ee.M=function(){hT.X.M.call(this),MC(this),delete this.g};function FC(t,e,n){if(typeof t=="function")n&&(t=oi(t,n));else if(t&&typeof t.handleEvent=="function")t=oi(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Me.setTimeout(t,e||0)}function j3(t){t.g=FC(()=>{t.g=null,t.i&&(t.i=!1,j3(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class WK extends au{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:j3(this)}M(){super.M(),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gm(t){au.call(this),this.h=t,this.g={}}Jn(gm,au);var tL=[];function V3(t,e,n,i){Array.isArray(n)||(n&&(tL[0]=n.toString()),n=tL);for(var r=0;r<n.length;r++){var s=R3(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function $3(t){PC(t.g,function(e,n){this.g.hasOwnProperty(n)&&RC(e)},t),t.g={}}gm.prototype.M=function(){gm.X.M.call(this),$3(this)};gm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fT(){this.g=!0}fT.prototype.Aa=function(){this.g=!1};function GK(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var a="",u=s.split("&"),c=0;c<u.length;c++){var d=u[c].split("=");if(1<d.length){var f=d[0];d=d[1];var m=f.split("_");a=2<=m.length&&m[1]=="type"?a+(f+"="+d+"&"):a+(f+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function KK(t,e,n,i,r,s,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+a})}function ad(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+YK(t,n)+(i?" "+i:"")})}function XK(t,e){t.info(function(){return"TIMEOUT: "+e})}fT.prototype.info=function(){};function YK(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return NC(n)}catch{return e}}var Al={},nL=null;function pT(){return nL=nL||new Mn}Al.Pa="serverreachability";function H3(t){ui.call(this,Al.Pa,t)}Jn(H3,ui);function vm(t){const e=pT();Yn(e,new H3(e))}Al.STAT_EVENT="statevent";function z3(t,e){ui.call(this,Al.STAT_EVENT,t),this.stat=e}Jn(z3,ui);function Ci(t){const e=pT();Yn(e,new z3(e,t))}Al.Qa="timingevent";function q3(t,e){ui.call(this,Al.Qa,t),this.size=e}Jn(q3,ui);function Km(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){t()},e)}var mT={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},W3={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function UC(){}UC.prototype.h=null;function iL(t){return t.h||(t.h=t.i())}function G3(){}var Xm={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function BC(){ui.call(this,"d")}Jn(BC,ui);function jC(){ui.call(this,"c")}Jn(jC,ui);var oE;function gT(){}Jn(gT,UC);gT.prototype.g=function(){return new XMLHttpRequest};gT.prototype.i=function(){return{}};oE=new gT;function Ym(t,e,n,i){this.l=t,this.j=e,this.m=n,this.U=i||1,this.S=new gm(this),this.O=QK,t=tE?125:void 0,this.T=new hT(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new K3}function K3(){this.i=null,this.g="",this.h=!1}var QK=45e3,uE={},W0={};Ee=Ym.prototype;Ee.setTimeout=function(t){this.O=t};function lE(t,e,n){t.K=1,t.v=yT(Ba(e)),t.s=n,t.P=!0,X3(t,null)}function X3(t,e){t.F=Date.now(),Qm(t),t.A=Ba(t.v);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),iB(n.i,"t",i),t.C=0,n=t.l.H,t.h=new K3,t.g=EB(t.l,n?e:null,!t.s),0<t.N&&(t.L=new WK(oi(t.La,t,t.g),t.N)),V3(t.S,t.g,"readystatechange",t.ib),e=t.H?P3(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),vm(),GK(t.j,t.u,t.A,t.m,t.U,t.s)}Ee.ib=function(t){t=t.target;const e=this.L;e&&Ea(t)==3?e.l():this.La(t)};Ee.La=function(t){try{if(t==this.g)e:{const f=Ea(this.g);var e=this.g.Ea();const m=this.g.aa();if(!(3>f)&&(f!=3||tE||this.g&&(this.h.h||this.g.fa()||oL(this.g)))){this.I||f!=4||e==7||(e==8||0>=m?vm(3):vm(2)),vT(this);var n=this.g.aa();this.Y=n;t:if(Y3(this)){var i=oL(this.g);t="";var r=i.length,s=Ea(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qu(this),Np(this);var a="";break t}this.h.i=new Me.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=n==200,KK(this.j,this.u,this.A,this.m,this.U,f,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z0(u)){var d=u;break t}}d=null}if(n=d)ad(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cE(this,n);else{this.i=!1,this.o=3,Ci(12),Qu(this),Np(this);break e}}this.P?(Q3(this,f,a),tE&&this.i&&f==3&&(V3(this.S,this.T,"tick",this.hb),this.T.start())):(ad(this.j,this.m,a,null),cE(this,a)),f==4&&Qu(this),this.i&&!this.I&&(f==4?TB(this.l,this):(this.i=!1,Qm(this)))}else n==400&&0<a.indexOf("Unknown SID")?(this.o=3,Ci(12)):(this.o=0,Ci(13)),Qu(this),Np(this)}}}catch{}finally{}};function Y3(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Q3(t,e,n){let i=!0,r;for(;!t.I&&t.C<n.length;)if(r=JK(t,n),r==W0){e==4&&(t.o=4,Ci(14),i=!1),ad(t.j,t.m,null,"[Incomplete Response]");break}else if(r==uE){t.o=4,Ci(15),ad(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else ad(t.j,t.m,r,null),cE(t,r);Y3(t)&&r!=W0&&r!=uE&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ci(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),GC(e),e.K=!0,Ci(11))):(ad(t.j,t.m,n,"[Invalid Chunked Response]"),Qu(t),Np(t))}Ee.hb=function(){if(this.g){var t=Ea(this.g),e=this.g.fa();this.C<e.length&&(vT(this),Q3(this,t,e),this.i&&t!=4&&Qm(this))}};function JK(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?W0:(n=Number(e.substring(n,i)),isNaN(n)?uE:(i+=1,i+n>e.length?W0:(e=e.substr(i,n),t.C=i+n,e)))}Ee.cancel=function(){this.I=!0,Qu(this)};function Qm(t){t.V=Date.now()+t.O,J3(t,t.O)}function J3(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Km(oi(t.gb,t),e)}function vT(t){t.B&&(Me.clearTimeout(t.B),t.B=null)}Ee.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(XK(this.j,this.A),this.K!=2&&(vm(),Ci(17)),Qu(this),this.o=2,Np(this)):J3(this,this.V-t)};function Np(t){t.l.G==0||t.I||TB(t.l,t)}function Qu(t){vT(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,MC(t.T),$3(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function cE(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||dE(n.h,t))){if(!t.J&&dE(n.h,t)&&n.G==3){try{var i=n.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)X0(n),bT(n);else break e;WC(n),Ci(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&n.A==0&&!n.v&&(n.v=Km(oi(n.cb,n),6e3));if(1>=aB(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ju(n,11)}else if((t.J||n.g==t)&&X0(n),!z0(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let d=r[e];if(n.T=d[0],d=d[1],n.G==2)if(d[0]=="c"){n.I=d[1],n.ka=d[2];const f=d[3];f!=null&&(n.ma=f,n.j.info("VER="+n.ma));const m=d[4];m!=null&&(n.Ca=m,n.j.info("SVER="+n.Ca));const g=d[5];g!=null&&typeof g=="number"&&0<g&&(i=1.5*g,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const E=t.g;if(E){const I=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var s=i.h;s.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(VC(s,s.h),s.h=null))}if(i.D){const b=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(i.za=b,Ft(i.F,i.D,b))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var a=t;if(i.sa=SB(i,i.H?i.ka:null,i.V),a.J){oB(i.h,a);var u=a,c=i.J;c&&u.setTimeout(c),u.B&&(vT(u),Qm(u)),i.g=a}else yB(i);0<n.i.length&&wT(n)}else d[0]!="stop"&&d[0]!="close"||Ju(n,7);else n.G==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Ju(n,7):qC(n):d[0]!="noop"&&n.l&&n.l.wa(d),n.A=0)}}vm(4)}catch{}}function ZK(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(uT(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function eX(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(uT(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function Z3(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(uT(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=eX(t),i=ZK(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var eB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function al(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof al){this.h=e!==void 0?e:t.h,G0(this,t.j),this.s=t.s,this.g=t.g,K0(this,t.m),this.l=t.l,e=t.i;var n=new ym;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),rL(this,n),this.o=t.o}else t&&(n=String(t).match(eB))?(this.h=!!e,G0(this,n[1]||"",!0),this.s=fp(n[2]||""),this.g=fp(n[3]||"",!0),K0(this,n[4]),this.l=fp(n[5]||"",!0),rL(this,n[6]||"",!0),this.o=fp(n[7]||"")):(this.h=!!e,this.i=new ym(null,this.h))}al.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pp(e,sL,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(pp(e,sL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(pp(n,n.charAt(0)=="/"?rX:iX,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pp(n,aX)),t.join("")};function Ba(t){return new al(t)}function G0(t,e,n){t.j=n?fp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function K0(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rL(t,e,n){e instanceof ym?(t.i=e,oX(t.i,t.h)):(n||(e=pp(e,sX)),t.i=new ym(e,t.h))}function Ft(t,e,n){t.i.set(e,n)}function yT(t){return Ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pp(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,nX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nX(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sL=/[#\/\?@]/g,iX=/[#\?:]/g,rX=/[#\?]/g,sX=/[#\?@]/g,aX=/#/g;function ym(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ou(t){t.g||(t.g=new Map,t.h=0,t.i&&tX(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ee=ym.prototype;Ee.add=function(t,e){ou(this),this.i=null,t=ch(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tB(t,e){ou(t),e=ch(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nB(t,e){return ou(t),e=ch(t,e),t.g.has(e)}Ee.forEach=function(t,e){ou(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};Ee.oa=function(){ou(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};Ee.W=function(t){ou(this);let e=[];if(typeof t=="string")nB(this,t)&&(e=e.concat(this.g.get(ch(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ee.set=function(t,e){return ou(this),this.i=null,t=ch(this,t),nB(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ee.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function iB(t,e,n){tB(t,e),0<n.length&&(t.i=null,t.g.set(ch(t,e),kC(n)),t.h+=n.length)}Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),a=this.W(i);for(i=0;i<a.length;i++){var r=s;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function ch(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oX(t,e){e&&!t.j&&(ou(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(tB(this,i),iB(this,r,n))},t)),t.j=e}var uX=class{constructor(e,n){this.h=e,this.g=n}};function rB(t){this.l=t||lX,Me.PerformanceNavigationTiming?(t=Me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Me.g&&Me.g.Ga&&Me.g.Ga()&&Me.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lX=10;function sB(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function aB(t){return t.h?1:t.g?t.g.size:0}function dE(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function VC(t,e){t.g?t.g.add(e):t.h=e}function oB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}rB.prototype.cancel=function(){if(this.i=uB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uB(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return kC(t.i)}function $C(){}$C.prototype.stringify=function(t){return Me.JSON.stringify(t,void 0)};$C.prototype.parse=function(t){return Me.JSON.parse(t,void 0)};function cX(){this.g=new $C}function dX(t,e,n){const i=n||"";try{Z3(t,function(r,s){let a=r;Wm(r)&&(a=NC(r)),e.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function hX(t,e){const n=new fT;if(Me.Image){const i=new Image;i.onload=_y(by,n,i,"TestLoadImage: loaded",!0,e),i.onerror=_y(by,n,i,"TestLoadImage: error",!1,e),i.onabort=_y(by,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=_y(by,n,i,"TestLoadImage: timeout",!1,e),Me.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function by(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Jm(t){this.l=t.ac||null,this.j=t.jb||!1}Jn(Jm,UC);Jm.prototype.g=function(){return new _T(this.l,this.j)};Jm.prototype.i=function(t){return function(){return t}}({});function _T(t,e){Mn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=HC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jn(_T,Mn);var HC=0;Ee=_T.prototype;Ee.open=function(t,e){if(this.readyState!=HC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_m(this)};Ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Me).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zm(this)),this.readyState=HC};Ee.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_m(this)),this.g&&(this.readyState=3,_m(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lB(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function lB(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}Ee.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zm(this):_m(this),this.readyState==3&&lB(this)}};Ee.Va=function(t){this.g&&(this.response=this.responseText=t,Zm(this))};Ee.Ua=function(t){this.g&&(this.response=t,Zm(this))};Ee.ga=function(){this.g&&Zm(this)};function Zm(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_m(t)}Ee.setRequestHeader=function(t,e){this.v.append(t,e)};Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function _m(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_T.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var fX=Me.JSON.parse;function Xt(t){Mn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cB,this.K=this.L=!1}Jn(Xt,Mn);var cB="",pX=/^https?$/i,mX=["POST","PUT"];Ee=Xt.prototype;Ee.Ka=function(t){this.L=t};Ee.da=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oE.g(),this.C=this.u?iL(this.u):iL(oE),this.g.onreadystatechange=oi(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){aL(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=Me.FormData&&t instanceof Me.FormData,!(0<=C3(mX,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fB(this),0<this.B&&((this.K=gX(this.g))?(this.g.timeout=this.B,this.g.ontimeout=oi(this.qa,this)):this.A=FC(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){aL(this,s)}};function gX(t){return Md&&OK()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ee.qa=function(){typeof IC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yn(this,"timeout"),this.abort(8))};function aL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dB(t),TT(t)}function dB(t){t.D||(t.D=!0,Yn(t,"complete"),Yn(t,"error"))}Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yn(this,"complete"),Yn(this,"abort"),TT(this))};Ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),TT(this,!0)),Xt.X.M.call(this)};Ee.Ha=function(){this.s||(this.F||this.v||this.l?hB(this):this.fb())};Ee.fb=function(){hB(this)};function hB(t){if(t.h&&typeof IC<"u"&&(!t.C[1]||Ea(t)!=4||t.aa()!=2)){if(t.v&&Ea(t)==4)FC(t.Ha,0,t);else if(Yn(t,"readystatechange"),Ea(t)==4){t.h=!1;try{const u=t.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=u===0){var r=String(t.H).match(eB)[1]||null;if(!r&&Me.self&&Me.self.location){var s=Me.self.location.protocol;r=s.substr(0,s.length-1)}i=!pX.test(r?r.toLowerCase():"")}n=i}if(n)Yn(t,"complete"),Yn(t,"success");else{t.m=6;try{var a=2<Ea(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.aa()+"]",dB(t)}}finally{TT(t)}}}}function TT(t,e){if(t.g){fB(t);const n=t.g,i=t.C[0]?H0:null;t.g=null,t.C=null,e||Yn(t,"ready");try{n.onreadystatechange=i}catch{}}}function fB(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Me.clearTimeout(t.A),t.A=null)}function Ea(t){return t.g?t.g.readyState:0}Ee.aa=function(){try{return 2<Ea(this)?this.g.status:-1}catch{return-1}};Ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ee.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),fX(e)}};function oL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case cB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Ee.Ea=function(){return this.m};Ee.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pB(t){let e="";return PC(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function zC(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=pB(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ft(t,e,n))}function Yf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mB(t){this.Ca=0,this.i=[],this.j=new fT,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Yf("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Yf("baseRetryDelayMs",5e3,t),this.bb=Yf("retryDelaySeedMs",1e4,t),this.$a=Yf("forwardChannelMaxRetries",2,t),this.ta=Yf("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new rB(t&&t.concurrentRequestLimit),this.Fa=new cX,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}Ee=mB.prototype;Ee.ma=8;Ee.G=1;function qC(t){if(gB(t),t.G==3){var e=t.U++,n=Ba(t.F);Ft(n,"SID",t.I),Ft(n,"RID",e),Ft(n,"TYPE","terminate"),eg(t,n),e=new Ym(t,t.j,e,void 0),e.K=2,e.v=yT(Ba(n)),n=!1,Me.navigator&&Me.navigator.sendBeacon&&(n=Me.navigator.sendBeacon(e.v.toString(),"")),!n&&Me.Image&&(new Image().src=e.v,n=!0),n||(e.g=EB(e.l,null),e.g.da(e.v)),e.F=Date.now(),Qm(e)}wB(t)}function bT(t){t.g&&(GC(t),t.g.cancel(),t.g=null)}function gB(t){bT(t),t.u&&(Me.clearTimeout(t.u),t.u=null),X0(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Me.clearTimeout(t.m),t.m=null)}function wT(t){sB(t.h)||t.m||(t.m=!0,U3(t.Ja,t),t.C=0)}function vX(t,e){return aB(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Km(oi(t.Ja,t,e),bB(t,t.C)),t.C++,!0)}Ee.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new Ym(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=P3(s),D3(s,this.S)):s=this.S),this.o!==null||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var i=this.i[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vB(this,r,e),n=Ba(this.F),Ft(n,"RID",t),Ft(n,"CVER",22),this.D&&Ft(n,"X-HTTP-Session-Id",this.D),eg(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(pB(s)))+"&"+e:this.o&&zC(n,this.o,s)),VC(this.h,r),this.Ya&&Ft(n,"TYPE","init"),this.O?(Ft(n,"$req",e),Ft(n,"SID","null"),r.Z=!0,lE(r,n,null)):lE(r,n,e),this.G=2}}else this.G==3&&(t?uL(this,t):this.i.length==0||sB(this.h)||uL(this))};function uL(t,e){var n;e?n=e.m:n=t.U++;const i=Ba(t.F);Ft(i,"SID",t.I),Ft(i,"RID",n),Ft(i,"AID",t.T),eg(t,i),t.o&&t.s&&zC(i,t.o,t.s),n=new Ym(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=vB(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),VC(t.h,n),lE(n,i,e)}function eg(t,e){t.ia&&PC(t.ia,function(n,i){Ft(e,i,n)}),t.l&&Z3({},function(n,i){Ft(e,i,n)})}function vB(t,e,n){n=Math.min(t.i.length,n);var i=t.l?oi(t.l.Ra,t.l,t):null;e:{var r=t.i;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=r[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let c=0;c<n;c++){let d=r[c].h;const f=r[c].g;if(d-=s,0>d)s=Math.max(0,r[c].h-100),u=!1;else try{dX(f,a,"req"+d+"_")}catch{i&&i(f)}}if(u){i=a.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,i}function yB(t){t.g||t.u||(t.Z=1,U3(t.Ia,t),t.A=0)}function WC(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Km(oi(t.Ia,t),bB(t,t.A)),t.A++,!0)}Ee.Ia=function(){if(this.u=null,_B(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Km(oi(this.eb,this),t)}};Ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ci(10),bT(this),_B(this))};function GC(t){t.B!=null&&(Me.clearTimeout(t.B),t.B=null)}function _B(t){t.g=new Ym(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Ba(t.sa);Ft(e,"RID","rpc"),Ft(e,"SID",t.I),Ft(e,"CI",t.L?"0":"1"),Ft(e,"AID",t.T),Ft(e,"TYPE","xmlhttp"),eg(t,e),t.o&&t.s&&zC(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=yT(Ba(e)),n.s=null,n.P=!0,X3(n,t)}Ee.cb=function(){this.v!=null&&(this.v=null,bT(this),WC(this),Ci(19))};function X0(t){t.v!=null&&(Me.clearTimeout(t.v),t.v=null)}function TB(t,e){var n=null;if(t.g==e){X0(t),GC(t),t.g=null;var i=2}else if(dE(t.h,e))n=e.D,oB(t.h,e),i=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;i=pT(),Yn(i,new q3(i,n)),wT(t)}else yB(t);else if(r=e.o,r==3||r==0&&0<t.pa||!(i==1&&vX(t,e)||i==2&&WC(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Ju(t,5);break;case 4:Ju(t,10);break;case 3:Ju(t,6);break;default:Ju(t,2)}}}function bB(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ju(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var i=oi(t.kb,t);n||(n=new al("//www.google.com/images/cleardot.gif"),Me.location&&Me.location.protocol=="http"||G0(n,"https"),yT(n)),hX(n.toString(),i)}else Ci(2);t.G=0,t.l&&t.l.va(e),wB(t),gB(t)}Ee.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ci(2)):(this.j.info("Failed to ping google.com"),Ci(1))};function wB(t){if(t.G=0,t.la=[],t.l){const e=uB(t.h);(e.length!=0||t.i.length!=0)&&(QO(t.la,e),QO(t.la,t.i),t.h.i.length=0,kC(t.i),t.i.length=0),t.l.ua()}}function SB(t,e,n){var i=n instanceof al?Ba(n):new al(n,void 0);if(i.g!="")e&&(i.g=e+"."+i.g),K0(i,i.m);else{var r=Me.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new al(null,void 0);i&&G0(s,i),e&&(s.g=e),r&&K0(s,r),n&&(s.l=n),i=s}return n=t.D,e=t.za,n&&e&&Ft(i,n,e),Ft(i,"VER",t.ma),eg(t,i),i}function EB(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Xt(new Jm({jb:!0})):new Xt(t.ra),e.Ka(t.H),e}function xB(){}Ee=xB.prototype;Ee.xa=function(){};Ee.wa=function(){};Ee.va=function(){};Ee.ua=function(){};Ee.Ra=function(){};function Y0(){if(Md&&!(10<=Number(LK)))throw Error("Environmental error: no available transport.")}Y0.prototype.g=function(t,e){return new mr(t,e)};function mr(t,e){Mn.call(this),this.g=new mB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!z0(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!z0(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new dh(this)}Jn(mr,Mn);mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Ci(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=SB(t,null,t.V),wT(t)};mr.prototype.close=function(){qC(this.g)};mr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=NC(t),t=n);e.i.push(new uX(e.ab++,t)),e.G==3&&wT(e)};mr.prototype.M=function(){this.g.l=null,delete this.j,qC(this.g),delete this.g,mr.X.M.call(this)};function CB(t){BC.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Jn(CB,BC);function IB(){jC.call(this),this.status=1}Jn(IB,jC);function dh(t){this.g=t}Jn(dh,xB);dh.prototype.xa=function(){Yn(this.g,"a")};dh.prototype.wa=function(t){Yn(this.g,new CB(t))};dh.prototype.va=function(t){Yn(this.g,new IB)};dh.prototype.ua=function(){Yn(this.g,"b")};Y0.prototype.createWebChannel=Y0.prototype.g;mr.prototype.send=mr.prototype.u;mr.prototype.open=mr.prototype.m;mr.prototype.close=mr.prototype.close;mT.NO_ERROR=0;mT.TIMEOUT=8;mT.HTTP_ERROR=6;W3.COMPLETE="complete";G3.EventType=Xm;Xm.OPEN="a";Xm.CLOSE="b";Xm.ERROR="c";Xm.MESSAGE="d";Mn.prototype.listen=Mn.prototype.N;Xt.prototype.listenOnce=Xt.prototype.O;Xt.prototype.getLastError=Xt.prototype.Oa;Xt.prototype.getLastErrorCode=Xt.prototype.Ea;Xt.prototype.getStatus=Xt.prototype.aa;Xt.prototype.getResponseJson=Xt.prototype.Sa;Xt.prototype.getResponseText=Xt.prototype.fa;Xt.prototype.send=Xt.prototype.da;Xt.prototype.setWithCredentials=Xt.prototype.Ka;var yX=function(){return new Y0},_X=function(){return pT()},CS=mT,TX=W3,bX=Al,lL={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},wX=Jm,wy=G3,SX=Xt;const cL="@firebase/firestore";class ni{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");let hh="9.15.0";const bl=new Vm("@firebase/firestore");function dL(){return bl.logLevel}function Ce(t,...e){if(bl.logLevel<=rt.DEBUG){const n=e.map(KC);bl.debug(`Firestore (${hh}): ${t}`,...n)}}function ja(t,...e){if(bl.logLevel<=rt.ERROR){const n=e.map(KC);bl.error(`Firestore (${hh}): ${t}`,...n)}}function hE(t,...e){if(bl.logLevel<=rt.WARN){const n=e.map(KC);bl.warn(`Firestore (${hh}): ${t}`,...n)}}function KC(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}function Le(t="Unexpected state"){const e=`FIRESTORE (${hh}) INTERNAL ASSERTION FAILED: `+t;throw ja(e),new Error(e)}function bt(t,e){t||Le()}function Ve(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class kB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ni.UNAUTHENTICATED))}shutdown(){}}class xX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CX{constructor(e){this.t=e,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new Vo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vo,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},u=c=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vo)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt(typeof i.accessToken=="string"),new kB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string"),new ni(e)}}class IX{constructor(e,n,i,r){this.h=e,this.l=n,this.m=i,this.g=r,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(bt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class kX{constructor(e,n,i,r){this.h=e,this.l=n,this.m=i,this.g=r}getToken(){return Promise.resolve(new IX(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PX{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const i=s=>{s.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.A;return this.A=s.token,Ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string"),this.A=n.token,new AX(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function DX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class AB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=DX(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function ct(t,e){return t<e?-1:t>e?1:0}function Fd(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}class _n{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new _n(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new _n(0,0))}static max(){return new Ue(new _n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tm{constructor(e,n,i){n===void 0?n=0:n>e.length&&Le(),i===void 0?i=e.length-n:i>e.length-n&&Le(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Tm.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tm?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),a=n.get(r);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ct extends Tm{construct(e,n,i){return new Ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const RX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ai extends Tm{construct(e,n,i){return new ai(e,n,i)}static isValidIdentifier(e){return RX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ai(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Te(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new Te(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else u==="`"?(a=!a,r++):u!=="."||a?(i+=u,r++):(s(),r++)}if(s(),a)throw new Te(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ai(n)}static emptyPath(){return new ai([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Ct.fromString(e))}static fromName(e){return new ke(Ct.fromString(e).popFirst(5))}static empty(){return new ke(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Ct(e.slice()))}}function OX(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ue.fromTimestamp(i===1e9?new _n(n+1,0):new _n(n,i));return new Ko(r,ke.empty(),e)}function LX(t){return new Ko(t.readTime,t.key,-1)}class Ko{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ko(Ue.min(),ke.empty(),-1)}static max(){return new Ko(Ue.max(),ke.empty(),-1)}}function NX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}const MX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function tg(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==MX)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,i)=>{n(e)})}static reject(e){return new ue((n,i)=>{i(e)})}static waitFor(e){return new ue((n,i)=>{let r=0,s=0,a=!1;e.forEach(u=>{++r,u.next(()=>{++s,a&&s===r&&n()},c=>i(c))}),a=!0,s===r&&n()})}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next(r=>r?ue.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new ue((i,r)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(f=>{a[d]=f,++u,u===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new ue((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function ng(t){return t.name==="IndexedDbTransactionError"}class XC{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>n.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}XC.at=-1;class UX{constructor(e,n,i,r,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=c}}class bm{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bm&&e.projectId===this.projectId&&e.database===this.database}}function hL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ST(t){return t==null}function Q0(t){return t===0&&1/t==-1/0}function BX(t){return typeof t=="number"&&Number.isInteger(t)&&!Q0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new di(n)}static fromUint8Array(e){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const jX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(t){if(bt(!!t),typeof t=="string"){let e=0;const n=jX.exec(t);if(bt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ud(t){return typeof t=="string"?di.fromBase64String(t):di.fromUint8Array(t)}function DB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function RB(t){const e=t.mapValue.fields.__previous_value__;return DB(e)?RB(e):e}function wm(t){const e=Xo(t.mapValue.fields.__local_write_time__.timestampValue);return new _n(e.seconds,e.nanos)}const Sy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?DB(t)?4:VX(t)?9007199254740991:10:Le()}function Gs(t,e){if(t===e)return!0;const n=wl(t);if(n!==wl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wm(t).isEqual(wm(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Xo(i.timestampValue),a=Xo(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Ud(i.bytesValue).isEqual(Ud(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return ln(i.geoPointValue.latitude)===ln(r.geoPointValue.latitude)&&ln(i.geoPointValue.longitude)===ln(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ln(i.integerValue)===ln(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=ln(i.doubleValue),a=ln(r.doubleValue);return s===a?Q0(s)===Q0(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Fd(t.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(hL(s)!==hL(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Gs(s[u],a[u])))return!1;return!0}(t,e);default:return Le()}}function Sm(t,e){return(t.values||[]).find(n=>Gs(n,e))!==void 0}function Bd(t,e){if(t===e)return 0;const n=wl(t),i=wl(e);if(n!==i)return ct(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(r,s){const a=ln(r.integerValue||r.doubleValue),u=ln(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return fL(t.timestampValue,e.timestampValue);case 4:return fL(wm(t),wm(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(r,s){const a=Ud(r),u=Ud(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,s){const a=r.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ct(a[c],u[c]);if(d!==0)return d}return ct(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,s){const a=ct(ln(r.latitude),ln(s.latitude));return a!==0?a:ct(ln(r.longitude),ln(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,s){const a=r.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=Bd(a[c],u[c]);if(d)return d}return ct(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Sy.mapValue&&s===Sy.mapValue)return 0;if(r===Sy.mapValue)return 1;if(s===Sy.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=ct(u[f],d[f]);if(m!==0)return m;const g=Bd(a[u[f]],c[d[f]]);if(g!==0)return g}return ct(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Le()}}function fL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Xo(t),i=Xo(e),r=ct(n.seconds,i.seconds);return r!==0?r:ct(n.nanos,i.nanos)}function jd(t){return fE(t)}function fE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=Xo(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ud(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ke.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=fE(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${fE(i.fields[u])}`;return s+"}"}(t.mapValue):Le();var e,n}function pL(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pE(t){return!!t&&"integerValue"in t}function YC(t){return!!t&&"arrayValue"in t}function mL(t){return!!t&&"nullValue"in t}function gL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jy(t){return!!t&&"mapValue"in t}function Mp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pl(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Mp(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class J0{constructor(e,n){this.position=e,this.inclusive=n}}function vL(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=ke.comparator(ke.fromName(a.referenceValue),n.key):i=Bd(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function yL(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gs(t.position[n],e.position[n]))return!1;return!0}class OB{}class dn extends OB{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new zX(e,n,i):n==="array-contains"?new GX(e,i):n==="in"?new KX(e,i):n==="not-in"?new XX(e,i):n==="array-contains-any"?new YX(e,i):new dn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new qX(e,i):new WX(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bd(n,this.value)):n!==null&&wl(this.value)===wl(n)&&this.matchesComparison(Bd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class us extends OB{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new us(e,n)}matches(e){return LB(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function LB(t){return t.op==="and"}function $X(t){return HX(t)&&LB(t)}function HX(t){for(const e of t.filters)if(e instanceof us)return!1;return!0}function NB(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+jd(t.value);{const e=t.filters.map(n=>NB(n)).join(",");return`${t.op}(${e})`}}function MB(t,e){return t instanceof dn?function(n,i){return i instanceof dn&&n.op===i.op&&n.field.isEqual(i.field)&&Gs(n.value,i.value)}(t,e):t instanceof us?function(n,i){return i instanceof us&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,s,a)=>r&&MB(s,i.filters[a]),!0):!1}(t,e):void Le()}function FB(t){return t instanceof dn?function(e){return`${e.field.canonicalString()} ${e.op} ${jd(e.value)}`}(t):t instanceof us?function(e){return e.op.toString()+" {"+e.getFilters().map(FB).join(" ,")+"}"}(t):"Filter"}class zX extends dn{constructor(e,n,i){super(e,n,i),this.key=ke.fromName(i.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class qX extends dn{constructor(e,n){super(e,"in",n),this.keys=UB("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WX extends dn{constructor(e,n){super(e,"not-in",n),this.keys=UB("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UB(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ke.fromName(i.referenceValue))}class GX extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return YC(n)&&Sm(n.arrayValue,this.value)}}class KX extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sm(this.value.arrayValue,n)}}class XX extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sm(this.value.arrayValue,n)}}class YX extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!YC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Sm(this.value.arrayValue,i))}}class Td{constructor(e,n="asc"){this.field=e,this.dir=n}}function QX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class bn{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new bn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ey(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ey(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ey(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ey(this.root,e,this.comparator,!0)}}class Ey{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??qn.RED,this.left=r??qn.EMPTY,this.right=s??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new qn(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return qn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(t,e,n,i,r){return this}insert(t,e,n){return new qn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tn{constructor(e){this.comparator=e,this.data=new bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _L(this.data.getIterator())}getIteratorFrom(e){return new _L(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class _L{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kr{constructor(e){this.fields=e,e.sort(ai.comparator)}static empty(){return new kr([])}unionWith(e){let n=new Tn(ai.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fd(this.fields,e.fields,(n,i)=>n.isEqual(i))}}class Bi{constructor(e){this.value=e}static empty(){return new Bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Jy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mp(n)}setAll(e){let n=ai.emptyPath(),i={},r=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=u.popLast()}a?i[u.lastSegment()]=Mp(a):r.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Jy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Jy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Pl(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Bi(Mp(this.value))}}function BB(t){const e=[];return Pl(t.fields,(n,i)=>{const r=new ai([n]);if(Jy(i)){const s=BB(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new kr(e)}class si{constructor(e,n,i,r,s,a,u){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new si(e,0,Ue.min(),Ue.min(),Ue.min(),Bi.empty(),0)}static newFoundDocument(e,n,i,r){return new si(e,1,n,Ue.min(),i,r,0)}static newNoDocument(e,n){return new si(e,2,n,Ue.min(),Ue.min(),Bi.empty(),0)}static newUnknownDocument(e,n){return new si(e,3,n,Ue.min(),Ue.min(),Bi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class JX{constructor(e,n=null,i=[],r=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=u,this.ft=null}}function TL(t,e=null,n=[],i=[],r=null,s=null,a=null){return new JX(t,e,n,i,r,s,a)}function QC(t){const e=Ve(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>NB(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),ST(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>jd(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>jd(i)).join(",")),e.ft=n}return e.ft}function JC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yL(t.startAt,e.startAt)&&yL(t.endAt,e.endAt)}function mE(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class fh{constructor(e,n=null,i=[],r=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.dt=null,this._t=null,this.startAt,this.endAt}}function ZX(t,e,n,i,r,s,a,u){return new fh(t,e,n,i,r,s,a,u)}function ZC(t){return new fh(t)}function bL(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ET(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function jB(t){return t.collectionGroup!==null}function bd(t){const e=Ve(t);if(e.dt===null){e.dt=[];const n=ET(e),i=eI(e);if(n!==null&&i===null)n.isKeyField()||e.dt.push(new Td(n)),e.dt.push(new Td(ai.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Td(ai.keyField(),s))}}}return e.dt}function Va(t){const e=Ve(t);if(!e._t)if(e.limitType==="F")e._t=TL(e.path,e.collectionGroup,bd(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of bd(e)){const a=s.dir==="desc"?"asc":"desc";n.push(new Td(s.field,a))}const i=e.endAt?new J0(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new J0(e.startAt.position,e.startAt.inclusive):null;e._t=TL(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e._t}function gE(t,e){e.getFirstInequalityField(),ET(t);const n=t.filters.concat([e]);return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vE(t,e,n){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xT(t,e){return JC(Va(t),Va(e))&&t.limitType===e.limitType}function VB(t){return`${QC(Va(t))}|lt:${t.limitType}`}function yE(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>FB(i)).join(", ")}]`),ST(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>jd(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>jd(i)).join(",")),`Target(${n})`}(Va(t))}; limitType=${t.limitType})`}function tI(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):ke.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of bd(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(r,s,a){const u=vL(r,s,a);return r.inclusive?u<=0:u<0}(n.startAt,bd(n),i)||n.endAt&&!function(r,s,a){const u=vL(r,s,a);return r.inclusive?u>=0:u>0}(n.endAt,bd(n),i))}(t,e)}function eY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $B(t){return(e,n)=>{let i=!1;for(const r of bd(t)){const s=tY(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function tY(t,e,n){const i=t.field.isKeyField()?ke.comparator(e.key,n.key):function(r,s,a){const u=s.data.field(r),c=a.data.field(r);return u!==null&&c!==null?Bd(u,c):Le()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Le()}}function HB(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Q0(e)?"-0":e}}function zB(t){return{integerValue:""+t}}function nY(t,e){return BX(e)?zB(e):HB(t,e)}class CT{constructor(){this._=void 0}}function iY(t,e,n){return t instanceof Z0?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,e):t instanceof Em?WB(t,e):t instanceof xm?GB(t,e):function(i,r){const s=qB(i,r),a=wL(s)+wL(i.gt);return pE(s)&&pE(i.gt)?zB(a):HB(i.yt,a)}(t,e)}function rY(t,e,n){return t instanceof Em?WB(t,e):t instanceof xm?GB(t,e):n}function qB(t,e){return t instanceof e_?pE(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class Z0 extends CT{}class Em extends CT{constructor(e){super(),this.elements=e}}function WB(t,e){const n=KB(e);for(const i of t.elements)n.some(r=>Gs(r,i))||n.push(i);return{arrayValue:{values:n}}}class xm extends CT{constructor(e){super(),this.elements=e}}function GB(t,e){let n=KB(e);for(const i of t.elements)n=n.filter(r=>!Gs(r,i));return{arrayValue:{values:n}}}class e_ extends CT{constructor(e,n){super(),this.yt=e,this.gt=n}}function wL(t){return ln(t.integerValue||t.doubleValue)}function KB(t){return YC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sY(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Em&&i instanceof Em||n instanceof xm&&i instanceof xm?Fd(n.elements,i.elements,Gs):n instanceof e_&&i instanceof e_?Gs(n.gt,i.gt):n instanceof Z0&&i instanceof Z0}(t.transform,e.transform)}class aY{constructor(e,n){this.version=e,this.transformResults=n}}class Vs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vs}static exists(e){return new Vs(void 0,e)}static updateTime(e){return new Vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class IT{}function XB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QB(t.key,Vs.none()):new ig(t.key,t.data,Vs.none());{const n=t.data,i=Bi.empty();let r=new Tn(ai.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new uu(t.key,i,new kr(r.toArray()),Vs.none())}}function oY(t,e,n){t instanceof ig?function(i,r,s){const a=i.value.clone(),u=EL(i.fieldTransforms,r,s.transformResults);a.setAll(u),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof uu?function(i,r,s){if(!Zy(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=EL(i.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(YB(i)),u.setAll(a),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fp(t,e,n,i){return t instanceof ig?function(r,s,a,u){if(!Zy(r.precondition,s))return a;const c=r.value.clone(),d=xL(r.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof uu?function(r,s,a,u){if(!Zy(r.precondition,s))return a;const c=xL(r.fieldTransforms,u,s),d=s.data;return d.setAll(YB(r)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(r,s,a){return Zy(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function uY(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=qB(i.transform,r||null);s!=null&&(n===null&&(n=Bi.empty()),n.set(i.field,s))}return n||null}function SL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Fd(n,i,(r,s)=>sY(r,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ig extends IT{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class uu extends IT{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function EL(t,e,n){const i=new Map;bt(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,u=e.data.field(s.field);i.set(s.field,rY(a,u,n[r]))}return i}function xL(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,iY(s,a,e))}return i}class QB extends IT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lY extends IT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cY{constructor(e){this.count=e}}var un,et;function dY(t){switch(t){default:return Le();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function JB(t){if(t===void 0)return ja("GRPC error has no .code"),ee.UNKNOWN;switch(t){case un.OK:return ee.OK;case un.CANCELLED:return ee.CANCELLED;case un.UNKNOWN:return ee.UNKNOWN;case un.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case un.INTERNAL:return ee.INTERNAL;case un.UNAVAILABLE:return ee.UNAVAILABLE;case un.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case un.NOT_FOUND:return ee.NOT_FOUND;case un.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case un.ABORTED:return ee.ABORTED;case un.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case un.DATA_LOSS:return ee.DATA_LOSS;default:return Le()}}(et=un||(un={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";class ph{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Pl(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return PB(this.inner)}size(){return this.innerSize}}const hY=new bn(ke.comparator);function $a(){return hY}const ZB=new bn(ke.comparator);function mp(...t){let e=ZB;for(const n of t)e=e.insert(n.key,n);return e}function e4(t){let e=ZB;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Zu(){return Up()}function t4(){return Up()}function Up(){return new ph(t=>t.toString(),(t,e)=>t.isEqual(e))}const fY=new bn(ke.comparator),pY=new Tn(ke.comparator);function Ke(...t){let e=pY;for(const n of t)e=e.add(n);return e}const mY=new Tn(ct);function n4(){return mY}class kT{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,rg.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new kT(Ue.min(),r,n4(),$a(),Ke())}}class rg{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new rg(i,n,Ke(),Ke(),Ke())}}class e0{constructor(e,n,i,r){this.It=e,this.removedTargetIds=n,this.key=i,this.Tt=r}}class i4{constructor(e,n){this.targetId=e,this.Et=n}}class r4{constructor(e,n,i=di.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class CL{constructor(){this.At=0,this.Rt=kL(),this.bt=di.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Ke(),n=Ke(),i=Ke();return this.Rt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Le()}}),new rg(this.bt,this.Pt,e,n,i)}xt(){this.vt=!1,this.Rt=kL()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class gY{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=$a(),this.qt=IL(),this.Ut=new Tn(ct)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const i=this.Wt(n);switch(e.state){case 0:this.zt(n)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),i.Dt(e.resumeToken));break;default:Le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((i,r)=>{this.zt(r)&&n(r)})}Jt(e){const n=e.targetId,i=e.Et.count,r=this.Yt(n);if(r){const s=r.target;if(mE(s))if(i===0){const a=new ke(s.path);this.Qt(n,a,si.newNoDocument(a,Ue.min()))}else bt(i===1);else this.Xt(n)!==i&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,a)=>{const u=this.Yt(a);if(u){if(s.current&&mE(u.target)){const c=new ke(u.target.path);this.Lt.get(c)!==null||this.te(a,c)||this.Qt(a,c,si.newNoDocument(c,e))}s.St&&(n.set(a,s.Ct()),s.xt())}});let i=Ke();this.qt.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const d=this.Yt(c);return!d||d.purpose===2||(u=!1,!1)}),u&&(i=i.add(s))}),this.Lt.forEach((s,a)=>a.setReadTime(e));const r=new kT(e,n,this.Ut,this.Lt,i);return this.Lt=$a(),this.qt=IL(),this.Ut=new Tn(ct),r}Gt(e,n){if(!this.zt(e))return;const i=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,i),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,n)?r.Nt(n,1):r.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),i&&(this.Lt=this.Lt.insert(n,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new CL,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Tn(ct),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new CL),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function IL(){return new bn(ke.comparator)}function kL(){return new bn(ke.comparator)}const vY=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),yY=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),_Y=(()=>({and:"AND",or:"OR"}))();class TY{constructor(e,n){this.databaseId=e,this.wt=n}}function t_(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s4(t,e){return t.wt?e.toBase64():e.toUint8Array()}function bY(t,e){return t_(t,e.toTimestamp())}function $s(t){return bt(!!t),Ue.fromTimestamp(function(e){const n=Xo(e);return new _n(n.seconds,n.nanos)}(t))}function nI(t,e){return function(n){return new Ct(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function a4(t){const e=Ct.fromString(t);return bt(c4(e)),e}function _E(t,e){return nI(t.databaseId,e.path)}function IS(t,e){const n=a4(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(o4(n))}function TE(t,e){return nI(t.databaseId,e)}function wY(t){const e=a4(t);return e.length===4?Ct.emptyPath():o4(e)}function bE(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o4(t){return bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AL(t,e,n){return{name:_E(t,e),fields:n.value.mapValue.fields}}function SY(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.wt?(bt(d===void 0||typeof d=="string"),di.fromBase64String(d||"")):(bt(d===void 0||d instanceof Uint8Array),di.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(c){const d=c.code===void 0?ee.UNKNOWN:JB(c.code);return new Te(d,c.message||"")}(a);n=new r4(i,r,s,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=IS(t,i.document.name),s=$s(i.document.updateTime),a=i.document.createTime?$s(i.document.createTime):Ue.min(),u=new Bi({mapValue:{fields:i.document.fields}}),c=si.newFoundDocument(r,s,a,u),d=i.targetIds||[],f=i.removedTargetIds||[];n=new e0(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=IS(t,i.document),s=i.readTime?$s(i.readTime):Ue.min(),a=si.newNoDocument(r,s),u=i.removedTargetIds||[];n=new e0([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=IS(t,i.document),s=i.removedTargetIds||[];n=new e0([],s,r,null)}else{if(!("filter"in e))return Le();{e.filter;const i=e.filter;i.targetId;const r=i.count||0,s=new cY(r),a=i.targetId;n=new i4(a,s)}}return n}function EY(t,e){let n;if(e instanceof ig)n={update:AL(t,e.key,e.value)};else if(e instanceof QB)n={delete:_E(t,e.key)};else if(e instanceof uu)n={update:AL(t,e.key,e.data),updateMask:OY(e.fieldMask)};else{if(!(e instanceof lY))return Le();n={verify:_E(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof Z0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Em)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof e_)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw Le()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:bY(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Le()}(t,e.precondition)),n}function xY(t,e){return t&&t.length>0?(bt(e!==void 0),t.map(n=>function(i,r){let s=i.updateTime?$s(i.updateTime):$s(r);return s.isEqual(Ue.min())&&(s=$s(r)),new aY(s,i.transformResults||[])}(n,e))):[]}function CY(t,e){return{documents:[TE(t,e.path)]}}function IY(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=TE(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=TE(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(c.length!==0)return l4(us.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:zc(f.field),direction:PY(f.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=function(c,d){return c.wt||ST(d)?d:{value:d}}(t,e.limit);var u;return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function kY(t){let e=wY(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){bt(i===1);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(f){const m=u4(f);return m instanceof us&&$X(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(f=>function(m){return new Td(qc(m.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f)));let u=null;n.limit&&(u=function(f){let m;return m=typeof f=="object"?f.value:f,ST(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new J0(g,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,g=f.values||[];return new J0(g,m)}(n.endAt)),ZX(e,r,a,s,u,"F",c,d)}function AY(t,e){const n=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Le()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function u4(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=qc(e.unaryFilter.field);return dn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=qc(e.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qc(e.unaryFilter.field);return dn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qc(e.unaryFilter.field);return dn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(t):t.fieldFilter!==void 0?function(e){return dn.create(qc(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return us.create(e.compositeFilter.filters.map(n=>u4(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Le()}}(e.compositeFilter.op))}(t):Le()}function PY(t){return vY[t]}function DY(t){return yY[t]}function RY(t){return _Y[t]}function zc(t){return{fieldPath:t.canonicalString()}}function qc(t){return ai.fromServerFormat(t.fieldPath)}function l4(t){return t instanceof dn?function(e){if(e.op==="=="){if(gL(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NAN"}};if(mL(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gL(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NOT_NAN"}};if(mL(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(e.field),op:DY(e.op),value:e.value}}}(t):t instanceof us?function(e){const n=e.getFilters().map(i=>l4(i));return n.length===1?n[0]:{compositeFilter:{op:RY(e.op),filters:n}}}(t):Le()}function OY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function c4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class LY{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&oY(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Fp(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Fp(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=t4();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(r.key)?null:u;const c=XB(a,u);c!==null&&i.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(Ue.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&Fd(this.mutations,e.mutations,(n,i)=>SL(n,i))&&Fd(this.baseMutations,e.baseMutations,(n,i)=>SL(n,i))}}class iI{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){bt(e.mutations.length===i.length);let r=fY;const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new iI(e,n,i,r)}}class NY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ol{constructor(e,n,i,r,s=Ue.min(),a=Ue.min(),u=di.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}withSequenceNumber(e){return new ol(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ol(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class MY{constructor(e){this.ie=e}}function FY(t){const e=kY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vE(e,e.limit,"L"):e}class UY{constructor(){this.Je=new BY}addToCollectionParentIndex(e,n){return this.Je.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Ko.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Ko.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class BY{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Tn(Ct.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Tn(Ct.comparator)).toArray()}}class Vd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Vd(0)}static vn(){return new Vd(-1)}}class jY{constructor(){this.changes=new ph(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,si.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $Y{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Fp(i.mutation,r,kr.empty(),_n.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ke()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ke()){const r=Zu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=mp();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Zu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ke()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,i,r){let s=$a();const a=Up(),u=Up();return n.forEach((c,d)=>{const f=i.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof uu)?s=s.insert(d.key,d):f!==void 0&&(a.set(d.key,f.mutation.getFieldMask()),Fp(f.mutation,d,f.mutation.getFieldMask(),_n.now()))}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>{var m;return u.set(d,new VY(f,(m=a.get(d))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,n){const i=Up();let r=new bn((a,u)=>a-u),s=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=i.get(c)||kr.empty();f=u.applyToLocalView(d,f),i.set(c,f);const m=(r.get(u.batchId)||Ke()).add(c);r=r.insert(u.batchId,m)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,f=c.value,m=t4();f.forEach(g=>{if(!s.has(g)){const E=XB(n.get(g),i.get(g));E!==null&&m.set(g,E),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return ue.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(r){return ke.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):ue.resolve(Zu());let u=-1,c=s;return a.next(d=>ue.forEach(d,(f,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),s.get(f)?ue.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Ke())).next(f=>({batchId:u,changes:e4(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(i=>{let r=mp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let s=mp();return this.indexManager.getCollectionParents(e,r).next(a=>ue.forEach(a,u=>{const c=function(d,f){return new fh(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,i).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId))).next(s=>{s.forEach((u,c)=>{const d=c.getKey();r.get(d)===null&&(r=r.insert(d,si.newInvalidDocument(d)))});let a=mp();return r.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Fp(d.mutation,c,kr.empty(),_n.now()),tI(n,c)&&(a=a.insert(u,c))}),a})}}class HY{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return ue.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var i;return this.Zn.set(n.id,{id:(i=n).id,version:i.version,createTime:$s(i.createTime)}),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(i){return{name:i.name,query:FY(i.bundledQuery),readTime:$s(i.readTime)}}(n)),ue.resolve()}}class zY{constructor(){this.overlays=new bn(ke.comparator),this.es=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Zu();return ue.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.oe(e,n,s)}),ue.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.es.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const r=Zu(),s=n.length+1,a=new ke(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new bn((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let f=s.get(d.largestBatchId);f===null&&(f=Zu(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const u=Zu(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>u.set(d,f)),!(u.size()>=r)););return ue.resolve(u)}oe(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new NY(n,i));let s=this.es.get(n);s===void 0&&(s=Ke(),this.es.set(n,s)),this.es.set(n,s.add(i.key))}}class rI{constructor(){this.ns=new Tn(kn.ss),this.rs=new Tn(kn.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const i=new kn(e,n);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.cs(new kn(e,n))}hs(e,n){e.forEach(i=>this.removeReference(i,n))}ls(e){const n=new ke(new Ct([])),i=new kn(n,e),r=new kn(n,e+1),s=[];return this.rs.forEachInRange([i,r],a=>{this.cs(a),s.push(a.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ke(new Ct([])),i=new kn(n,e),r=new kn(n,e+1);let s=Ke();return this.rs.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new kn(e,0),i=this.ns.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class kn{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ke.comparator(e.key,n.key)||ct(e._s,n._s)}static os(e,n){return ct(e._s,n._s)||ke.comparator(e.key,n.key)}}class qY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Tn(kn.ss)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new LY(s,n,i,r);this.mutationQueue.push(a);for(const u of r)this.gs=this.gs.add(new kn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ue.resolve(a)}lookupMutationBatch(e,n){return ue.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ps(i),s=r<0?0:r;return ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new kn(n,0),r=new kn(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],a=>{const u=this.ys(a._s);s.push(u)}),ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Tn(ct);return n.forEach(r=>{const s=new kn(r,0),a=new kn(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,a],u=>{i=i.add(u._s)})}),ue.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ke.isDocumentKey(s)||(s=s.child(""));const a=new kn(new ke(s),0);let u=new Tn(ct);return this.gs.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(c._s)),!0)},a),ue.resolve(this.Is(u))}Is(e){const n=[];return e.forEach(i=>{const r=this.ys(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){bt(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.gs;return ue.forEach(n.mutations,r=>{const s=new kn(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,n){const i=new kn(n,0),r=this.gs.firstAfterOrEqual(i);return ue.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class WY{constructor(e){this.Es=e,this.docs=new bn(ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.Es(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():si.newInvalidDocument(n))}getEntries(e,n){let i=$a();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():si.newInvalidDocument(r))}),ue.resolve(i)}getAllFromCollection(e,n,i){let r=$a();const s=new ke(n.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:u,value:{document:c}}=a.getNext();if(!n.isPrefixOf(u.path))break;u.path.length>n.length+1||NX(LX(c),i)<=0||(r=r.insert(c.key,c.mutableCopy()))}return ue.resolve(r)}getAllFromCollectionGroup(e,n,i,r){Le()}As(e,n){return ue.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new GY(this)}getSize(e){return ue.resolve(this.size)}}class GY extends jY{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ue.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class KY{constructor(e){this.persistence=e,this.Rs=new ph(n=>QC(n),JC),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.bs=0,this.Ps=new rI,this.targetCount=0,this.vs=Vd.Pn()}forEachTarget(e,n){return this.Rs.forEach((i,r)=>n(r)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.bs&&(this.bs=n),ue.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Vd(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Dn(n),ue.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Rs.forEach((a,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.Rs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),ue.waitFor(s).next(()=>r)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.Rs.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this.Ps.us(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this.Ps.hs(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),ue.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ps.ds(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this.Ps.containsKey(n))}}class XY{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new XC(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new KY(this),this.indexManager=new UY,this.remoteDocumentCache=function(i){return new WY(i)}(i=>this.referenceDelegate.xs(i)),this.yt=new MY(n),this.Ns=new HY(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Vs[e.toKey()];return i||(i=new qY(n,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,i){Ce("MemoryPersistence","Starting transaction:",e);const r=new YY(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,n){return ue.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,n)))}}class YY extends FX{constructor(e){super(),this.currentSequenceNumber=e}}class sI{constructor(e){this.persistence=e,this.Fs=new rI,this.$s=null}static Bs(e){return new sI(e)}get Ls(){if(this.$s)return this.$s;throw Le()}addReference(e,n,i){return this.Fs.addReference(i,n),this.Ls.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.Fs.removeReference(i,n),this.Ls.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ls,i=>{const r=ke.fromPath(i);return this.qs(e,r).next(s=>{s||n.removeEntry(r,Ue.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(i=>{i?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return ue.or([()=>ue.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class aI{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Si=i,this.Di=r}static Ci(e,n){let i=Ke(),r=Ke();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new aI(e,n.fromCache,i,r)}}class QY{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.ki(e,n).next(s=>s||this.Oi(e,n,r,i)).next(s=>s||this.Mi(e,n))}ki(e,n){if(bL(n))return ue.resolve(null);let i=Va(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=vE(n,null,"F"),i=Va(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=Ke(...s);return this.Ni.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.Fi(n,u);return this.$i(n,d,a,c.readTime)?this.ki(e,vE(n,null,"F")):this.Bi(e,d,n,c)}))})))}Oi(e,n,i,r){return bL(n)||r.isEqual(Ue.min())?this.Mi(e,n):this.Ni.getDocuments(e,i).next(s=>{const a=this.Fi(n,s);return this.$i(n,a,i,r)?this.Mi(e,n):(dL()<=rt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yE(n)),this.Bi(e,a,n,OX(r,-1)))})}Fi(e,n){let i=new Tn($B(e));return n.forEach((r,s)=>{tI(e,s)&&(i=i.add(s))}),i}$i(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,n){return dL()<=rt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",yE(n)),this.Ni.getDocumentsMatchingQuery(e,n,Ko.min())}Bi(e,n,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}class JY{constructor(e,n,i,r){this.persistence=e,this.Li=n,this.yt=r,this.qi=new bn(ct),this.Ui=new ph(s=>QC(s),JC),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $Y(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function ZY(t,e,n,i){return new JY(t,e,n,i)}async function d4(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],u=[];let c=Ke();for(const d of r){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){u.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(i,c).next(d=>({ji:d,removedBatchIds:a,addedBatchIds:u}))})})}function eQ(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,m=f.keys();let g=ue.resolve();return m.forEach(E=>{g=g.next(()=>d.getEntry(u,E)).next(I=>{const b=c.docVersions.get(E);bt(b!==null),I.version.compareTo(b)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=Ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function h4(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function tQ(t,e){const n=Ve(t),i=e.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const u=[];e.targetChanges.forEach((f,m)=>{const g=r.get(m);if(!g)return;u.push(n.Cs.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Cs.addMatchingKeys(s,f.addedDocuments,m)));let E=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(m)?E=E.withResumeToken(di.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,i)),r=r.insert(m,E),function(I,b,x){return I.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,E,f)&&u.push(n.Cs.updateTargetData(s,E))});let c=$a(),d=Ke();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),u.push(nQ(s,a,e.documentUpdates).next(f=>{c=f.Wi,d=f.zi})),!i.isEqual(Ue.min())){const f=n.Cs.getLastRemoteSnapshotVersion(s).next(m=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(f)}return ue.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.qi=r,s))}function nQ(t,e,n){let i=Ke(),r=Ke();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=$a();return n.forEach((u,c)=>{const d=s.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),c.isNoDocument()&&c.version.isEqual(Ue.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Ce("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{Wi:a,zi:r}})}function iQ(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function rQ(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Cs.getTargetData(i,e).next(s=>s?(r=s,ue.resolve(r)):n.Cs.allocateTargetId(i).next(a=>(r=new ol(e,a,0,i.currentSequenceNumber),n.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.qi.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(i.targetId,i),n.Ui.set(e,i.targetId)),i})}async function wE(t,e,n){const i=Ve(t),r=i.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ng(a))throw a;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}function PL(t,e,n){const i=Ve(t);let r=Ue.min(),s=Ke();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,c,d){const f=Ve(u),m=f.Ui.get(d);return m!==void 0?ue.resolve(f.qi.get(m)):f.Cs.getTargetData(c,d)}(i,a,Va(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>i.Li.getDocumentsMatchingQuery(a,e,n?r:Ue.min(),n?s:Ke())).next(u=>(sQ(i,eY(e),u),{documents:u,Hi:s})))}function sQ(t,e,n){let i=t.Ki.get(e)||Ue.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ki.set(e,i)}class DL{constructor(){this.activeTargetIds=n4()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aQ{constructor(){this.Lr=new DL,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,i){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new DL,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oQ{Ur(e){}shutdown(){}}class RL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}const uQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lQ{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class cQ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,i,r,s){const a=this.ho(e,n);Ce("RestConnection","Sending: ",a,i);const u={};return this.lo(u,r,s),this.fo(e,a,u,i).then(c=>(Ce("RestConnection","Received: ",c),c),c=>{throw hE("RestConnection",`${e} failed with error: `,c,"url: ",a,"request:",i),c})}_o(e,n,i,r,s,a){return this.ao(e,n,i,r,s)}lo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+hh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,n){const i=uQ[e];return`${this.oo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,i,r){return new Promise((s,a)=>{const u=new SX;u.setWithCredentials(!0),u.listenOnce(TX.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case CS.NO_ERROR:const d=u.getResponseJson();Ce("Connection","XHR received:",JSON.stringify(d)),s(d);break;case CS.TIMEOUT:Ce("Connection",'RPC "'+e+'" timed out'),a(new Te(ee.DEADLINE_EXCEEDED,"Request time out"));break;case CS.HTTP_ERROR:const f=u.getStatus();if(Ce("Connection",'RPC "'+e+'" failed with status:',f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const E=function(I){const b=I.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(b)>=0?b:ee.UNKNOWN}(g.status);a(new Te(E,g.message))}else a(new Te(ee.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Te(ee.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{Ce("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(r);u.send(n,"POST",c,i,15)})}wo(e,n,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yX(),a=_X(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new wX({})),this.lo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const c=r.join("");Ce("Connection","Creating WebChannel: "+c,u);const d=s.createWebChannel(c,u);let f=!1,m=!1;const g=new lQ({Hr:I=>{m?Ce("Connection","Not sending because WebChannel is closed:",I):(f||(Ce("Connection","Opening WebChannel transport."),d.open(),f=!0),Ce("Connection","WebChannel sending:",I),d.send(I))},Jr:()=>d.close()}),E=(I,b,x)=>{I.listen(b,k=>{try{x(k)}catch(P){setTimeout(()=>{throw P},0)}})};return E(d,wy.EventType.OPEN,()=>{m||Ce("Connection","WebChannel transport opened.")}),E(d,wy.EventType.CLOSE,()=>{m||(m=!0,Ce("Connection","WebChannel transport closed"),g.io())}),E(d,wy.EventType.ERROR,I=>{m||(m=!0,hE("Connection","WebChannel transport errored:",I),g.io(new Te(ee.UNAVAILABLE,"The operation could not be completed")))}),E(d,wy.EventType.MESSAGE,I=>{var b;if(!m){const x=I.data[0];bt(!!x);const k=x,P=k.error||((b=k[0])===null||b===void 0?void 0:b.error);if(P){Ce("Connection","WebChannel received error:",P);const O=P.status;let N=function(q){const $=un[q];if($!==void 0)return JB($)}(O),B=P.message;N===void 0&&(N=ee.INTERNAL,B="Unknown error status: "+O+" with message "+P.message),m=!0,g.io(new Te(N,B)),d.close()}else Ce("Connection","WebChannel received:",x),g.ro(x)}}),E(a,bX.STAT_EVENT,I=>{I.stat===lL.PROXY?Ce("Connection","Detected buffering proxy"):I.stat===lL.NOPROXY&&Ce("Connection","Detected no buffering proxy")}),setTimeout(()=>{g.so()},0),g}}function kS(){return typeof document<"u"?document:null}function AT(t){return new TY(t,!0)}class f4{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,n-i);r>0&&Ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class p4{constructor(e,n,i,r,s,a,u,c){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new f4(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ja(n.toString()),ja("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===n&&this.Go(i,r)},i=>{e(()=>{const r=new Te(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,n){const i=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dQ extends p4{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=SY(this.yt,e),i=function(r){if(!("targetChange"in r))return Ue.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ue.min():s.readTime?$s(s.readTime):Ue.min()}(e);return this.listener.Wo(n,i)}zo(e){const n={};n.database=bE(this.yt),n.addTarget=function(r,s){let a;const u=s.target;return a=mE(u)?{documents:CY(r,u)}:{query:IY(r,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=s4(r,s.resumeToken):s.snapshotVersion.compareTo(Ue.min())>0&&(a.readTime=t_(r,s.snapshotVersion.toTimestamp())),a}(this.yt,e);const i=AY(this.yt,e);i&&(n.labels=i),this.Bo(n)}Ho(e){const n={};n.database=bE(this.yt),n.removeTarget=e,this.Bo(n)}}class hQ extends p4{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=xY(e.writeResults,e.commitTime),i=$s(e.commitTime);return this.listener.Zo(i,n)}return bt(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=bE(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>EY(this.yt,i))};this.Bo(n)}}class fQ extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Te(ee.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Te(ee.UNKNOWN,r.toString())})}_o(e,n,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection._o(e,n,i,s,a,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(ee.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class pQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ja(n),this.ou=!1):Ce("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}class mQ{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{i.enqueueAndForget(async()=>{Dl(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ve(u);c._u.add(4),await sg(c),c.gu.set("Unknown"),c._u.delete(4),await PT(c)}(this))})}),this.gu=new pQ(i,r)}}async function PT(t){if(Dl(t))for(const e of t.wu)await e(!0)}async function sg(t){for(const e of t.wu)await e(!1)}function m4(t,e){const n=Ve(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),lI(n)?uI(n):mh(n).ko()&&oI(n,e))}function g4(t,e){const n=Ve(t),i=mh(n);n.du.delete(e),i.ko()&&v4(n,e),n.du.size===0&&(i.ko()?i.Fo():Dl(n)&&n.gu.set("Unknown"))}function oI(t,e){t.yu.Ot(e.targetId),mh(t).zo(e)}function v4(t,e){t.yu.Ot(e),mh(t).Ho(e)}function uI(t){t.yu=new gY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),mh(t).start(),t.gu.uu()}function lI(t){return Dl(t)&&!mh(t).No()&&t.du.size>0}function Dl(t){return Ve(t)._u.size===0}function y4(t){t.yu=void 0}async function gQ(t){t.du.forEach((e,n)=>{oI(t,e)})}async function vQ(t,e){y4(t),lI(t)?(t.gu.hu(e),uI(t)):t.gu.set("Unknown")}async function yQ(t,e,n){if(t.gu.set("Online"),e instanceof r4&&e.state===2&&e.cause)try{await async function(i,r){const s=r.cause;for(const a of r.targetIds)i.du.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.du.delete(a),i.yu.removeTarget(a))}(t,e)}catch(i){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await n_(t,i)}else if(e instanceof e0?t.yu.Kt(e):e instanceof i4?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(Ue.min()))try{const i=await h4(t.localStore);n.compareTo(i)>=0&&await function(r,s){const a=r.yu.Zt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.du.get(c);d&&r.du.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach(u=>{const c=r.du.get(u);if(!c)return;r.du.set(u,c.withResumeToken(di.EMPTY_BYTE_STRING,c.snapshotVersion)),v4(r,u);const d=new ol(c.target,u,1,c.sequenceNumber);oI(r,d)}),r.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){Ce("RemoteStore","Failed to raise snapshot:",i),await n_(t,i)}}async function n_(t,e,n){if(!ng(e))throw e;t._u.add(1),await sg(t),t.gu.set("Offline"),n||(n=()=>h4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await PT(t)})}function _4(t,e){return e().catch(n=>n_(t,n,e))}async function DT(t){const e=Ve(t),n=Yo(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;_Q(e);)try{const r=await iQ(e.localStore,i);if(r===null){e.fu.length===0&&n.Fo();break}i=r.batchId,TQ(e,r)}catch(r){await n_(e,r)}T4(e)&&b4(e)}function _Q(t){return Dl(t)&&t.fu.length<10}function TQ(t,e){t.fu.push(e);const n=Yo(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function T4(t){return Dl(t)&&!Yo(t).No()&&t.fu.length>0}function b4(t){Yo(t).start()}async function bQ(t){Yo(t).eu()}async function wQ(t){const e=Yo(t);for(const n of t.fu)e.Xo(n.mutations)}async function SQ(t,e,n){const i=t.fu.shift(),r=iI.from(i,e,n);await _4(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await DT(t)}async function EQ(t,e){e&&Yo(t).Yo&&await async function(n,i){if(r=i.code,dY(r)&&r!==ee.ABORTED){const s=n.fu.shift();Yo(n).Mo(),await _4(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await DT(n)}var r}(t,e),T4(t)&&b4(t)}async function OL(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const i=Dl(n);n._u.add(3),await sg(n),i&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await PT(n)}async function xQ(t,e){const n=Ve(t);e?(n._u.delete(2),await PT(n)):e||(n._u.add(2),await sg(n),n.gu.set("Unknown"))}function mh(t){return t.pu||(t.pu=function(e,n,i){const r=Ve(e);return r.su(),new dQ(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(t.datastore,t.asyncQueue,{Yr:gQ.bind(null,t),Zr:vQ.bind(null,t),Wo:yQ.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),lI(t)?uI(t):t.gu.set("Unknown")):(await t.pu.stop(),y4(t))})),t.pu}function Yo(t){return t.Iu||(t.Iu=function(e,n,i){const r=Ve(e);return r.su(),new hQ(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(t.datastore,t.asyncQueue,{Yr:bQ.bind(null,t),Zr:EQ.bind(null,t),tu:wQ.bind(null,t),Zo:SQ.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await DT(t)):(await t.Iu.stop(),t.fu.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}class cI{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,u=new cI(e,n,a,r,s);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dI(t,e){if(ja("AsyncQueue",`${e}: ${t}`),ng(t))return new Te(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class wd{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ke.comparator(n.key,i.key):(n,i)=>ke.comparator(n.key,i.key),this.keyedMap=mp(),this.sortedSet=new bn(this.comparator)}static emptySet(e){return new wd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new wd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class LL{constructor(){this.Tu=new bn(ke.comparator)}track(e){const n=e.doc.key,i=this.Tu.get(n);i?e.type!==0&&i.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&i.type!==1?this.Tu=this.Tu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Tu=this.Tu.remove(n):e.type===1&&i.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Le():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,i)=>{e.push(i)}),e}}class $d{constructor(e,n,i,r,s,a,u,c,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new $d(e,n,wd.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}class CQ{constructor(){this.Au=void 0,this.listeners=[]}}class IQ{constructor(){this.queries=new ph(e=>VB(e),xT),this.onlineState="Unknown",this.Ru=new Set}}async function w4(t,e){const n=Ve(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new CQ),r)try{s.Au=await n.onListen(i)}catch(a){const u=dI(a,`Initialization of query '${yE(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&hI(n)}async function S4(t,e){const n=Ve(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function kQ(t,e){const n=Ve(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const u of a.listeners)u.Pu(r)&&(i=!0);a.Au=r}}i&&hI(n)}function AQ(t,e,n){const i=Ve(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function hI(t){t.Ru.forEach(e=>{e.next()})}class E4{constructor(e,n,i){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new $d(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Nu||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=$d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class x4{constructor(e){this.key=e}}class C4{constructor(e){this.key=e}}class PQ{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ke(),this.mutatedKeys=Ke(),this.Gu=$B(e),this.Qu=new wd(this.Gu)}get ju(){return this.qu}Wu(e,n){const i=n?n.zu:new LL,r=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,u=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{const g=r.get(f),E=tI(this.query,m)?m:null,I=!!g&&this.mutatedKeys.has(g.key),b=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let x=!1;g&&E?g.data.isEqual(E.data)?I!==b&&(i.track({type:3,doc:E}),x=!0):this.Hu(g,E)||(i.track({type:2,doc:E}),x=!0,(c&&this.Gu(E,c)>0||d&&this.Gu(E,d)<0)&&(u=!0)):!g&&E?(i.track({type:0,doc:E}),x=!0):g&&!E&&(i.track({type:1,doc:g}),x=!0,(c||d)&&(u=!0)),x&&(E?(a=a.add(E),s=b?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{Qu:a,zu:i,$i:u,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((d,f)=>function(m,g){const E=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return E(m)-E(g)}(d.type,f.type)||this.Gu(d.doc,f.doc)),this.Ju(i);const a=n?this.Yu():[],u=this.Ku.size===0&&this.current?1:0,c=u!==this.Uu;return this.Uu=u,s.length!==0||c?{snapshot:new $d(this.query,e.Qu,r,s,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:a}:{Xu:a}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new LL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ke(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const n=[];return e.forEach(i=>{this.Ku.has(i)||n.push(new C4(i))}),this.Ku.forEach(i=>{e.has(i)||n.push(new x4(i))}),n}tc(e){this.qu=e.Hi,this.Ku=Ke();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return $d.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class DQ{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class RQ{constructor(e){this.key=e,this.nc=!1}}class OQ{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.sc={},this.ic=new ph(u=>VB(u),xT),this.rc=new Map,this.oc=new Set,this.uc=new bn(ke.comparator),this.cc=new Map,this.ac=new rI,this.hc={},this.lc=new Map,this.fc=Vd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function LQ(t,e){const n=zQ(t);let i,r;const s=n.ic.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const a=await rQ(n.localStore,Va(e));n.isPrimaryClient&&m4(n.remoteStore,a);const u=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=await NQ(n,e,i,u==="current",a.resumeToken)}return r}async function NQ(t,e,n,i,r){t._c=(m,g,E)=>async function(I,b,x,k){let P=b.view.Wu(x);P.$i&&(P=await PL(I.localStore,b.query,!1).then(({documents:B})=>b.view.Wu(B,P)));const O=k&&k.targetChanges.get(b.targetId),N=b.view.applyChanges(P,I.isPrimaryClient,O);return ML(I,b.targetId,N.Xu),N.snapshot}(t,m,g,E);const s=await PL(t.localStore,e,!0),a=new PQ(e,s.Hi),u=a.Wu(s.documents),c=rg.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),d=a.applyChanges(u,t.isPrimaryClient,c);ML(t,n,d.Xu);const f=new DQ(e,n,a);return t.ic.set(e,f),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),d.snapshot}async function MQ(t,e){const n=Ve(t),i=n.ic.get(e),r=n.rc.get(i.targetId);if(r.length>1)return n.rc.set(i.targetId,r.filter(s=>!xT(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await wE(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),g4(n.remoteStore,i.targetId),SE(n,i.targetId)}).catch(tg)):(SE(n,i.targetId),await wE(n.localStore,i.targetId,!0))}async function FQ(t,e,n){const i=qQ(t);try{const r=await function(s,a){const u=Ve(s),c=_n.now(),d=a.reduce((g,E)=>g.add(E.key),Ke());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=$a(),I=Ke();return u.Gi.getEntries(g,d).next(b=>{E=b,E.forEach((x,k)=>{k.isValidDocument()||(I=I.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,E)).next(b=>{f=b;const x=[];for(const k of a){const P=uY(k,f.get(k.key).overlayedDocument);P!=null&&x.push(new uu(k.key,P,BB(P.value.mapValue),Vs.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,x,a)}).next(b=>{m=b;const x=b.applyToLocalDocumentSet(f,I);return u.documentOverlayCache.saveOverlays(g,b.batchId,x)})}).then(()=>({batchId:m.batchId,changes:e4(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,u){let c=s.hc[s.currentUser.toKey()];c||(c=new bn(ct)),c=c.insert(a,u),s.hc[s.currentUser.toKey()]=c}(i,r.batchId,n),await ag(i,r.changes),await DT(i.remoteStore)}catch(r){const s=dI(r,"Failed to persist write");n.reject(s)}}async function I4(t,e){const n=Ve(t);try{const i=await tQ(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.cc.get(s);a&&(bt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.nc=!0:r.modifiedDocuments.size>0?bt(a.nc):r.removedDocuments.size>0&&(bt(a.nc),a.nc=!1))}),await ag(n,i,e)}catch(i){await tg(i)}}function NL(t,e,n){const i=Ve(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ic.forEach((s,a)=>{const u=a.view.bu(e);u.snapshot&&r.push(u.snapshot)}),function(s,a){const u=Ve(s);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.listeners)m.bu(a)&&(c=!0)}),c&&hI(u)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function UQ(t,e,n){const i=Ve(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.cc.get(e),s=r&&r.key;if(s){let a=new bn(ke.comparator);a=a.insert(s,si.newNoDocument(s,Ue.min()));const u=Ke().add(s),c=new kT(Ue.min(),new Map,new Tn(ct),a,u);await I4(i,c),i.uc=i.uc.remove(s),i.cc.delete(e),fI(i)}else await wE(i.localStore,e,!1).then(()=>SE(i,e,n)).catch(tg)}async function BQ(t,e){const n=Ve(t),i=e.batch.batchId;try{const r=await eQ(n.localStore,e);A4(n,i,null),k4(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ag(n,r)}catch(r){await tg(r)}}async function jQ(t,e,n){const i=Ve(t);try{const r=await function(s,a){const u=Ve(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(bt(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(i.localStore,e);A4(i,e,n),k4(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ag(i,r)}catch(r){await tg(r)}}function k4(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function A4(t,e,n){const i=Ve(t);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function SE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.rc.get(e))t.ic.delete(i),n&&t.sc.wc(i,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(i=>{t.ac.containsKey(i)||P4(t,i)})}function P4(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(g4(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),fI(t))}function ML(t,e,n){for(const i of n)i instanceof x4?(t.ac.addReference(i.key,e),VQ(t,i)):i instanceof C4?(Ce("SyncEngine","Document no longer in limbo: "+i.key),t.ac.removeReference(i.key,e),t.ac.containsKey(i.key)||P4(t,i.key)):Le()}function VQ(t,e){const n=e.key,i=n.path.canonicalString();t.uc.get(n)||t.oc.has(i)||(Ce("SyncEngine","New document in limbo: "+n),t.oc.add(i),fI(t))}function fI(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new ke(Ct.fromString(e)),i=t.fc.next();t.cc.set(i,new RQ(n)),t.uc=t.uc.insert(n,i),m4(t.remoteStore,new ol(Va(ZC(n.path)),i,2,XC.at))}}async function ag(t,e,n){const i=Ve(t),r=[],s=[],a=[];i.ic.isEmpty()||(i.ic.forEach((u,c)=>{a.push(i._c(c,e,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){r.push(d);const f=aI.Ci(c.targetId,d);s.push(f)}}))}),await Promise.all(a),i.sc.Wo(r),await async function(u,c){const d=Ve(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ue.forEach(c,m=>ue.forEach(m.Si,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>ue.forEach(m.Di,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!ng(f))throw f;Ce("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const g=d.qi.get(m),E=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(E);d.qi=d.qi.insert(m,I)}}}(i.localStore,s))}async function $Q(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const i=await d4(n.localStore,e);n.currentUser=e,function(r,s){r.lc.forEach(a=>{a.forEach(u=>{u.reject(new Te(ee.CANCELLED,s))})}),r.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ag(n,i.ji)}}function HQ(t,e){const n=Ve(t),i=n.cc.get(e);if(i&&i.nc)return Ke().add(i.key);{let r=Ke();const s=n.rc.get(e);if(!s)return r;for(const a of s){const u=n.ic.get(a);r=r.unionWith(u.view.ju)}return r}}function zQ(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UQ.bind(null,e),e.sc.Wo=kQ.bind(null,e.eventManager),e.sc.wc=AQ.bind(null,e.eventManager),e}function qQ(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jQ.bind(null,e),e}class WQ{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=AT(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return ZY(this.persistence,new QY,e.initialUser,this.yt)}yc(e){return new XY(sI.Bs,this.yt)}gc(e){return new aQ}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class GQ{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>NL(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$Q.bind(null,this.syncEngine),await xQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new IQ}createDatastore(e){const n=AT(e.databaseInfo.databaseId),i=(r=e.databaseInfo,new cQ(r));var r;return function(s,a,u,c){return new fQ(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,s=u=>NL(this.syncEngine,u,0),a=RL.C()?new RL:new oQ,new mQ(n,i,r,s,a);var n,i,r,s,a}createSyncEngine(e,n){return function(i,r,s,a,u,c,d){const f=new OQ(i,r,s,a,u,c);return d&&(f.dc=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ve(e);Ce("RemoteStore","RemoteStore shutting down."),n._u.add(5),await sg(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}function D4(t,e,n){if(!n)throw new Te(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KQ(t,e,n,i){if(e===!0&&i===!0)throw new Te(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FL(t){if(!ke.isDocumentKey(t))throw new Te(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UL(t){if(ke.isDocumentKey(t))throw new Te(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le()}function Aa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=RT(t);throw new Te(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const BL=new Map;class jL{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,KQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class OT{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Te(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jL(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new EX;switch(n.type){case"gapi":const i=n.client;return new kX(i,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Te(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=BL.get(e);n&&(Ce("ComponentProvider","Removing Datastore"),BL.delete(e),n.terminate())}(this),Promise.resolve()}}function XQ(t,e,n,i={}){var r;const s=(t=Aa(t,OT))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&hE("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let a,u;if(typeof i.mockUserToken=="string")a=i.mockUserToken,u=ni.MOCK_USER;else{a=YF(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Te(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ni(c)}t._authCredentials=new xX(new kB(a,u))}}class qi{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qi(this.firestore,e,this._key)}}class lu{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new lu(this.firestore,e,this._query)}}class $o extends lu{constructor(e,n,i){super(e,n,ZC(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qi(this.firestore,null,new ke(e))}withConverter(e){return new $o(this.firestore,e,this._path)}}function EE(t,e,...n){if(t=Pe(t),D4("collection","path",e),t instanceof OT){const i=Ct.fromString(e,...n);return UL(i),new $o(t,null,i)}{if(!(t instanceof qi||t instanceof $o))throw new Te(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ct.fromString(e,...n));return UL(i),new $o(t.firestore,null,i)}}function R4(t,e,...n){if(t=Pe(t),arguments.length===1&&(e=AB.R()),D4("doc","path",e),t instanceof OT){const i=Ct.fromString(e,...n);return FL(i),new qi(t,null,new ke(i))}{if(!(t instanceof qi||t instanceof $o))throw new Te(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ct.fromString(e,...n));return FL(i),new qi(t.firestore,t instanceof $o?t.converter:null,new ke(i))}}class O4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ja("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class YQ{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ni.UNAUTHENTICATED,this.clientId=AB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{Ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=dI(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function QQ(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await d4(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function JQ(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZQ(t);Ce("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>OL(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>OL(e.remoteStore,s)),t.onlineComponents=e}async function ZQ(t){return t.offlineComponents||(Ce("FirestoreClient","Using default OfflineComponentProvider"),await QQ(t,new WQ)),t.offlineComponents}async function L4(t){return t.onlineComponents||(Ce("FirestoreClient","Using default OnlineComponentProvider"),await JQ(t,new GQ)),t.onlineComponents}function eJ(t){return L4(t).then(e=>e.syncEngine)}async function xE(t){const e=await L4(t),n=e.eventManager;return n.onListen=LQ.bind(null,e.syncEngine),n.onUnlisten=MQ.bind(null,e.syncEngine),n}function tJ(t,e,n={}){const i=new Vo;return t.asyncQueue.enqueueAndForget(async()=>function(r,s,a,u,c){const d=new O4({next:m=>{s.enqueueAndForget(()=>S4(r,f)),m.fromCache&&u.source==="server"?c.reject(new Te(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new E4(a,d,{includeMetadataChanges:!0,Nu:!0});return w4(r,f)}(await xE(t),t.asyncQueue,e,n,i)),i.promise}class nJ{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new f4(this,"async_queue_retry"),this.Wc=()=>{const n=kS();n&&Ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=kS();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=kS();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Vo;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!ng(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{this.Kc=i,this.Gc=!1;const r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw ja("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Gc=!1,i))));return this.Bc=n,n}enqueueAfterDelay(e,n,i){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const r=cI.createAndSchedule(this,e,n,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&Le()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function VL(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const r of n)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Hd extends OT{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new nJ,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||N4(this),this._firestoreClient.terminate()}}function iJ(t,e){const n=typeof t=="object"?t:G_(),i=typeof t=="string"?t:e||"(default)",r=iu(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=KF("firestore");s&&XQ(r,...s)}return r}function pI(t){return t._firestoreClient||N4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function N4(t){var e;const n=t._freezeSettings(),i=function(r,s,a,u){return new UX(r,s,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new YQ(t._authCredentials,t._appCheckCredentials,t._queue,i)}class zd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zd(di.fromBase64String(e))}catch(n){throw new Te(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zd(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class LT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mI{constructor(e){this._methodName=e}}class gI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}const rJ=/^__.*__$/;class sJ{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new uu(e,this.data,this.fieldMask,n,this.fieldTransforms):new ig(e,this.data,n,this.fieldTransforms)}}class M4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new uu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function F4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class vI{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.yt=i,this.ignoreUndefinedProperties=r,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new vI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return i_(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(F4(this.sa)&&rJ.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class aJ{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=i||AT(e)}da(e,n,i,r=!1){return new vI({sa:e,methodName:n,fa:i,path:ai.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function yI(t){const e=t._freezeSettings(),n=AT(t._databaseId);return new aJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oJ(t,e,n,i,r,s={}){const a=t.da(s.merge||s.mergeFields?2:0,e,n,r);_I("Data must be an object, but it was:",a,i);const u=U4(i,a);let c,d;if(s.merge)c=new kr(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=CE(e,m,n);if(!a.contains(g))throw new Te(ee.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);j4(f,g)||f.push(g)}c=new kr(f),d=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=a.fieldTransforms;return new sJ(new Bi(u),c,d)}class NT extends mI{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof NT}}function uJ(t,e,n,i){const r=t.da(1,e,n);_I("Data must be an object, but it was:",r,i);const s=[],a=Bi.empty();Pl(i,(c,d)=>{const f=TI(e,c,n);d=Pe(d);const m=r.ca(f);if(d instanceof NT)s.push(f);else{const g=og(d,m);g!=null&&(s.push(f),a.set(f,g))}});const u=new kr(s);return new M4(a,u,r.fieldTransforms)}function lJ(t,e,n,i,r,s){const a=t.da(1,e,n),u=[CE(e,i,n)],c=[r];if(s.length%2!=0)throw new Te(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)u.push(CE(e,s[g])),c.push(s[g+1]);const d=[],f=Bi.empty();for(let g=u.length-1;g>=0;--g)if(!j4(d,u[g])){const E=u[g];let I=c[g];I=Pe(I);const b=a.ca(E);if(I instanceof NT)d.push(E);else{const x=og(I,b);x!=null&&(d.push(E),f.set(E,x))}}const m=new kr(d);return new M4(f,m,a.fieldTransforms)}function cJ(t,e,n,i=!1){return og(n,t.da(i?4:3,e))}function og(t,e){if(B4(t=Pe(t)))return _I("Unsupported field value:",e,t),U4(t,e);if(t instanceof mI)return function(n,i){if(!F4(i.sa))throw i.ha(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,i){const r=[];let s=0;for(const a of n){let u=og(a,i.aa(s));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if((n=Pe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nY(i.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=_n.fromDate(n);return{timestampValue:t_(i.yt,r)}}if(n instanceof _n){const r=new _n(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:t_(i.yt,r)}}if(n instanceof gI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zd)return{bytesValue:s4(i.yt,n._byteString)};if(n instanceof qi){const r=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:nI(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.ha(`Unsupported field value: ${RT(n)}`)}(t,e)}function U4(t,e){const n={};return PB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pl(t,(i,r)=>{const s=og(r,e.ra(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function B4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _n||t instanceof gI||t instanceof zd||t instanceof qi||t instanceof mI)}function _I(t,e,n){if(!B4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=RT(n);throw i==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+i)}}function CE(t,e,n){if((e=Pe(e))instanceof LT)return e._internalPath;if(typeof e=="string")return TI(t,e);throw i_("Field path arguments must be of type string or ",t,!1,void 0,n)}const dJ=new RegExp("[~\\*/\\[\\]]");function TI(t,e,n){if(e.search(dJ)>=0)throw i_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new LT(...e.split("."))._internalPath}catch{throw i_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function i_(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new Te(ee.INVALID_ARGUMENT,u+t+c)}function j4(t,e){return t.some(n=>n.isEqual(e))}class V4{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hJ extends V4{data(){return super.data()}}function bI(t,e){return typeof e=="string"?TI(t,e):e instanceof LT?e._internalPath:e._delegate._internalPath}function $4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wI{}class H4 extends wI{}function $L(t,e,...n){let i=[];e instanceof wI&&i.push(e),i=i.concat(n),function(r){const s=r.filter(u=>u instanceof EI).length,a=r.filter(u=>u instanceof SI).length;if(s>1||s>0&&a>0)throw new Te(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class SI extends H4{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new SI(e,n,i)}_apply(e){const n=this._parse(e);return z4(e._query,n),new lu(e.firestore,e.converter,gE(e._query,n))}_parse(e){const n=yI(e.firestore);return function(r,s,a,u,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Te(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){qL(f,d);const g=[];for(const E of f)g.push(zL(u,r,E));m={arrayValue:{values:g}}}else m=zL(u,r,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||qL(f,d),m=cJ(a,s,f,d==="in"||d==="not-in");return dn.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class EI extends wI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new EI(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:us.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const u of a)z4(s,u),s=gE(s,u)}(e._query,n),new lu(e.firestore,e.converter,gE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xI extends H4{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xI(e,n)}_apply(e){const n=function(i,r,s){if(i.startAt!==null)throw new Te(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Td(r,s);return function(u,c){if(eI(u)===null){const d=ET(u);d!==null&&q4(u,d,c.field)}}(i,a),a}(e._query,this._field,this._direction);return new lu(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new fh(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function HL(t,e="asc"){const n=e,i=bI("orderBy",t);return xI._create(i,n)}function zL(t,e,n){if(typeof(n=Pe(n))=="string"){if(n==="")throw new Te(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jB(e)&&n.indexOf("/")!==-1)throw new Te(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ct.fromString(n));if(!ke.isDocumentKey(i))throw new Te(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pL(t,new ke(i))}if(n instanceof qi)return pL(t,n._key);throw new Te(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${RT(n)}.`)}function qL(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Te(ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function z4(t,e){if(e.isInequality()){const i=ET(t),r=e.field;if(i!==null&&!i.isEqual(r))throw new Te(ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=eI(t);s!==null&&q4(t,r,s)}const n=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function q4(t,e,n){if(!n.isEqual(e))throw new Te(ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class fJ{convertValue(e,n="none"){switch(wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ud(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Le()}}convertObject(e,n){const i={};return Pl(e.fields,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new gI(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=RB(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(wm(e));default:return null}}convertTimestamp(e){const n=Xo(e);return new _n(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ct.fromString(e);bt(c4(i));const r=new bm(i.get(1),i.get(3)),s=new ke(i.popFirst(5));return r.isEqual(n)||ja(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function pJ(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class gp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class W4 extends V4{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new t0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(bI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class t0 extends W4{data(e={}){return super.data(e)}}class G4{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new gp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new t0(this._firestore,this._userDataWriter,i.key,i,new gp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new t0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const u=new t0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:mJ(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}class CI extends fJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new zd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,n)}}function gJ(t){t=Aa(t,lu);const e=Aa(t.firestore,Hd),n=pI(e),i=new CI(e);return $4(t._query),tJ(n,t._query).then(r=>new G4(e,i,t,r))}function vJ(t,e,n,...i){t=Aa(t,qi);const r=Aa(t.firestore,Hd),s=yI(r);let a;return a=typeof(e=Pe(e))=="string"||e instanceof LT?lJ(s,"updateDoc",t._key,e,n,i):uJ(s,"updateDoc",t._key,e),K4(r,[a.toMutation(t._key,Vs.exists(!0))])}function yJ(t,e){const n=Aa(t.firestore,Hd),i=R4(t),r=pJ(t.converter,e);return K4(n,[oJ(yI(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Vs.exists(!1))]).then(()=>i)}function _J(t,...e){var n,i,r;t=Pe(t);let s={includeMetadataChanges:!1},a=0;typeof e[a]!="object"||VL(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges};if(VL(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(i=m.error)===null||i===void 0?void 0:i.bind(m),e[a+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}let c,d,f;if(t instanceof qi)d=Aa(t.firestore,Hd),f=ZC(t._key.path),c={next:m=>{e[a]&&e[a](TJ(d,t,m))},error:e[a+1],complete:e[a+2]};else{const m=Aa(t,lu);d=Aa(m.firestore,Hd),f=m._query;const g=new CI(d);c={next:E=>{e[a]&&e[a](new G4(d,g,m,E))},error:e[a+1],complete:e[a+2]},$4(t._query)}return function(m,g,E,I){const b=new O4(I),x=new E4(g,b,E);return m.asyncQueue.enqueueAndForget(async()=>w4(await xE(m),x)),()=>{b.bc(),m.asyncQueue.enqueueAndForget(async()=>S4(await xE(m),x))}}(pI(d),f,u,c)}function K4(t,e){return function(n,i){const r=new Vo;return n.asyncQueue.enqueueAndForget(async()=>FQ(await eJ(n),i,r)),r.promise}(pI(t),e)}function TJ(t,e,n){const i=n.docs.get(e._key),r=new CI(t);return new W4(t,r,e._key,i,new gp(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){hh=n})(ru),pr(new Wi("firestore",(n,{instanceIdentifier:i,options:r})=>{const s=n.getProvider("app").getImmediate(),a=new Hd(new CX(n.getProvider("auth-internal")),new PX(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Te(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bm(u.options.projectId,c)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),Kn(cL,"3.8.0",t),Kn(cL,"3.8.0","esm2017")})();const X4="firebasestorage.googleapis.com",Y4="storageBucket",bJ=2*60*1e3,wJ=10*60*1e3,SJ=1e3;class Ht extends Rn{constructor(e,n,i=0){super(AS(e),`Firebase Storage: ${n} (${AS(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return AS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function AS(t){return"storage/"+t}function II(){const t="An unknown error occurred, please check the error payload for server response.";return new Ht("unknown",t)}function EJ(t){return new Ht("object-not-found","Object '"+t+"' does not exist.")}function xJ(t){return new Ht("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CJ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht("unauthenticated",t)}function IJ(){return new Ht("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function kJ(t){return new Ht("unauthorized","User does not have permission to access '"+t+"'.")}function Q4(){return new Ht("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function J4(){return new Ht("canceled","User canceled the upload/download.")}function AJ(t){return new Ht("invalid-url","Invalid URL '"+t+"'.")}function PJ(t){return new Ht("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function DJ(){return new Ht("no-default-bucket","No default bucket found. Did you set the '"+Y4+"' property when initializing the app?")}function Z4(){return new Ht("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function RJ(){return new Ht("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function OJ(){return new Ht("no-download-url","The given file does not have any download URLs.")}function LJ(t){return new Ht("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function IE(t){return new Ht("invalid-argument",t)}function e6(){return new Ht("app-deleted","The Firebase app was deleted.")}function NJ(t){return new Ht("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bp(t,e){return new Ht("invalid-format","String does not match format '"+t+"': "+e)}function Qf(t){throw new Ht("internal-error","Internal error: "+t)}class cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=cr.makeFromUrl(e,n)}catch{return new cr(e,"")}if(i.path==="")return i;throw PJ(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+r+a,"i"),c={bucket:1,path:3};function d(N){N.path_=decodeURIComponent(N.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${m}/${f}/b/${r}/o${g}`,"i"),I={bucket:1,path:3},b=n===X4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",k=new RegExp(`^https?://${b}/${r}/${x}`,"i"),O=[{regex:u,indices:c,postModify:s},{regex:E,indices:I,postModify:d},{regex:k,indices:{bucket:1,path:2},postModify:d}];for(let N=0;N<O.length;N++){const B=O[N],q=B.regex.exec(e);if(q){const $=q[B.indices.bucket];let H=q[B.indices.path];H||(H=""),i=new cr($,H),B.postModify(i);break}}if(i==null)throw AJ(e);return i}}class MJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function FJ(t,e,n){let i=1,r=null,s=null,a=!1,u=0;function c(){return u===2}let d=!1;function f(...x){d||(d=!0,e.apply(null,x))}function m(x){r=setTimeout(()=>{r=null,t(E,c())},x)}function g(){s&&clearTimeout(s)}function E(x,...k){if(d){g();return}if(x){g(),f.call(null,x,...k);return}if(c()||a){g(),f.call(null,x,...k);return}i<64&&(i*=2);let O;u===1?(u=2,O=0):O=(i+Math.random())*1e3,m(O)}let I=!1;function b(x){I||(I=!0,g(),!d&&(r!==null?(x||(u=2),clearTimeout(r),m(0)):x||(u=1)))}return m(0),s=setTimeout(()=>{a=!0,b(!0)},n),b}function UJ(t){t(!1)}function BJ(t){return t!==void 0}function jJ(t){return typeof t=="function"}function VJ(t){return typeof t=="object"&&!Array.isArray(t)}function MT(t){return typeof t=="string"||t instanceof String}function WL(t){return kI()&&t instanceof Blob}function kI(){return typeof Blob<"u"&&!nC()}function GL(t,e,n,i){if(i<e)throw IE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw IE(`Invalid value for '${t}'. Expected ${n} or less.`)}function ug(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function t6(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var ul;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ul||(ul={}));function n6(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}class $J{constructor(e,n,i,r,s,a,u,c,d,f,m,g=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,I)=>{this.resolve_=E,this.reject_=I,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new xy(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const u=s.getErrorCode()===ul.NO_ERROR,c=s.getStatus();if((!u||n6(c,this.additionalRetryCodes_))&&this.retry){const f=s.getErrorCode()===ul.ABORT;i(!1,new xy(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;i(!0,new xy(d,s))})},n=(i,r)=>{const s=this.resolve_,a=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());BJ(c)?s(c):s()}catch(c){a(c)}else if(u!==null){const c=II();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(r.canceled){const c=this.appDelete_?e6():J4();a(c)}else{const c=Q4();a(c)}};this.canceled_?n(!1,new xy(!1,null,!0)):this.backoffId_=FJ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xy{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function HJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zJ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function WJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function GJ(t,e,n,i,r,s,a=!0){const u=t6(t.urlParams),c=t.url+u,d=Object.assign({},t.headers);return qJ(d,e),HJ(d,n),zJ(d,s),WJ(d,i),new $J(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a)}function KJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XJ(...t){const e=KJ();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(kI())return new Blob(t);throw new Ht("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function YJ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function QJ(t){if(typeof atob>"u")throw LJ("base-64");return atob(t)}const Ls={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class PS{constructor(e,n){this.data=e,this.contentType=n||null}}function JJ(t,e){switch(t){case Ls.RAW:return new PS(i6(e));case Ls.BASE64:case Ls.BASE64URL:return new PS(r6(t,e));case Ls.DATA_URL:return new PS(eZ(e),tZ(e))}throw II()}function i6(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,a=t.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function ZJ(t){let e;try{e=decodeURIComponent(t)}catch{throw Bp(Ls.DATA_URL,"Malformed data URL.")}return i6(e)}function r6(t,e){switch(t){case Ls.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Bp(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ls.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Bp(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=QJ(e)}catch(r){throw r.message.includes("polyfill")?r:Bp(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class s6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Bp(Ls.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=nZ(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function eZ(t){const e=new s6(t);return e.base64?r6(Ls.BASE64,e.rest):ZJ(e.rest)}function tZ(t){return new s6(t).contentType}function nZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class ko{constructor(e,n){let i=0,r="";WL(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(WL(this.data_)){const i=this.data_,r=YJ(i,e,n);return r===null?null:new ko(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new ko(i,!0)}}static getBlob(...e){if(kI()){const n=e.map(i=>i instanceof ko?i.data_:i);return new ko(XJ.apply(null,n))}else{const n=e.map(a=>MT(a)?JJ(Ls.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)r[s++]=a[u]}),new ko(r,!0)}}uploadData(){return this.data_}}function a6(t){let e;try{e=JSON.parse(t)}catch{return null}return VJ(e)?e:null}function iZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rZ(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function o6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function sZ(t,e){return e}class vi{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||sZ}}let Cy=null;function aZ(t){return!MT(t)||t.length<2?t:o6(t)}function u6(){if(Cy)return Cy;const t=[];t.push(new vi("bucket")),t.push(new vi("generation")),t.push(new vi("metageneration")),t.push(new vi("name","fullPath",!0));function e(s,a){return aZ(a)}const n=new vi("name");n.xform=e,t.push(n);function i(s,a){return a!==void 0?Number(a):a}const r=new vi("size");return r.xform=i,t.push(r),t.push(new vi("timeCreated")),t.push(new vi("updated")),t.push(new vi("md5Hash",null,!0)),t.push(new vi("cacheControl",null,!0)),t.push(new vi("contentDisposition",null,!0)),t.push(new vi("contentEncoding",null,!0)),t.push(new vi("contentLanguage",null,!0)),t.push(new vi("contentType",null,!0)),t.push(new vi("metadata","customMetadata",!0)),Cy=t,Cy}function oZ(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new cr(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function uZ(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const a=n[s];i[a.local]=a.xform(i,e[a.server])}return oZ(i,t),i}function l6(t,e,n){const i=a6(e);return i===null?null:uZ(t,i,n)}function lZ(t,e,n,i){const r=a6(e);if(r===null||!MT(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(d=>{const f=t.bucket,m=t.fullPath,g="/b/"+a(f)+"/o/"+a(m),E=ug(g,n,i),I=t6({alt:"media",token:d});return E+I})[0]}function c6(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class gh{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Pa(t){if(!t)throw II()}function AI(t,e){function n(i,r){const s=l6(t,r,e);return Pa(s!==null),s}return n}function cZ(t,e){function n(i,r){const s=l6(t,r,e);return Pa(s!==null),lZ(s,r,t.host,t._protocol)}return n}function lg(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=IJ():r=CJ():n.getStatus()===402?r=xJ(t.bucket):n.getStatus()===403?r=kJ(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function d6(t){const e=lg(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=EJ(t.path)),s.serverResponse=r.serverResponse,s}return n}function dZ(t,e,n){const i=e.fullServerUrl(),r=ug(i,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,u=new gh(r,s,AI(t,n),a);return u.errorHandler=d6(e),u}function hZ(t,e,n){const i=e.fullServerUrl(),r=ug(i,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,u=new gh(r,s,cZ(t,n),a);return u.errorHandler=d6(e),u}function fZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function h6(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=fZ(null,e)),i}function pZ(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let O="";for(let N=0;N<2;N++)O=O+Math.random().toString().slice(2);return O}const c=u();a["Content-Type"]="multipart/related; boundary="+c;const d=h6(e,i,r),f=c6(d,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+c+"--",E=ko.getBlob(m,i,g);if(E===null)throw Z4();const I={name:d.fullPath},b=ug(s,t.host,t._protocol),x="POST",k=t.maxUploadRetryTime,P=new gh(b,x,AI(t,n),k);return P.urlParams=I,P.headers=a,P.body=E.uploadData(),P.errorHandler=lg(e),P}class r_{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}}function PI(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Pa(!1)}return Pa(!!n&&(e||["active"]).indexOf(n)!==-1),n}function mZ(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),a=h6(e,i,r),u={name:a.fullPath},c=ug(s,t.host,t._protocol),d="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},m=c6(a,n),g=t.maxUploadRetryTime;function E(b){PI(b);let x;try{x=b.getResponseHeader("X-Goog-Upload-URL")}catch{Pa(!1)}return Pa(MT(x)),x}const I=new gh(c,d,E,g);return I.urlParams=u,I.headers=f,I.body=m,I.errorHandler=lg(e),I}function gZ(t,e,n,i){const r={"X-Goog-Upload-Command":"query"};function s(d){const f=PI(d,["active","final"]);let m=null;try{m=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pa(!1)}m||Pa(!1);const g=Number(m);return Pa(!isNaN(g)),new r_(g,i.size(),f==="final")}const a="POST",u=t.maxUploadRetryTime,c=new gh(n,a,s,u);return c.headers=r,c.errorHandler=lg(e),c}const KL=256*1024;function vZ(t,e,n,i,r,s,a,u){const c=new r_(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw RJ();const d=c.total-c.current;let f=d;r>0&&(f=Math.min(f,r));const m=c.current,g=m+f;let E="";f===0?E="finalize":d===f?E="upload, finalize":E="upload";const I={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":`${c.current}`},b=i.slice(m,g);if(b===null)throw Z4();function x(N,B){const q=PI(N,["active","final"]),$=c.current+f,H=i.size();let K;return q==="final"?K=AI(e,s)(N,B):K=null,new r_($,H,q==="final",K)}const k="POST",P=e.maxUploadRetryTime,O=new gh(n,k,x,P);return O.headers=I,O.body=b.uploadData(),O.progressCallback=u||null,O.errorHandler=lg(t),O}const Ni={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function DS(t){switch(t){case"running":case"pausing":case"canceling":return Ni.RUNNING;case"paused":return Ni.PAUSED;case"success":return Ni.SUCCESS;case"canceled":return Ni.CANCELED;case"error":return Ni.ERROR;default:return Ni.ERROR}}class yZ{constructor(e,n,i){if(jJ(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Nc(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class _Z{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ul.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ul.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ul.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Qf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class TZ extends _Z{initXhr(){this.xhr_.responseType="text"}}function Wc(){return new TZ}class bZ{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=u6(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(n6(r.status,[]))if(s)r=Q4();else{this.sleepTime=Math.max(this.sleepTime*2,SJ),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=mZ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Wc,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const r=gZ(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Wc,n,i);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=KL*this._chunkMultiplier,n=new r_(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=vZ(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const u=this._ref.storage._makeRequest(a,Wc,r,s,!1);this._request=u,u.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){KL*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=dZ(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Wc,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=pZ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Wc,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=J4(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=DS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){const s=new yZ(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(DS(this._state)){case Ni.SUCCESS:Nc(this._resolve.bind(null,this.snapshot))();break;case Ni.CANCELED:case Ni.ERROR:const n=this._reject;Nc(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(DS(this._state)){case Ni.RUNNING:case Ni.PAUSED:e.next&&Nc(e.next.bind(e,this.snapshot))();break;case Ni.SUCCESS:e.complete&&Nc(e.complete.bind(e))();break;case Ni.CANCELED:case Ni.ERROR:e.error&&Nc(e.error.bind(e,this._error))();break;default:e.error&&Nc(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class Sl{constructor(e,n){this._service=e,n instanceof cr?this._location=n:this._location=cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Sl(e,n)}get root(){const e=new cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o6(this._location.path)}get storage(){return this._service}get parent(){const e=iZ(this._location.path);if(e===null)return null;const n=new cr(this._location.bucket,e);return new Sl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw NJ(e)}}function wZ(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new bZ(t,new ko(e),n)}function SZ(t){t._throwIfRoot("getDownloadURL");const e=hZ(t.storage,t._location,u6());return t.storage.makeRequestWithTokens(e,Wc).then(n=>{if(n===null)throw OJ();return n})}function EZ(t,e){const n=rZ(t._location.path,e),i=new cr(t._location.bucket,n);return new Sl(t.storage,i)}function xZ(t){return/^[A-Za-z]+:\/\//.test(t)}function CZ(t,e){return new Sl(t,e)}function f6(t,e){if(t instanceof DI){const n=t;if(n._bucket==null)throw DJ();const i=new Sl(n,n._bucket);return e!=null?f6(i,e):i}else return e!==void 0?EZ(t,e):t}function IZ(t,e){if(e&&xZ(e)){if(t instanceof DI)return CZ(t,e);throw IE("To use ref(service, url), the first argument must be a Storage instance.")}else return f6(t,e)}function XL(t,e){const n=e==null?void 0:e[Y4];return n==null?null:cr.makeFromBucketSpec(n,t)}function kZ(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:YF(r,t.app.options.projectId))}class DI{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=X4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bJ,this._maxUploadRetryTime=wJ,this._requests=new Set,r!=null?this._bucket=cr.makeFromBucketSpec(r,this._host):this._bucket=XL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cr.makeFromBucketSpec(this._url,e):this._bucket=XL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sl(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new MJ(e6());{const a=GJ(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const YL="@firebase/storage",QL="0.10.0";const p6="storage";function AZ(t,e,n){return t=Pe(t),wZ(t,e,n)}function PZ(t){return t=Pe(t),SZ(t)}function DZ(t,e){return t=Pe(t),IZ(t,e)}function RZ(t=G_(),e){t=Pe(t);const i=iu(t,p6).getImmediate({identifier:e}),r=KF("storage");return r&&OZ(i,...r),i}function OZ(t,e,n,i={}){kZ(t,e,n,i)}function LZ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new DI(n,i,r,e,ru)}function NZ(){pr(new Wi(p6,LZ,"PUBLIC").setMultipleInstances(!0)),Kn(YL,QL,""),Kn(YL,QL,"esm2017")}NZ();class MZ{constructor(e,n){this._delegate=e,this.firebase=n,F0(e,new Wi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),iU(this._delegate)))}_getService(e,n=qo){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=qo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){F0(this._delegate,e)}_addOrOverwriteComponent(e){nU(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const FZ={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},JL=new Xa("app-compat","Firebase",FZ);function UZ(t){const e={},n={__esModule:!0,initializeApp:s,app:r,registerVersion:Kn,setLogLevel:sU,onLog:rU,apps:null,SDK_VERSION:ru,INTERNAL:{registerComponent:u,removeApp:i,useAsService:c,modularAPIs:Q9}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(d){delete e[d]}function r(d){if(d=d||qo,!vO(e,d))throw JL.create("no-app",{appName:d});return e[d]}r.App=t;function s(d,f={}){const m=W_(d,f);if(vO(e,m.name))return e[m.name];const g=new t(m,n);return e[m.name]=g,g}function a(){return Object.keys(e).map(d=>e[d])}function u(d){const f=d.name,m=f.replace("-compat","");if(pr(d)&&d.type==="PUBLIC"){const g=(E=r())=>{if(typeof E[m]!="function")throw JL.create("invalid-app-argument",{appName:f});return E[m]()};d.serviceProps!==void 0&&N0(g,d.serviceProps),n[m]=g,t.prototype[m]=function(...E){return this._getService.bind(this,f).apply(this,d.multipleInstances?E:[])}}return d.type==="PUBLIC"?n[m]:null}function c(d,f){return f==="serverAuth"?null:f}return n}function m6(){const t=UZ(MZ);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:m6,extendNamespace:e,createSubscribe:QF,ErrorFactory:Xa,deepExtend:N0});function e(n){N0(t,n)}return t}const BZ=m6();const ZL=new Vm("@firebase/app-compat"),jZ="@firebase/app-compat",VZ="0.2.0";function $Z(t){Kn(jZ,VZ,t)}if(C7()&&self.firebase!==void 0){ZL.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&ZL.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const xe=BZ;$Z();var HZ="firebase",zZ="9.15.0";xe.registerVersion(HZ,zZ,"app-compat");function El(){return window}const qZ=2e3;async function WZ(t,e,n){var i;const{BuildInfo:r}=El();os(e.sessionId,"AuthEvent did not contain a session ID");const s=await QZ(e.sessionId),a={};return oh()?a.ibi=r.packageName:Hm()?a.apn=r.packageName:Ln(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=s,eE(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,a)}async function GZ(t){const{BuildInfo:e}=El(),n={};oh()?n.iosBundleId=e.packageName:Hm()?n.androidPackageName=e.packageName:Ln(t,"operation-not-supported-in-this-environment"),await S3(t,n)}function KZ(t){const{cordova:e}=El();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,Mq()?"_blank":"_system","location=yes"),n(r)})})}async function XZ(t,e,n){const{cordova:i}=El();let r=()=>{};try{await new Promise((s,a)=>{let u=null;function c(){var m;s();const g=(m=i.plugins.browsertab)===null||m===void 0?void 0:m.close;typeof g=="function"&&g(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){u||(u=window.setTimeout(()=>{a(Xn(t,"redirect-cancelled-by-user"))},qZ))}function f(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(c),document.addEventListener("resume",d,!1),Hm()&&document.addEventListener("visibilitychange",f,!1),r=()=>{e.removePassiveListener(c),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",f,!1),u&&window.clearTimeout(u)}})}finally{r()}}function YZ(t){var e,n,i,r,s,a,u,c,d,f;const m=El();le(typeof((e=m==null?void 0:m.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof((n=m==null?void 0:m.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le(typeof((s=(r=(i=m==null?void 0:m.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le(typeof((c=(u=(a=m==null?void 0:m.cordova)===null||a===void 0?void 0:a.plugins)===null||u===void 0?void 0:u.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le(typeof((f=(d=m==null?void 0:m.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||f===void 0?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function QZ(t){const e=JZ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")}function JZ(t){if(os(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}const ZZ=20;class eee extends b3{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function tee(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:ree(),postBody:null,tenantId:t.tenantId,error:Xn(t,"no-auth-event")}}function nee(t,e){return kE()._set(AE(t),e)}async function e2(t){const e=await kE()._get(AE(t));return e&&await kE()._remove(AE(t)),e}function iee(t,e){var n,i;const r=aee(e);if(r.includes("/__/auth/callback")){const s=n0(r),a=s.firebaseError?see(decodeURIComponent(s.firebaseError)):null,u=(i=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],c=u?Xn(u):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}function ree(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<ZZ;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function kE(){return lr(iT)}function AE(t){return rl("authEvent",t.config.apiKey,t.name)}function see(t){try{return JSON.parse(t)}catch{return null}}function aee(t){const e=n0(t),n=e.link?decodeURIComponent(e.link):void 0,i=n0(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return n0(r).link||r||i||n||t}function n0(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return sd(n.join("?"))}const oee=500;class uee{constructor(){this._redirectPersistence=Go,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=oT,this._overrideRedirectResult=xC}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new eee(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){Ln(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,r){YZ(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),OG(),await this._originValidation(e);const a=tee(e,i,r);await nee(e,a);const u=await WZ(e,a,n),c=await KZ(u);return XZ(e,s,c)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GZ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:r,BuildInfo:s}=El(),a=setTimeout(async()=>{await e2(e),n.onEvent(t2())},oee),u=async f=>{clearTimeout(a);const m=await e2(e);let g=null;m&&(f!=null&&f.url)&&(g=iee(m,f.url)),n.onEvent(g||t2())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,u);const c=r,d=`${s.packageName.toLowerCase()}://`;El().handleOpenURL=async f=>{if(f.toLowerCase().startsWith(d)&&u({url:f}),typeof c=="function")try{c(f)}catch(m){console.error(m)}}}}const lee=uee;function t2(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xn("no-auth-event")}}function cee(t,e){Nn(t)._logFramework(e)}var dee="@firebase/auth-compat",hee="0.3.0";const fee=1e3;function jp(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function pee(){return jp()==="http:"||jp()==="https:"}function g6(t=fn()){return!!((jp()==="file:"||jp()==="ionic:"||jp()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mee(){return rC()||nC()}function gee(){return qF()&&(document==null?void 0:document.documentMode)===11}function vee(t=fn()){return/Edge\/\d+/.test(t)}function yee(t=fn()){return gee()||vee(t)}function v6(){try{const t=self.localStorage,e=zm();if(t)return t.setItem(e,"1"),t.removeItem(e),yee()?um():!0}catch{return RI()&&um()}return!1}function RI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function RS(){return(pee()||iC()||g6())&&!mee()&&v6()&&!RI()}function y6(){return g6()&&typeof document<"u"}async function _ee(){return y6()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},fee);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Tee(){return typeof window<"u"?window:null}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},Jf=le,_6="persistence";function bee(t,e){if(Jf(Object.values(ar).includes(e),t,"invalid-persistence-type"),rC()){Jf(e!==ar.SESSION,t,"unsupported-persistence-type");return}if(nC()){Jf(e===ar.NONE,t,"unsupported-persistence-type");return}if(RI()){Jf(e===ar.NONE||e===ar.LOCAL&&um(),t,"unsupported-persistence-type");return}Jf(e===ar.NONE||v6(),t,"unsupported-persistence-type")}async function PE(t){await t._initializationPromise;const e=T6(),n=rl(_6,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function wee(t,e){const n=T6();if(!n)return[];const i=rl(_6,t,e);switch(n.getItem(i)){case ar.NONE:return[Od];case ar.LOCAL:return[Nd,Go];case ar.SESSION:return[Go];default:return[]}}function T6(){var t;try{return((t=Tee())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}const See=le;class Do{constructor(){this.browserResolver=lr(E3),this.cordovaResolver=lr(lee),this.underlyingResolver=null,this._redirectPersistence=Go,this._completeRedirectFn=oT,this._overrideRedirectResult=xC}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,r)}async _openRedirect(e,n,i,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,r)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return y6()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return See(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await _ee();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function b6(t){return t.unwrap()}function Eee(t){return t.wrapped()}function xee(t){return w6(t)}function Cee(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const r=e;r.resolver=new Iee(t,UW(t,e))}else if(i){const r=w6(e),s=e;r&&(s.credential=r,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}function w6(t){const{_tokenResponse:e}=t instanceof Rn?t.customData:t;if(!e)return null;if(!(t instanceof Rn)&&"temporaryProof"in e&&"phoneNumber"in e)return js.credentialFromResult(t);const n=e.providerId;if(!n||n===Xf.PASSWORD)return null;let i;switch(n){case Xf.GOOGLE:i=es;break;case Xf.FACEBOOK:i=As;break;case Xf.GITHUB:i=Ps;break;case Xf.TWITTER:i=Ds;break;default:const{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:u,nonce:c}=e;return!s&&!a&&!r&&!u?null:u?n.startsWith("saml.")?Ld._create(n,u):Ws._fromParams({providerId:n,signInMethod:n,pendingToken:u,idToken:r,accessToken:s}):new yd(n).credential({idToken:r,accessToken:s,rawNonce:c})}return t instanceof Rn?i.credentialFromError(t):i.credentialFromResult(t)}function Mi(t,e){return e.catch(n=>{throw n instanceof Rn&&Cee(t,n),n}).then(n=>{const i=n.operationType,r=n.user;return{operationType:i,credential:xee(n),additionalUserInfo:OW(n),user:xa.getOrCreate(r)}})}async function DE(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>Mi(t,n.confirm(i))}}class Iee{constructor(e,n){this.resolver=n,this.auth=Eee(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Mi(b6(this.auth),this.resolver.resolveSignIn(e))}}class xa{constructor(e){this._delegate=e,this.multiFactor=$W(e)}static getOrCreate(e){return xa.USER_MAP.has(e)||xa.USER_MAP.set(e,new xa(e)),xa.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Mi(this.auth,t3(this._delegate,e))}async linkWithPhoneNumber(e,n){return DE(this.auth,bG(this._delegate,e,n))}async linkWithPopup(e){return Mi(this.auth,AG(this._delegate,e,Do))}async linkWithRedirect(e){return await PE(Nn(this.auth)),UG(this._delegate,e,Do)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Mi(this.auth,n3(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return DE(this.auth,wG(this._delegate,e,n))}reauthenticateWithPopup(e){return Mi(this.auth,kG(this._delegate,e,Do))}async reauthenticateWithRedirect(e){return await PE(Nn(this.auth)),MG(this._delegate,e,Do)}sendEmailVerification(e){return wW(this._delegate,e)}async unlink(e){return await lW(this._delegate,e),this}updateEmail(e){return CW(this._delegate,e)}updatePassword(e){return IW(this._delegate,e)}updatePhoneNumber(e){return SG(this._delegate,e)}updateProfile(e){return xW(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return SW(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xa.USER_MAP=new WeakMap;const Zf=le;class RE{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;Zf(i,"invalid-api-key",{appName:e.name}),Zf(i,"invalid-api-key",{appName:e.name});const r=typeof window<"u"?Do:void 0;this._delegate=n.initialize({options:{persistence:kee(i,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(gq),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){WU(this._delegate,e,n)}applyActionCode(e){return pW(this._delegate,e)}checkActionCode(e){return i3(this._delegate,e)}confirmPasswordReset(e,n){return fW(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Mi(this._delegate,gW(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return bW(this._delegate,e)}isSignInWithEmailLink(e){return yW(this._delegate,e)}async getRedirectResult(){Zf(RS(),this._delegate,"operation-not-supported-in-this-environment");const e=await jG(this._delegate,Do);return e?Mi(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){cee(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:r,error:s,complete:a}=n2(e,n,i);return this._delegate.onAuthStateChanged(r,s,a)}onIdTokenChanged(e,n,i){const{next:r,error:s,complete:a}=n2(e,n,i);return this._delegate.onIdTokenChanged(r,s,a)}sendSignInLinkToEmail(e,n){return vW(this._delegate,e,n)}sendPasswordResetEmail(e,n){return hW(this._delegate,e,n||void 0)}async setPersistence(e){bee(this._delegate,e);let n;switch(e){case ar.SESSION:n=Go;break;case ar.LOCAL:n=await lr(Nd)._isAvailable()?Nd:iT;break;case ar.NONE:n=Od;break;default:return Ln("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Mi(this._delegate,uW(this._delegate))}signInWithCredential(e){return Mi(this._delegate,eT(this._delegate,e))}signInWithCustomToken(e){return Mi(this._delegate,dW(this._delegate,e))}signInWithEmailAndPassword(e,n){return Mi(this._delegate,r3(this._delegate,e,n))}signInWithEmailLink(e,n){return Mi(this._delegate,_W(this._delegate,e,n))}signInWithPhoneNumber(e,n){return DE(this._delegate,TG(this._delegate,e,n))}async signInWithPopup(e){return Zf(RS(),this._delegate,"operation-not-supported-in-this-environment"),Mi(this._delegate,v3(this._delegate,e,Do))}async signInWithRedirect(e){return Zf(RS(),this._delegate,"operation-not-supported-in-this-environment"),await PE(this._delegate),LG(this._delegate,e,Do)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return mW(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}RE.Persistence=ar;function n2(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const r=i;return{next:a=>r(a&&xa.getOrCreate(a)),error:e,complete:n}}function kee(t,e){const n=wee(t,e);if(typeof self<"u"&&!n.includes(Nd)&&n.push(Nd),typeof window<"u")for(const i of[iT,Go])n.includes(i)||n.push(i);return n.includes(Od)||n.push(Od),n}class OI{constructor(){this.providerId="phone",this._delegate=new js(b6(xe.auth()))}static credential(e,n){return js.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}OI.PHONE_SIGN_IN_METHOD=js.PHONE_SIGN_IN_METHOD;OI.PROVIDER_ID=js.PROVIDER_ID;const Aee=le;class Pee{constructor(e,n,i=xe.app()){var r;Aee((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new yG(e,n,i.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}const Dee="auth-compat";function Ree(t){t.INTERNAL.registerComponent(new Wi(Dee,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new RE(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Lc.EMAIL_SIGNIN,PASSWORD_RESET:Lc.PASSWORD_RESET,RECOVER_EMAIL:Lc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Lc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Lc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Lc.VERIFY_EMAIL}},EmailAuthProvider:su,FacebookAuthProvider:As,GithubAuthProvider:Ps,GoogleAuthProvider:es,OAuthProvider:yd,SAMLAuthProvider:B0,PhoneAuthProvider:OI,PhoneMultiFactorGenerator:x3,RecaptchaVerifier:Pee,TwitterAuthProvider:Ds,Auth:RE,AuthCredential:uh,Error:Rn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(dee,hee)}Ree(xe);var S6={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(x,k){k=k||{};var P=document.createEvent("CustomEvent");return P.initCustomEvent(x,!!k.bubbles,!!k.cancelable,k.detail||null),P},e.prototype=window.Event.prototype);function n(b){for(;b&&b!==document.body;){var x=window.getComputedStyle(b),k=function(P,O){return!(x[P]===void 0||x[P]===O)};if(x.opacity<1||k("zIndex","auto")||k("transform","none")||k("mixBlendMode","normal")||k("filter","none")||k("perspective","none")||x.isolation==="isolate"||x.position==="fixed"||x.webkitOverflowScrolling==="touch")return!0;b=b.parentElement}return!1}function i(b){for(;b;){if(b.localName==="dialog")return b;b=b.parentElement}return null}function r(b){b&&b.blur&&b!==document.body&&b.blur()}function s(b,x){for(var k=0;k<b.length;++k)if(b[k]===x)return!0;return!1}function a(b){return!b||!b.hasAttribute("method")?!1:b.getAttribute("method").toLowerCase()==="dialog"}function u(b){if(this.dialog_=b,this.replacedStyleTop_=!1,this.openAsModal_=!1,b.hasAttribute("role")||b.setAttribute("role","dialog"),b.show=this.show.bind(this),b.showModal=this.showModal.bind(this),b.close=this.close.bind(this),"returnValue"in b||(b.returnValue=""),"MutationObserver"in window){var x=new MutationObserver(this.maybeHideModal.bind(this));x.observe(b,{attributes:!0,attributeFilter:["open"]})}else{var k=!1,P=function(){k?this.downgradeModal():this.maybeHideModal(),k=!1}.bind(this),O,N=function(B){if(B.target===b){var q="DOMNodeRemoved";k|=B.type.substr(0,q.length)===q,window.clearTimeout(O),O=window.setTimeout(P,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(B){b.addEventListener(B,N)})}Object.defineProperty(b,"open",{set:this.setOpen.bind(this),get:b.hasAttribute.bind(b,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}u.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){!this.openAsModal_||(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),c.dm.removeDialog(this))},setOpen:function(b){b?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(b){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var x=document.createElement("div");this.dialog_.insertBefore(x,this.dialog_.firstChild),x.tabIndex=-1,x.focus(),this.dialog_.removeChild(x)}var k=document.createEvent("MouseEvents");k.initMouseEvent(b.type,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),this.dialog_.dispatchEvent(k),b.stopPropagation()},focus_:function(){var b=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!b&&this.dialog_.tabIndex>=0&&(b=this.dialog_),!b){var x=["button","input","keygen","select","textarea"],k=x.map(function(P){return P+":not([disabled])"});k.push('[tabindex]:not([disabled]):not([tabindex=""])'),b=this.dialog_.querySelector(k.join(", "))}r(document.activeElement),b&&b.focus()},updateZIndex:function(b,x){if(b<x)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=b,this.backdrop_.style.zIndex=x},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!c.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,c.needsCentering(this.dialog_)?(c.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(b){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),b!==void 0&&(this.dialog_.returnValue=b);var x=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(x)}};var c={};if(c.reposition=function(b){var x=document.body.scrollTop||document.documentElement.scrollTop,k=x+(window.innerHeight-b.offsetHeight)/2;b.style.top=Math.max(x,k)+"px"},c.isInlinePositionSetByStylesheet=function(b){for(var x=0;x<document.styleSheets.length;++x){var k=document.styleSheets[x],P=null;try{P=k.cssRules}catch{}if(!!P)for(var O=0;O<P.length;++O){var N=P[O],B=null;try{B=document.querySelectorAll(N.selectorText)}catch{}if(!(!B||!s(B,b))){var q=N.style.getPropertyValue("top"),$=N.style.getPropertyValue("bottom");if(q&&q!=="auto"||$&&$!=="auto")return!0}}}return!1},c.needsCentering=function(b){var x=window.getComputedStyle(b);return x.position!=="absolute"||b.style.top!=="auto"&&b.style.top!==""||b.style.bottom!=="auto"&&b.style.bottom!==""?!1:!c.isInlinePositionSetByStylesheet(b)},c.forceRegisterDialog=function(b){if((window.HTMLDialogElement||b.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",b),b.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new u(b)},c.registerDialog=function(b){b.showModal||c.forceRegisterDialog(b)},c.DialogManager=function(){this.pendingDialogStack=[];var b=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(x){this.forwardTab_=void 0,x.stopPropagation(),b([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(x){var k=[];x.forEach(function(P){for(var O=0,N;N=P.removedNodes[O];++O){if(N instanceof Element)N.localName==="dialog"&&k.push(N);else continue;k=k.concat(N.querySelectorAll("dialog"))}}),k.length&&b(k)}))},c.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},c.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},c.DialogManager.prototype.updateStacking=function(){for(var b=this.zIndexHigh_,x=0,k;k=this.pendingDialogStack[x];++x)k.updateZIndex(--b,--b),x===0&&(this.overlay.style.zIndex=--b);var P=this.pendingDialogStack[0];if(P){var O=P.dialog.parentNode||document.body;O.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},c.DialogManager.prototype.containedByTopDialog_=function(b){for(;b=i(b);){for(var x=0,k;k=this.pendingDialogStack[x];++x)if(k.dialog===b)return x===0;b=b.parentElement}return!1},c.DialogManager.prototype.handleFocus_=function(b){if(!this.containedByTopDialog_(b.target)&&(b.preventDefault(),b.stopPropagation(),r(b.target),this.forwardTab_!==void 0)){var x=this.pendingDialogStack[0],k=x.dialog,P=k.compareDocumentPosition(b.target);return P&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?x.focus_():document.documentElement.focus()),!1}},c.DialogManager.prototype.handleKey_=function(b){if(this.forwardTab_=void 0,b.keyCode===27){b.preventDefault(),b.stopPropagation();var x=new e("cancel",{bubbles:!1,cancelable:!0}),k=this.pendingDialogStack[0];k&&k.dialog.dispatchEvent(x)&&k.dialog.close()}else b.keyCode===9&&(this.forwardTab_=!b.shiftKey)},c.DialogManager.prototype.checkDOM_=function(b){var x=this.pendingDialogStack.slice();x.forEach(function(k){b.indexOf(k.dialog)!==-1?k.downgradeModal():k.maybeHideModal()})},c.DialogManager.prototype.pushDialog=function(b){var x=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=x?!1:(this.pendingDialogStack.unshift(b)===1&&this.blockDocument(),this.updateStacking(),!0)},c.DialogManager.prototype.removeDialog=function(b){var x=this.pendingDialogStack.indexOf(b);x!==-1&&(this.pendingDialogStack.splice(x,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},c.dm=new c.DialogManager,c.formSubmitter=null,c.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var m=f.get;f.get=function(){return a(this)?"dialog":m.call(this)};var g=f.set;f.set=function(b){return typeof b=="string"&&b.toLowerCase()==="dialog"?this.setAttribute("method",b):g.call(this,b)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",function(b){if(c.formSubmitter=null,c.useValue=null,!b.defaultPrevented){var x=b.target;if(!(!x||!a(x.form))){var k=x.type==="submit"&&["button","input"].indexOf(x.localName)>-1;if(!k){if(!(x.localName==="input"&&x.type==="image"))return;c.useValue=b.offsetX+","+b.offsetY}var P=i(x);!P||(c.formSubmitter=x)}}},!1);var E=HTMLFormElement.prototype.submit,I=function(){if(!a(this))return E.call(this);var b=i(this);b&&b.close()};HTMLFormElement.prototype.submit=I,document.addEventListener("submit",function(b){var x=b.target;if(!!a(x)){b.preventDefault();var k=i(x);if(!!k){var P=c.formSubmitter;P&&P.form===x?k.close(c.useValue||P.value):k.close(),c.formSubmitter=null}}},!0)}c.forceRegisterDialog=c.forceRegisterDialog,c.registerDialog=c.registerDialog,typeof t.exports=="object"?t.exports=c:window.dialogPolyfill=c})()})(S6);const Oee=S6.exports;var Vt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};Vt=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(b,x){for(var k=0;k<t.length;k++)if(t[k].className===b)return typeof x<"u"&&(t[k]=x),t[k];return!1}function r(b){var x=b.getAttribute("data-upgraded");return x===null?[""]:x.split(",")}function s(b,x){var k=r(b);return k.indexOf(x)!==-1}function a(b,x,k){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(b,{bubbles:x,cancelable:k});var P=document.createEvent("Events");return P.initEvent(b,x,k),P}function u(b,x){if(typeof b>"u"&&typeof x>"u")for(var k=0;k<t.length;k++)u(t[k].className,t[k].cssClass);else{var P=b;if(typeof x>"u"){var O=i(P);O&&(x=O.cssClass)}for(var N=document.querySelectorAll("."+x),B=0;B<N.length;B++)c(N[B],P)}}function c(b,x){if(!(typeof b=="object"&&b instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var k=a("mdl-componentupgrading",!0,!0);if(b.dispatchEvent(k),!k.defaultPrevented){var P=r(b),O=[];if(x)s(b,x)||O.push(i(x));else{var N=b.classList;t.forEach(function(ie){N.contains(ie.cssClass)&&O.indexOf(ie)===-1&&!s(b,ie.className)&&O.push(ie)})}for(var B=0,q=O.length,$;B<q;B++){if($=O[B],$){P.push($.className),b.setAttribute("data-upgraded",P.join(","));var H=new $.classConstructor(b);H[n]=$,e.push(H);for(var K=0,G=$.callbacks.length;K<G;K++)$.callbacks[K](b);$.widget&&(b[$.className]=H)}else throw new Error("Unable to find a registered component for the given class.");var Q=a("mdl-componentupgraded",!0,!1);b.dispatchEvent(Q)}}}function d(b){Array.isArray(b)||(b instanceof Element?b=[b]:b=Array.prototype.slice.call(b));for(var x=0,k=b.length,P;x<k;x++)P=b[x],P instanceof HTMLElement&&(c(P),P.children.length>0&&d(P.children))}function f(b){var x=typeof b.widget>"u"&&typeof b.widget>"u",k=!0;x||(k=b.widget||b.widget);var P={classConstructor:b.constructor||b.constructor,className:b.classAsString||b.classAsString,cssClass:b.cssClass||b.cssClass,widget:k,callbacks:[]};if(t.forEach(function(N){if(N.cssClass===P.cssClass)throw new Error("The provided cssClass has already been registered: "+N.cssClass);if(N.className===P.className)throw new Error("The provided className has already been registered")}),b.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var O=i(b.classAsString,P);O||t.push(P)}function m(b,x){var k=i(b);k&&k.callbacks.push(x)}function g(){for(var b=0;b<t.length;b++)u(t[b].className)}function E(b){if(b){var x=e.indexOf(b);e.splice(x,1);var k=b.element_.getAttribute("data-upgraded").split(","),P=k.indexOf(b[n].classAsString);k.splice(P,1),b.element_.setAttribute("data-upgraded",k.join(","));var O=a("mdl-componentdowngraded",!0,!1);b.element_.dispatchEvent(O)}}function I(b){var x=function(P){e.filter(function(O){return O.element_===P}).forEach(E)};if(b instanceof Array||b instanceof NodeList)for(var k=0;k<b.length;k++)x(b[k]);else if(b instanceof Node)x(b);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:u,upgradeElement:c,upgradeElements:d,upgradeAllRegistered:g,registerUpgradedCallback:m,register:f,downgradeElements:I}}();Vt.ComponentConfigPublic;Vt.ComponentConfig;Vt.Component;Vt.upgradeDom=Vt.upgradeDom;Vt.upgradeElement=Vt.upgradeElement;Vt.upgradeElements=Vt.upgradeElements;Vt.upgradeAllRegistered=Vt.upgradeAllRegistered;Vt.registerUpgradedCallback=Vt.registerUpgradedCallback;Vt.register=Vt.register;Vt.downgradeElements=Vt.downgradeElements;window.componentHandler=Vt;window.componentHandler=Vt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Vt.upgradeAllRegistered()):(Vt.upgradeElement=function(){},Vt.register=function(){})});(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),s.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,r,s],u=0;u<a.length;u++){var c=document.createElement("div");c.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[u].appendChild(c)}n.appendChild(i),n.appendChild(r),n.appendChild(s),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(o){function l(){}return l.prototype=o,new l},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var r={xb:!0},s={};try{s.__proto__=r,i=s.xb;break e}catch{}i=!1}n=i?function(o,l){if(o.__proto__=l,o.__proto__!==l)throw new TypeError(o+" is not extensible");return o}:null}var a=n;function u(o,l){if(o.prototype=e(l.prototype),o.prototype.constructor=o,a)a(o,l);else for(var h in l)if(h!="prototype")if(Object.defineProperties){var p=Object.getOwnPropertyDescriptor(l,h);p&&Object.defineProperty(o,h,p)}else o[h]=l[h];o.K=l.prototype}var c=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,l,h){o!=Array.prototype&&o!=Object.prototype&&(o[l]=h.value)},d=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function f(o,l){if(l){var h=d;o=o.split(".");for(var p=0;p<o.length-1;p++){var y=o[p];y in h||(h[y]={}),h=h[y]}o=o[o.length-1],p=h[o],l=l(p),l!=p&&l!=null&&c(h,o,{configurable:!0,writable:!0,value:l})}}f("Object.is",function(o){return o||function(l,h){return l===h?l!==0||1/l===1/h:l!==l&&h!==h}}),f("Array.prototype.includes",function(o){return o||function(l,h){var p=this;p instanceof String&&(p=String(p));var y=p.length;for(h=h||0,0>h&&(h=Math.max(h+y,0));h<y;h++){var w=p[h];if(w===l||Object.is(w,l))return!0}return!1}});var m=this;function g(o){return o!==void 0}function E(o){return typeof o=="string"}var I=/^[\w+/_-]+[=]{0,2}$/,b=null;function x(){}function k(o){o.W=void 0,o.Xa=function(){return o.W?o.W:o.W=new o}}function P(o){var l=typeof o;if(l=="object")if(o){if(o instanceof Array)return"array";if(o instanceof Object)return l;var h=Object.prototype.toString.call(o);if(h=="[object Window]")return"object";if(h=="[object Array]"||typeof o.length=="number"&&typeof o.splice<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("splice"))return"array";if(h=="[object Function]"||typeof o.call<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("call"))return"function"}else return"null";else if(l=="function"&&typeof o.call>"u")return"object";return l}function O(o){return P(o)=="array"}function N(o){var l=P(o);return l=="array"||l=="object"&&typeof o.length=="number"}function B(o){return P(o)=="function"}function q(o){var l=typeof o;return l=="object"&&o!=null||l=="function"}var $="closure_uid_"+(1e9*Math.random()>>>0),H=0;function K(o,l,h){return o.call.apply(o.bind,arguments)}function G(o,l,h){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,p),o.apply(l,y)}}return function(){return o.apply(l,arguments)}}function Q(o,l,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Q=K:Q=G,Q.apply(null,arguments)}function ie(o,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function he(o,l){for(var h in l)o[h]=l[h]}var $e=Date.now||function(){return+new Date};function Ie(o,l){o=o.split(".");var h=m;o[0]in h||typeof h.execScript>"u"||h.execScript("var "+o[0]);for(var p;o.length&&(p=o.shift());)!o.length&&g(l)?h[p]=l:h[p]&&h[p]!==Object.prototype[p]?h=h[p]:h=h[p]={}}function ce(o,l){function h(){}h.prototype=l.prototype,o.K=l.prototype,o.prototype=new h,o.prototype.constructor=o,o.vc=function(p,y,w){for(var R=Array(arguments.length-2),U=2;U<arguments.length;U++)R[U-2]=arguments[U];return l.prototype[y].apply(p,R)}}function De(o){if(Error.captureStackTrace)Error.captureStackTrace(this,De);else{var l=Error().stack;l&&(this.stack=l)}o&&(this.message=String(o))}ce(De,Error),De.prototype.name="CustomError";var se;function we(o,l){o=o.split("%s");for(var h="",p=o.length-1,y=0;y<p;y++)h+=o[y]+(y<l.length?l[y]:"%s");De.call(this,h+o[p])}ce(we,De),we.prototype.name="AssertionError";function me(o,l){throw new we("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}var dt=Array.prototype.indexOf?function(o,l){return Array.prototype.indexOf.call(o,l,void 0)}:function(o,l){if(E(o))return E(l)&&l.length==1?o.indexOf(l,0):-1;for(var h=0;h<o.length;h++)if(h in o&&o[h]===l)return h;return-1},We=Array.prototype.forEach?function(o,l,h){Array.prototype.forEach.call(o,l,h)}:function(o,l,h){for(var p=o.length,y=E(o)?o.split(""):o,w=0;w<p;w++)w in y&&l.call(h,y[w],w,o)};function Zn(o,l){for(var h=E(o)?o.split(""):o,p=o.length-1;0<=p;--p)p in h&&l.call(void 0,h[p],p,o)}var Sn=Array.prototype.filter?function(o,l){return Array.prototype.filter.call(o,l,void 0)}:function(o,l){for(var h=o.length,p=[],y=0,w=E(o)?o.split(""):o,R=0;R<h;R++)if(R in w){var U=w[R];l.call(void 0,U,R,o)&&(p[y++]=U)}return p},Xi=Array.prototype.map?function(o,l){return Array.prototype.map.call(o,l,void 0)}:function(o,l){for(var h=o.length,p=Array(h),y=E(o)?o.split(""):o,w=0;w<h;w++)w in y&&(p[w]=l.call(void 0,y[w],w,o));return p},rn=Array.prototype.some?function(o,l){return Array.prototype.some.call(o,l,void 0)}:function(o,l){for(var h=o.length,p=E(o)?o.split(""):o,y=0;y<h;y++)if(y in p&&l.call(void 0,p[y],y,o))return!0;return!1};function At(o,l){return 0<=dt(o,l)}function Xs(o,l){l=dt(o,l);var h;return(h=0<=l)&&Lr(o,l),h}function Lr(o,l){return Array.prototype.splice.call(o,l,1).length==1}function rb(o,l){e:{for(var h=o.length,p=E(o)?o.split(""):o,y=0;y<h;y++)if(y in p&&l.call(void 0,p[y],y,o)){l=y;break e}l=-1}0<=l&&Lr(o,l)}function xg(o,l){var h=0;Zn(o,function(p,y){l.call(void 0,p,y,o)&&Lr(o,y)&&h++})}function Cg(o){return Array.prototype.concat.apply([],arguments)}function Ig(o){var l=o.length;if(0<l){for(var h=Array(l),p=0;p<l;p++)h[p]=o[p];return h}return[]}function sb(o,l,h){return 2>=arguments.length?Array.prototype.slice.call(o,l):Array.prototype.slice.call(o,l,h)}var fi=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},hu=/&/g,ds=/</g,xh=/>/g,st=/"/g,ab=/'/g,Ch=/\x00/g,ob=/[\x00&<>"']/;function fu(o,l){return o<l?-1:o>l?1:0}function hs(o){return ob.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(hu,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(ds,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(xh,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(st,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(ab,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Ch,"&#0;"))),o}function Nl(o,l,h){for(var p in o)l.call(h,o[p],p,o)}function to(o){var l={},h;for(h in o)l[h]=o[h];return l}var Ml="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pu(o,l){for(var h,p,y=1;y<arguments.length;y++){p=arguments[y];for(h in p)o[h]=p[h];for(var w=0;w<Ml.length;w++)h=Ml[w],Object.prototype.hasOwnProperty.call(p,h)&&(o[h]=p[h])}}var Ys="StopIteration"in m?m.StopIteration:{message:"StopIteration",stack:""};function fs(){}fs.prototype.next=function(){throw Ys},fs.prototype.ha=function(){return this};function Ze(o){if(o instanceof fs)return o;if(typeof o.ha=="function")return o.ha(!1);if(N(o)){var l=0,h=new fs;return h.next=function(){for(;;){if(l>=o.length)throw Ys;if(l in o)return o[l++];l++}},h}throw Error("Not implemented")}function ub(o,l){if(N(o))try{We(o,l,void 0)}catch(h){if(h!==Ys)throw h}else{o=Ze(o);try{for(;;)l.call(void 0,o.next(),void 0,o)}catch(h){if(h!==Ys)throw h}}}function lb(o){if(N(o))return Ig(o);o=Ze(o);var l=[];return ub(o,function(h){l.push(h)}),l}function Fl(o,l){this.g={},this.a=[],this.j=this.h=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var p=0;p<h;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof Fl)for(h=o.ja(),p=0;p<h.length;p++)this.set(h[p],o.get(h[p]));else for(p in o)this.set(p,o[p])}t=Fl.prototype,t.la=function(){Ul(this);for(var o=[],l=0;l<this.a.length;l++)o.push(this.g[this.a[l]]);return o},t.ja=function(){return Ul(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function Ul(o){if(o.h!=o.a.length){for(var l=0,h=0;l<o.a.length;){var p=o.a[l];Qs(o.g,p)&&(o.a[h++]=p),l++}o.a.length=h}if(o.h!=o.a.length){var y={};for(h=l=0;l<o.a.length;)p=o.a[l],Qs(y,p)||(o.a[h++]=p,y[p]=1),l++;o.a.length=h}}t.get=function(o,l){return Qs(this.g,o)?this.g[o]:l},t.set=function(o,l){Qs(this.g,o)||(this.h++,this.a.push(o),this.j++),this.g[o]=l},t.forEach=function(o,l){for(var h=this.ja(),p=0;p<h.length;p++){var y=h[p],w=this.get(y);o.call(l,w,y,this)}},t.ha=function(o){Ul(this);var l=0,h=this.j,p=this,y=new fs;return y.next=function(){if(h!=p.j)throw Error("The map has changed since the iterator was created");if(l>=p.a.length)throw Ys;var w=p.a[l++];return o?w:p.g[w]},y};function Qs(o,l){return Object.prototype.hasOwnProperty.call(o,l)}var Bl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cb(o,l){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var p=o[h].indexOf("="),y=null;if(0<=p){var w=o[h].substring(0,p);y=o[h].substring(p+1)}else w=o[h];l(w,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function kg(o,l,h,p){for(var y=h.length;0<=(l=o.indexOf(h,l))&&l<p;){var w=o.charCodeAt(l-1);if((w==38||w==63)&&(w=o.charCodeAt(l+y),!w||w==61||w==38||w==35))return l;l+=y+1}return-1}var Ag=/#|$/;function jl(o,l){var h=o.search(Ag),p=kg(o,0,l,h);if(0>p)return null;var y=o.indexOf("&",p);return(0>y||y>h)&&(y=h),p+=l.length+1,decodeURIComponent(o.substr(p,y-p).replace(/\+/g," "))}var Yi=/[?&]($|#)/;function Nr(o,l){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var h;o instanceof Nr?(this.i=g(l)?l:o.i,Ih(this,o.j),this.A=o.A,this.h=o.h,kh(this,o.C),this.g=o.g,Ah(this,Dg(o.a)),this.s=o.s):o&&(h=String(o).match(Bl))?(this.i=!!l,Ih(this,h[1]||"",!0),this.A=mu(h[2]||""),this.h=mu(h[3]||"",!0),kh(this,h[4]),this.g=mu(h[5]||"",!0),Ah(this,h[6]||"",!0),this.s=mu(h[7]||"")):(this.i=!!l,this.a=new it(null,this.i))}Nr.prototype.toString=function(){var o=[],l=this.j;l&&o.push(Mr(l,Pg,!0),":");var h=this.h;return(h||l=="file")&&(o.push("//"),(l=this.A)&&o.push(Mr(l,Pg,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.C,h!=null&&o.push(":",String(h))),(h=this.g)&&(this.h&&h.charAt(0)!="/"&&o.push("/"),o.push(Mr(h,h.charAt(0)=="/"?Vl:db,!0))),(h=this.a.toString())&&o.push("?",h),(h=this.s)&&o.push("#",Mr(h,$l)),o.join("")};function Ih(o,l,h){o.j=h?mu(l,!0):l,o.j&&(o.j=o.j.replace(/:$/,""))}function kh(o,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);o.C=l}else o.C=null}function Ah(o,l,h){l instanceof it?(o.a=l,wt(o.a,o.i)):(h||(l=Mr(l,Fr)),o.a=new it(l,o.i))}function Ph(o){return o instanceof Nr?new Nr(o):new Nr(o,void 0)}function mu(o,l){return o?l?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Mr(o,l,h){return E(o)?(o=encodeURI(o).replace(l,pi),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function pi(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Pg=/[#\/\?@]/g,db=/[#\?:]/g,Vl=/[#\?]/g,Fr=/[#\?@]/g,$l=/#/g;function it(o,l){this.g=this.a=null,this.h=o||null,this.j=!!l}function ps(o){o.a||(o.a=new Fl,o.g=0,o.h&&cb(o.h,function(l,h){o.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=it.prototype,t.add=function(o,l){ps(this),this.h=null,o=Di(this,o);var h=this.a.get(o);return h||this.a.set(o,h=[]),h.push(l),this.g+=1,this};function _r(o,l){ps(o),l=Di(o,l),Qs(o.a.g,l)&&(o.h=null,o.g-=o.a.get(l).length,o=o.a,Qs(o.g,l)&&(delete o.g[l],o.h--,o.j++,o.a.length>2*o.h&&Ul(o)))}t.clear=function(){this.a=this.h=null,this.g=0};function gu(o,l){return ps(o),l=Di(o,l),Qs(o.a.g,l)}t.forEach=function(o,l){ps(this),this.a.forEach(function(h,p){We(h,function(y){o.call(l,y,p,this)},this)},this)},t.ja=function(){ps(this);for(var o=this.a.la(),l=this.a.ja(),h=[],p=0;p<l.length;p++)for(var y=o[p],w=0;w<y.length;w++)h.push(l[p]);return h},t.la=function(o){ps(this);var l=[];if(E(o))gu(this,o)&&(l=Cg(l,this.a.get(Di(this,o))));else{o=this.a.la();for(var h=0;h<o.length;h++)l=Cg(l,o[h])}return l},t.set=function(o,l){return ps(this),this.h=null,o=Di(this,o),gu(this,o)&&(this.g-=this.a.get(o).length),this.a.set(o,[l]),this.g+=1,this},t.get=function(o,l){return o?(o=this.la(o),0<o.length?String(o[0]):l):l},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var o=[],l=this.a.ja(),h=0;h<l.length;h++){var p=l[h],y=encodeURIComponent(String(p));p=this.la(p);for(var w=0;w<p.length;w++){var R=y;p[w]!==""&&(R+="="+encodeURIComponent(String(p[w]))),o.push(R)}}return this.h=o.join("&")};function Dg(o){var l=new it;return l.h=o.h,o.a&&(l.a=new Fl(o.a),l.g=o.g),l}function Di(o,l){return l=String(l),o.j&&(l=l.toLowerCase()),l}function wt(o,l){l&&!o.j&&(ps(o),o.h=null,o.a.forEach(function(h,p){var y=p.toLowerCase();p!=y&&(_r(this,p),_r(this,y),0<h.length&&(this.h=null,this.a.set(Di(this,y),Ig(h)),this.g+=h.length))},o)),o.j=l}function Tr(o){this.a=Ph(o)}function pn(o,l){l?o.a.a.set(Pt.Sa,l):_r(o.a.a,Pt.Sa)}function hb(o,l){l!==null?o.a.a.set(Pt.Qa,l?"1":"0"):_r(o.a.a,Pt.Qa)}function Rg(o){return o.a.a.get(Pt.Pa)||null}function Dh(o,l){l?o.a.a.set(Pt.PROVIDER_ID,l):_r(o.a.a,Pt.PROVIDER_ID)}Tr.prototype.toString=function(){return this.a.toString()};var Pt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Js;e:{var Rh=m.navigator;if(Rh){var Oh=Rh.userAgent;if(Oh){Js=Oh;break e}}Js=""}function Be(o){return Js.indexOf(o)!=-1}function Og(){return(Be("Chrome")||Be("CriOS"))&&!Be("Edge")}function no(o){return no[" "](o),o}no[" "]=x;function Lg(o,l){var h=Ng;return Object.prototype.hasOwnProperty.call(h,o)?h[o]:h[o]=l(o)}var vu=Be("Opera"),Dt=Be("Trident")||Be("MSIE"),ms=Be("Edge"),Hl=ms||Dt,jn=Be("Gecko")&&!(Js.toLowerCase().indexOf("webkit")!=-1&&!Be("Edge"))&&!(Be("Trident")||Be("MSIE"))&&!Be("Edge"),sn=Js.toLowerCase().indexOf("webkit")!=-1&&!Be("Edge"),io=sn&&Be("Mobile"),br=Be("Macintosh");function Lh(){var o=m.document;return o?o.documentMode:void 0}var ro;e:{var Qi="",Nh=function(){var o=Js;if(jn)return/rv:([^\);]+)(\)|;)/.exec(o);if(ms)return/Edge\/([\d\.]+)/.exec(o);if(Dt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(sn)return/WebKit\/(\S+)/.exec(o);if(vu)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Nh&&(Qi=Nh?Nh[1]:""),Dt){var so=Lh();if(so!=null&&so>parseFloat(Qi)){ro=String(so);break e}}ro=Qi}var Ng={};function gs(o){return Lg(o,function(){for(var l=0,h=fi(String(ro)).split("."),p=fi(String(o)).split("."),y=Math.max(h.length,p.length),w=0;l==0&&w<y;w++){var R=h[w]||"",U=p[w]||"";do{if(R=/(\d*)(\D*)(.*)/.exec(R)||["","","",""],U=/(\d*)(\D*)(.*)/.exec(U)||["","","",""],R[0].length==0&&U[0].length==0)break;l=fu(R[1].length==0?0:parseInt(R[1],10),U[1].length==0?0:parseInt(U[1],10))||fu(R[2].length==0,U[2].length==0)||fu(R[2],U[2]),R=R[3],U=U[3]}while(l==0)}return 0<=l})}var ao,Mg=m.document;ao=Mg&&Dt?Lh()||(Mg.compatMode=="CSS1Compat"?parseInt(ro,10):5):void 0;function Ur(o,l){this.a=o===Mh&&l||"",this.g=oo}Ur.prototype.ma=!0,Ur.prototype.ka=function(){return this.a},Ur.prototype.toString=function(){return"Const{"+this.a+"}"};var oo={},Mh={};function Zs(){this.a="",this.h=Bg}Zs.prototype.ma=!0,Zs.prototype.ka=function(){return this.a.toString()},Zs.prototype.g=function(){return 1},Zs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Fg(o){return o instanceof Zs&&o.constructor===Zs&&o.h===Bg?o.a:(me("expected object of type TrustedResourceUrl, got '"+o+"' of type "+P(o)),"type_error:TrustedResourceUrl")}function Ug(){var o=OV;o instanceof Ur&&o.constructor===Ur&&o.g===oo?o=o.a:(me("expected object of type Const, got '"+o+"'"),o="type_error:Const");var l=new Zs;return l.a=o,l}var Bg={};function mi(){this.a="",this.h=$g}mi.prototype.ma=!0,mi.prototype.ka=function(){return this.a.toString()},mi.prototype.g=function(){return 1},mi.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Br(o){return o instanceof mi&&o.constructor===mi&&o.h===$g?o.a:(me("expected object of type SafeUrl, got '"+o+"' of type "+P(o)),"type_error:SafeUrl")}var jg=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function zl(o){return o instanceof mi?o:(o=typeof o=="object"&&o.ma?o.ka():String(o),jg.test(o)||(o="about:invalid#zClosurez"),Fh(o))}function Vg(o){return o instanceof mi?o:(o=typeof o=="object"&&o.ma?o.ka():String(o),jg.test(o)||(o="about:invalid#zClosurez"),Fh(o))}var $g={};function Fh(o){var l=new mi;return l.a=o,l}Fh("about:blank");function uo(){this.a="",this.g=yu}uo.prototype.ma=!0;var yu={};uo.prototype.ka=function(){return this.a},uo.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Ji(){this.a="",this.j=Hg,this.h=null}Ji.prototype.g=function(){return this.h},Ji.prototype.ma=!0,Ji.prototype.ka=function(){return this.a.toString()},Ji.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function ql(o){return o instanceof Ji&&o.constructor===Ji&&o.j===Hg?o.a:(me("expected object of type SafeHtml, got '"+o+"' of type "+P(o)),"type_error:SafeHtml")}var Hg={};function ea(o,l){var h=new Ji;return h.a=o,h.h=l,h}ea("<!DOCTYPE html>",0);var fb=ea("",0);ea("<br>",0);var Uh=function(o){var l=!1,h;return function(){return l||(h=o(),l=!0),h}}(function(){if(typeof document>"u")return!1;var o=document.createElement("div"),l=document.createElement("div");return l.appendChild(document.createElement("div")),o.appendChild(l),o.firstChild?(l=o.firstChild.firstChild,o.innerHTML=ql(fb),!l.parentElement):!1});function pb(o,l){if(o.src=Fg(l),b===null)e:{if(l=m.document,(l=l.querySelector&&l.querySelector("script[nonce]"))&&(l=l.nonce||l.getAttribute("nonce"))&&I.test(l)){b=l;break e}b=""}l=b,l&&o.setAttribute("nonce",l)}function lo(o,l){l=l instanceof mi?l:Vg(l),o.assign(Br(l))}function vs(o,l){this.a=g(o)?o:0,this.g=g(l)?l:0}vs.prototype.toString=function(){return"("+this.a+", "+this.g+")"},vs.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},vs.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},vs.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function ta(o,l){this.width=o,this.height=l}t=ta.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function jr(o){return o?new $r(_u(o)):se||(se=new $r)}function co(o,l){var h=l||document;return h.querySelectorAll&&h.querySelector?h.querySelectorAll("."+o):zg(document,o,l)}function Vr(o,l){var h=l||document;if(h.getElementsByClassName)o=h.getElementsByClassName(o)[0];else{h=document;var p=l||h;o=p.querySelectorAll&&p.querySelector&&o?p.querySelector(o?"."+o:""):zg(h,o,l)[0]||null}return o||null}function zg(o,l,h){var p;if(o=h||o,o.querySelectorAll&&o.querySelector&&l)return o.querySelectorAll(l?"."+l:"");if(l&&o.getElementsByClassName){var y=o.getElementsByClassName(l);return y}if(y=o.getElementsByTagName("*"),l){var w={};for(h=p=0;o=y[h];h++){var R=o.className;typeof R.split=="function"&&At(R.split(/\s+/),l)&&(w[p++]=o)}return w.length=p,w}return y}function qg(o,l){Nl(l,function(h,p){h&&typeof h=="object"&&h.ma&&(h=h.ka()),p=="style"?o.style.cssText=h:p=="class"?o.className=h:p=="for"?o.htmlFor=h:Bh.hasOwnProperty(p)?o.setAttribute(Bh[p],h):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,h):o[p]=h})}var Bh={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ho(o){return o.scrollingElement?o.scrollingElement:(sn||o.compatMode!="CSS1Compat")&&o.body||o.documentElement}function na(o){o&&o.parentNode&&o.parentNode.removeChild(o)}function _u(o){return o.nodeType==9?o:o.ownerDocument||o.document}function jh(o,l){if("textContent"in o)o.textContent=l;else if(o.nodeType==3)o.data=String(l);else if(o.firstChild&&o.firstChild.nodeType==3){for(;o.lastChild!=o.firstChild;)o.removeChild(o.lastChild);o.firstChild.data=String(l)}else{for(var h;h=o.firstChild;)o.removeChild(h);o.appendChild(_u(o).createTextNode(String(l)))}}function Tu(o,l){return l?mb(o,function(h){return!l||E(h.className)&&At(h.className.split(/\s+/),l)}):null}function mb(o,l){for(var h=0;o;){if(l(o))return o;o=o.parentNode,h++}return null}function $r(o){this.a=o||m.document||document}$r.prototype.N=function(){return E(void 0)?this.a.getElementById(void 0):void 0};var Wl={Fc:!0},Wg={Hc:!0},gt={Ec:!0},Gg={Gc:!0};function ys(){throw Error("Do not instantiate directly")}ys.prototype.va=null,ys.prototype.toString=function(){return this.content};function bu(o,l,h,p){if(o=o(l||Xg,void 0,h),p=(p||jr()).a.createElement("DIV"),o=Kg(o),o.match(gb),o=ea(o,null),Uh())for(;p.lastChild;)p.removeChild(p.lastChild);return p.innerHTML=ql(o),p.childNodes.length==1&&(o=p.firstChild,o.nodeType==1&&(p=o)),p}function Kg(o){if(!q(o))return hs(String(o));if(o instanceof ys){if(o.fa===Wl)return o.content;if(o.fa===Gg)return hs(o.content)}return me("Soy template output is unsafe for use as HTML: "+o),"zSoyz"}var gb=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Xg={};function vb(o){if(o!=null)switch(o.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function wu(){ys.call(this)}ce(wu,ys),wu.prototype.fa=Wl;function Re(o){return o!=null&&o.fa===Wl?o:o instanceof Ji?ve(ql(o).toString(),o.g()):ve(hs(String(String(o))),vb(o))}function Su(){ys.call(this)}ce(Su,ys),Su.prototype.fa=Wg,Su.prototype.va=1;function Eu(o,l){this.content=String(o),this.va=l??null}ce(Eu,ys),Eu.prototype.fa=Gg;function ze(o){return new Eu(o,void 0)}var ve=function(o){function l(h){this.content=h}return l.prototype=o.prototype,function(h,p){return h=new l(String(h)),p!==void 0&&(h.va=p),h}}(wu),yb=function(o){function l(h){this.content=h}return l.prototype=o.prototype,function(h){return new l(String(h))}}(Su);function _b(o){function l(){}var h={label:Rt("New password")};l.prototype=o,o=new l;for(var p in h)o[p]=h[p];return o}function Rt(o){return(o=String(o))?new Eu(o,void 0):""}var Yg=function(o){function l(h){this.content=h}return l.prototype=o.prototype,function(h,p){return h=String(h),h?(h=new l(h),p!==void 0&&(h.va=p),h):""}}(wu);function Vn(o){return o!=null&&o.fa===Wl?String(String(o.content).replace(ev,"").replace(tv,"&lt;")).replace(wb,bb):hs(String(o))}function ia(o){return o!=null&&o.fa===Wg?o=String(o).replace(Kl,ra):o instanceof mi?o=String(Br(o).toString()).replace(Kl,ra):(o=String(o),Zg.test(o)?o=o.replace(Kl,ra):(me("Bad value `%s` for |filterNormalizeUri",[o]),o="#zSoyz")),o}function Qg(o){return o!=null&&o.fa===gt?o=o.content:o==null?o="":o instanceof uo?o instanceof uo&&o.constructor===uo&&o.g===yu?o=o.a:(me("expected object of type SafeStyle, got '"+o+"' of type "+P(o)),o="type_error:SafeStyle"):(o=String(o),Jg.test(o)||(me("Bad value `%s` for |filterCssValue",[o]),o="zSoyz")),o}var Tb={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function bb(o){return Tb[o]}var Gl={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function ra(o){return Gl[o]}var wb=/[\x00\x22\x27\x3c\x3e]/g,Kl=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Jg=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Zg=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,ev=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,tv=/</g;function xu(){return ze("Enter a valid phone number")}function Vh(){return ze("Unable to send password reset code to specified email")}function $h(){return ze("Something went wrong. Please try again.")}function Cu(){return ze("This email already exists without any means of sign-in. Please reset the password to recover.")}function Iu(o){o=o||{};var l="";switch(o.code){case"invalid-argument":l+="Client specified an invalid argument.";break;case"invalid-configuration":l+="Client specified an invalid project configuration.";break;case"failed-precondition":l+="Request can not be executed in the current system state.";break;case"out-of-range":l+="Client specified an invalid range.";break;case"unauthenticated":l+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":l+="Client does not have sufficient permission.";break;case"not-found":l+="Specified resource is not found.";break;case"aborted":l+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":l+="The resource that a client tried to create already exists.";break;case"resource-exhausted":l+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":l+="Request cancelled by the client.";break;case"data-loss":l+="Unrecoverable data loss or data corruption.";break;case"unknown":l+="Unknown server error.";break;case"internal":l+="Internal server error.";break;case"not-implemented":l+="API method not implemented by the server.";break;case"unavailable":l+="Service unavailable.";break;case"deadline-exceeded":l+="Request deadline exceeded.";break;case"auth/user-disabled":l+="The user account has been disabled by an administrator.";break;case"auth/timeout":l+="The operation has timed out.";break;case"auth/too-many-requests":l+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":l+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":l+="A network error has occurred. Try again later.";break;case"restart-process":l+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":l+="No sign-in provider is available for the given email, please try with a different email."}return ze(l)}function nv(){return ze("Please login again to perform this operation")}function ku(o,l,h){var p=Error.call(this);if(this.message=p.message,"stack"in p&&(this.stack=p.stack),this.code=Sb+o,!(o=l)){switch(o="",this.code){case"firebaseui/merge-conflict":o+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:o+=$h()}o=ze(o).toString()}this.message=o||"",this.credential=h||null}u(ku,Error),ku.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Sb="firebaseui/";function sa(){this.T=this.T,this.C=this.C}var Eb=0;sa.prototype.T=!1,sa.prototype.m=function(){!this.T&&(this.T=!0,this.o(),Eb!=0)&&(this[$]||(this[$]=++H))};function aa(o,l){o.T?g(void 0)?l.call(void 0):l():(o.C||(o.C=[]),o.C.push(g(void 0)?Q(l,void 0):l))}sa.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Au(o){o&&typeof o.m=="function"&&o.m()}var xb=Object.freeze||function(o){return o},oa=!Dt||9<=Number(ao),at=Dt&&!gs("9"),ua=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var o=!1,l=Object.defineProperty({},"passive",{get:function(){o=!0}});try{m.addEventListener("test",x,l),m.removeEventListener("test",x,l)}catch{}return o}();function St(o,l){this.type=o,this.g=this.target=l,this.h=!1,this.qb=!0}St.prototype.stopPropagation=function(){this.h=!0},St.prototype.preventDefault=function(){this.qb=!1};function _t(o,l){if(St.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var h=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=l,l=o.relatedTarget){if(jn){e:{try{no(l.nodeName);var y=!0;break e}catch{}y=!1}y||(l=null)}}else h=="mouseover"?l=o.fromElement:h=="mouseout"&&(l=o.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.keyCode=o.keyCode||0,this.key=o.key||"",this.j=o.charCode||(h=="keypress"?o.keyCode:0),this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=E(o.pointerType)?o.pointerType:Cb[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}ce(_t,St);var Cb=xb({2:"touch",3:"pen",4:"mouse"});_t.prototype.stopPropagation=function(){_t.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},_t.prototype.preventDefault=function(){_t.K.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,at)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}};var fo="closure_listenable_"+(1e6*Math.random()|0),Ib=0;function kb(o,l,h,p,y){this.listener=o,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.La=y,this.key=++Ib,this.sa=this.Ia=!1}function Xl(o){o.sa=!0,o.listener=null,o.proxy=null,o.src=null,o.La=null}function Yl(o){this.src=o,this.a={},this.g=0}Yl.prototype.add=function(o,l,h,p,y){var w=o.toString();o=this.a[w],o||(o=this.a[w]=[],this.g++);var R=zh(o,l,p,y);return-1<R?(l=o[R],h||(l.Ia=!1)):(l=new kb(l,this.src,w,!!p,y),l.Ia=h,o.push(l)),l};function Hh(o,l){var h=l.type;h in o.a&&Xs(o.a[h],l)&&(Xl(l),o.a[h].length==0&&(delete o.a[h],o.g--))}function zh(o,l,h,p){for(var y=0;y<o.length;++y){var w=o[y];if(!w.sa&&w.listener==l&&w.capture==!!h&&w.La==p)return y}return-1}var qh="closure_lm_"+(1e6*Math.random()|0),Ql={};function D(o,l,h,p,y){if(p&&p.once)return _(o,l,h,p,y);if(O(l)){for(var w=0;w<l.length;w++)D(o,l[w],h,p,y);return null}return h=Y(h),o&&o[fo]?o.J.add(String(l),h,!1,q(p)?!!p.capture:!!p,y):v(o,l,h,!1,p,y)}function v(o,l,h,p,y,w){if(!l)throw Error("Invalid event type");var R=q(y)?!!y.capture:!!y,U=j(o);if(U||(o[qh]=U=new Yl(o)),h=U.add(l,h,p,R,w),h.proxy)return h;if(p=T(),h.proxy=p,p.src=o,p.listener=h,o.addEventListener)ua||(y=R),y===void 0&&(y=!1),o.addEventListener(l.toString(),p,y);else if(o.attachEvent)o.attachEvent(A(l.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function T(){var o=V,l=oa?function(h){return o.call(l.src,l.listener,h)}:function(h){if(h=o.call(l.src,l.listener,h),!h)return h};return l}function _(o,l,h,p,y){if(O(l)){for(var w=0;w<l.length;w++)_(o,l[w],h,p,y);return null}return h=Y(h),o&&o[fo]?o.J.add(String(l),h,!0,q(p)?!!p.capture:!!p,y):v(o,l,h,!0,p,y)}function S(o,l,h,p,y){if(O(l))for(var w=0;w<l.length;w++)S(o,l[w],h,p,y);else p=q(p)?!!p.capture:!!p,h=Y(h),o&&o[fo]?(o=o.J,l=String(l).toString(),l in o.a&&(w=o.a[l],h=zh(w,h,p,y),-1<h&&(Xl(w[h]),Lr(w,h),w.length==0&&(delete o.a[l],o.g--)))):o&&(o=j(o))&&(l=o.a[l.toString()],o=-1,l&&(o=zh(l,h,p,y)),(h=-1<o?l[o]:null)&&C(h))}function C(o){if(typeof o!="number"&&o&&!o.sa){var l=o.src;if(l&&l[fo])Hh(l.J,o);else{var h=o.type,p=o.proxy;l.removeEventListener?l.removeEventListener(h,p,o.capture):l.detachEvent?l.detachEvent(A(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=j(l))?(Hh(h,o),h.g==0&&(h.src=null,l[qh]=null)):Xl(o)}}}function A(o){return o in Ql?Ql[o]:Ql[o]="on"+o}function L(o,l,h,p){var y=!0;if((o=j(o))&&(l=o.a[l.toString()]))for(l=l.concat(),o=0;o<l.length;o++){var w=l[o];w&&w.capture==h&&!w.sa&&(w=M(w,p),y=y&&w!==!1)}return y}function M(o,l){var h=o.listener,p=o.La||o.src;return o.Ia&&C(o),h.call(p,l)}function V(o,l){if(o.sa)return!0;if(!oa){if(!l)e:{l=["window","event"];for(var h=m,p=0;p<l.length;p++)if(h=h[l[p]],h==null){l=null;break e}l=h}if(p=l,l=new _t(p,this),h=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var y=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{y=!0}(y||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],y=l.g;y;y=y.parentNode)p.push(y);for(o=o.type,y=p.length-1;!l.h&&0<=y;y--){l.g=p[y];var w=L(p[y],o,!0,l);h=h&&w}for(y=0;!l.h&&y<p.length;y++)l.g=p[y],w=L(p[y],o,!1,l),h=h&&w}return h}return M(o,new _t(l,this))}function j(o){return o=o[qh],o instanceof Yl?o:null}var z="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(o){return B(o)?o:(o[z]||(o[z]=function(l){return o.handleEvent(l)}),o[z])}function te(){sa.call(this),this.J=new Yl(this),this.wb=this,this.Ha=null}ce(te,sa),te.prototype[fo]=!0,te.prototype.Za=function(o){this.Ha=o},te.prototype.removeEventListener=function(o,l,h,p){S(this,o,l,h,p)};function pe(o,l){var h,p=o.Ha;if(p)for(h=[];p;p=p.Ha)h.push(p);if(o=o.wb,p=l.type||l,E(l))l=new St(l,o);else if(l instanceof St)l.target=l.target||o;else{var y=l;l=new St(p,o),pu(l,y)}if(y=!0,h)for(var w=h.length-1;!l.h&&0<=w;w--){var R=l.g=h[w];y=re(R,p,!0,l)&&y}if(l.h||(R=l.g=o,y=re(R,p,!0,l)&&y,l.h||(y=re(R,p,!1,l)&&y)),h)for(w=0;!l.h&&w<h.length;w++)R=l.g=h[w],y=re(R,p,!1,l)&&y;return y}te.prototype.o=function(){if(te.K.o.call(this),this.J){var o=this.J,l;for(l in o.a){for(var h=o.a[l],p=0;p<h.length;p++)Xl(h[p]);delete o.a[l],o.g--}}this.Ha=null};function re(o,l,h,p){if(l=o.J.a[String(l)],!l)return!0;l=l.concat();for(var y=!0,w=0;w<l.length;++w){var R=l[w];if(R&&!R.sa&&R.capture==h){var U=R.listener,X=R.La||R.src;R.Ia&&Hh(o.J,R),y=U.call(X,p)!==!1&&y}}return y&&p.qb!=0}var _e={},zt=0;function En(o,l){if(!o)throw Error("Event target element must be provided!");if(o=Pu(o),_e[o]&&_e[o].length)for(var h=0;h<_e[o].length;h++)pe(_e[o][h],l)}function la(o){var l=Pu(o.N());_e[l]&&_e[l].length&&(rb(_e[l],function(h){return h==o}),_e[l].length||delete _e[l])}function Pu(o){return typeof o.a>"u"&&(o.a=zt,zt++),o.a}function Du(o){if(!o)throw Error("Event target element must be provided!");te.call(this),this.a=o}u(Du,te),Du.prototype.N=function(){return this.a},Du.prototype.register=function(){var o=Pu(this.N());_e[o]?At(_e[o],this)||_e[o].push(this):_e[o]=[this]};function Wh(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Jl(o,l){this.h=o,this.j=l,this.g=0,this.a=null}Jl.prototype.get=function(){if(0<this.g){this.g--;var o=this.a;this.a=o.next,o.next=null}else o=this.h();return o};function Zl(o,l){o.j(l),100>o.g&&(o.g++,l.next=o.a,o.a=l)}function Gh(){this.g=this.a=null}var Ot=new Jl(function(){return new Hr},function(o){o.reset()});Gh.prototype.add=function(o,l){var h=Ot.get();h.set(o,l),this.g?this.g.next=h:this.a=h,this.g=h};function iv(){var o=Hk,l=null;return o.a&&(l=o.a,o.a=o.a.next,o.a||(o.g=null),l.next=null),l}function Hr(){this.next=this.g=this.a=null}Hr.prototype.set=function(o,l){this.a=o,this.g=l,this.next=null},Hr.prototype.reset=function(){this.next=this.g=this.a=null};function $k(o){m.setTimeout(function(){throw o},0)}var Ab;function bV(){var o=m.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Be("Presto")&&(o=function(){var y=document.createElement("IFRAME");y.style.display="none",y.src="",document.documentElement.appendChild(y);var w=y.contentWindow;y=w.document,y.open(),y.write(""),y.close();var R="callImmediate"+Math.random(),U=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;y=Q(function(X){(U=="*"||X.origin==U)&&X.data==R&&this.port1.onmessage()},this),w.addEventListener("message",y,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(R,U)}}}),typeof o<"u"&&!Be("Trident")&&!Be("MSIE")){var l=new o,h={},p=h;return l.port1.onmessage=function(){if(g(h.next)){h=h.next;var y=h.gb;h.gb=null,y()}},function(y){p.next={gb:y},p=p.next,l.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(y){var w=document.createElement("SCRIPT");w.onreadystatechange=function(){w.onreadystatechange=null,w.parentNode.removeChild(w),w=null,y(),y=null},document.documentElement.appendChild(w)}:function(y){m.setTimeout(y,0)}}function Pb(o,l){rv||wV(),Db||(rv(),Db=!0),Hk.add(o,l)}var rv;function wV(){if(m.Promise&&m.Promise.resolve){var o=m.Promise.resolve(void 0);rv=function(){o.then(zk)}}else rv=function(){var l=zk;!B(m.setImmediate)||m.Window&&m.Window.prototype&&!Be("Edge")&&m.Window.prototype.setImmediate==m.setImmediate?(Ab||(Ab=bV()),Ab(l)):m.setImmediate(l)}}var Db=!1,Hk=new Gh;function zk(){for(var o;o=iv();){try{o.a.call(o.g)}catch(l){$k(l)}Zl(Ot,o)}Db=!1}function an(o){if(this.a=Ru,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,o!=x)try{var l=this;o.call(void 0,function(h){Ou(l,Kh,h)},function(h){if(!(h instanceof tc))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Ou(l,ca,h)})}catch(h){Ou(this,ca,h)}}var Ru=0,Kh=2,ca=3;function qk(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}qk.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Wk=new Jl(function(){return new qk},function(o){o.reset()});function Rb(o,l,h){var p=Wk.get();return p.s=o,p.g=l,p.j=h,p}function qt(o){if(o instanceof an)return o;var l=new an(x);return Ou(l,Kh,o),l}function ec(o){return new an(function(l,h){h(o)})}an.prototype.then=function(o,l,h){return Kk(this,B(o)?o:null,B(l)?l:null,h)},an.prototype.$goog_Thenable=!0,t=an.prototype,t.fc=function(o,l){return o=Rb(o,o,l),o.h=!0,Ob(this,o),this},t.Ca=function(o,l){return Kk(this,null,o,l)},t.cancel=function(o){this.a==Ru&&Pb(function(){var l=new tc(o);Gk(this,l)},this)};function Gk(o,l){if(o.a==Ru)if(o.h){var h=o.h;if(h.g){for(var p=0,y=null,w=null,R=h.g;R&&(R.h||(p++,R.a==o&&(y=R),!(y&&1<p)));R=R.next)y||(w=R);y&&(h.a==Ru&&p==1?Gk(h,l):(w?(p=w,p.next==h.j&&(h.j=p),p.next=p.next.next):Yk(h),Qk(h,y,ca,l)))}o.h=null}else Ou(o,ca,l)}function Ob(o,l){o.g||o.a!=Kh&&o.a!=ca||Xk(o),o.j?o.j.next=l:o.g=l,o.j=l}function Kk(o,l,h,p){var y=Rb(null,null,null);return y.a=new an(function(w,R){y.s=l?function(U){try{var X=l.call(p,U);w(X)}catch(ae){R(ae)}}:w,y.g=h?function(U){try{var X=h.call(p,U);!g(X)&&U instanceof tc?R(U):w(X)}catch(ae){R(ae)}}:R}),y.a.h=o,Ob(o,y),y.a}t.hc=function(o){this.a=Ru,Ou(this,Kh,o)},t.ic=function(o){this.a=Ru,Ou(this,ca,o)};function Ou(o,l,h){if(o.a==Ru){o===h&&(l=ca,h=new TypeError("Promise cannot resolve to itself")),o.a=1;e:{var p=h,y=o.hc,w=o.ic;if(p instanceof an){Ob(p,Rb(y||x,w||null,o));var R=!0}else if(Wh(p))p.then(y,w,o),R=!0;else{if(q(p))try{var U=p.then;if(B(U)){SV(p,U,y,w,o),R=!0;break e}}catch(X){w.call(o,X),R=!0;break e}R=!1}}R||(o.A=h,o.a=l,o.h=null,Xk(o),l!=ca||h instanceof tc||EV(o,h))}}function SV(o,l,h,p,y){function w(X){U||(U=!0,p.call(y,X))}function R(X){U||(U=!0,h.call(y,X))}var U=!1;try{l.call(o,R,w)}catch(X){w(X)}}function Xk(o){o.i||(o.i=!0,Pb(o.Hb,o))}function Yk(o){var l=null;return o.g&&(l=o.g,o.g=l.next,l.next=null),o.g||(o.j=null),l}t.Hb=function(){for(var o;o=Yk(this);)Qk(this,o,this.a,this.A);this.i=!1};function Qk(o,l,h,p){if(h==ca&&l.g&&!l.h)for(;o&&o.s;o=o.h)o.s=!1;if(l.a)l.a.h=null,Jk(l,h,p);else try{l.h?l.s.call(l.j):Jk(l,h,p)}catch(y){Zk.call(null,y)}Zl(Wk,l)}function Jk(o,l,h){l==Kh?o.s.call(o.j,h):o.g&&o.g.call(o.j,h)}function EV(o,l){o.s=!0,Pb(function(){o.s&&Zk.call(null,l)})}var Zk=$k;function tc(o){De.call(this,o)}ce(tc,De),tc.prototype.name="cancel";function eA(o,l,h){l||(l={}),h=h||window;var p=o instanceof mi?o:zl(typeof o.href<"u"?o.href:String(o));o=l.target||o.target;var y=[];for(w in l)switch(w){case"width":case"height":case"top":case"left":y.push(w+"="+l[w]);break;case"target":case"noopener":case"noreferrer":break;default:y.push(w+"="+(l[w]?1:0))}var w=y.join(",");return(Be("iPhone")&&!Be("iPod")&&!Be("iPad")||Be("iPad")||Be("iPod"))&&h.navigator&&h.navigator.standalone&&o&&o!="_self"?(w=h.document.createElement("A"),p=p instanceof mi?p:Vg(p),w.href=Br(p),w.setAttribute("target",o),l.noreferrer&&w.setAttribute("rel","noreferrer"),l=document.createEvent("MouseEvent"),l.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(l),h={}):l.noreferrer?(h=h.open("",o,w),l=Br(p).toString(),h&&(Hl&&l.indexOf(";")!=-1&&(l="'"+l.replace(/'/g,"%27")+"'"),h.opener=null,l=ea('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+hs(l)+'">',null),h.document.write(ql(l)),h.document.close())):(h=h.open(Br(p).toString(),o,w))&&l.noopener&&(h.opener=null),h}function tA(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function nc(o){eA(o,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function sv(o,l){if(o=q(o)&&o.nodeType==1?o:document.querySelector(String(o)),o==null)throw Error(l||"Cannot find element.");return o}function da(){return window.location.href}function xV(){var o=null;return new an(function(l){m.document.readyState=="complete"?l():(o=function(){l()},_(window,"load",o))}).Ca(function(l){throw S(window,"load",o),l})}function CV(){for(var o=32,l=[];0<o;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return l.join("")}function IV(o,l,h){return h=h===void 0?{}:h,Object.keys(o).filter(function(p){return l.includes(p)}).reduce(function(p,y){return p[y]=o[y],p},h)}function po(o){var l=PV;this.s=[],this.T=l,this.O=o||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}po.prototype.cancel=function(o){if(this.a)this.h instanceof po&&this.h.cancel();else{if(this.g){var l=this.g;delete this.g,o?l.cancel(o):(l.C--,0>=l.C&&l.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(o=new Yh,av(this),Xh(this,!1,o))}},po.prototype.L=function(o,l){this.A=!1,Xh(this,o,l)};function Xh(o,l,h){o.a=!0,o.h=h,o.j=!l,rA(o)}function av(o){if(o.a){if(!o.J)throw new ov;o.J=!1}}po.prototype.callback=function(o){av(this),Xh(this,!0,o)};function nA(o,l,h){o.s.push([l,h,void 0]),o.a&&rA(o)}po.prototype.then=function(o,l,h){var p,y,w=new an(function(R,U){p=R,y=U});return nA(this,p,function(R){R instanceof Yh?w.cancel():y(R)}),w.then(o,l,h)},po.prototype.$goog_Thenable=!0;function iA(o){return rn(o.s,function(l){return B(l[1])})}function rA(o){if(o.i&&o.a&&iA(o)){var l=o.i,h=uv[l];h&&(m.clearTimeout(h.a),delete uv[l]),o.i=0}o.g&&(o.g.C--,delete o.g),l=o.h;for(var p=h=!1;o.s.length&&!o.A;){var y=o.s.shift(),w=y[0],R=y[1];if(y=y[2],w=o.j?R:w)try{var U=w.call(y||o.O,l);g(U)&&(o.j=o.j&&(U==l||U instanceof Error),o.h=l=U),(Wh(l)||typeof m.Promise=="function"&&l instanceof m.Promise)&&(p=!0,o.A=!0)}catch(X){l=X,o.j=!0,iA(o)||(h=!0)}}o.h=l,p&&(U=Q(o.L,o,!0),p=Q(o.L,o,!1),l instanceof po?(nA(l,U,p),l.l=!0):l.then(U,p)),h&&(l=new sA(l),uv[l.a]=l,o.i=l.a)}function ov(){De.call(this)}ce(ov,De),ov.prototype.message="Deferred has already fired",ov.prototype.name="AlreadyCalledError";function Yh(){De.call(this)}ce(Yh,De),Yh.prototype.message="Deferred was canceled",Yh.prototype.name="CanceledError";function sA(o){this.a=m.setTimeout(Q(this.h,this),0),this.g=o}sA.prototype.h=function(){throw delete uv[this.a],this.g};var uv={};function kV(o){var l={},h=l.document||document,p=Fg(o).toString(),y=document.createElement("SCRIPT"),w={rb:y,sb:void 0},R=new po(w),U=null,X=l.timeout!=null?l.timeout:5e3;return 0<X&&(U=window.setTimeout(function(){lv(y,!0);var ae=new Lb(RV,"Timeout reached for loading script "+p);av(R),Xh(R,!1,ae)},X),w.sb=U),y.onload=y.onreadystatechange=function(){y.readyState&&y.readyState!="loaded"&&y.readyState!="complete"||(lv(y,l.xc||!1,U),R.callback(null))},y.onerror=function(){lv(y,!0,U);var ae=new Lb(DV,"Error while loading script "+p);av(R),Xh(R,!1,ae)},w=l.attributes||{},pu(w,{type:"text/javascript",charset:"UTF-8"}),qg(y,w),pb(y,o),AV(h).appendChild(y),R}function AV(o){var l=(o||document).getElementsByTagName("HEAD");return l&&l.length!=0?l[0]:o.documentElement}function PV(){if(this&&this.rb){var o=this.rb;o&&o.tagName=="SCRIPT"&&lv(o,!0,this.sb)}}function lv(o,l,h){h!=null&&m.clearTimeout(h),o.onload=x,o.onerror=x,o.onreadystatechange=x,l&&window.setTimeout(function(){na(o)},0)}var DV=0,RV=1;function Lb(o,l){var h="Jsloader error (code #"+o+")";l&&(h+=": "+l),De.call(this,h),this.code=o}ce(Lb,De);function Qh(){return m.google&&m.google.accounts&&m.google.accounts.id||null}function Nb(o){this.a=o||Qh(),this.h=!1,this.g=null}Nb.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function aA(o,l,h){if(o.a&&l)return function(){return o.h=!0,new an(function(y){o.g=y,o.a.initialize({client_id:l,callback:y,auto_select:!h}),o.a.prompt()})}();if(l){var p=Mb.Xa().load().then(function(){return o.a=Qh(),aA(o,l,h)}).Ca(function(){return null});return qt(p)}return qt(null)}k(Nb);var OV=new Ur(Mh,"https://accounts.google.com/gsi/client");function Mb(){this.a=null}Mb.prototype.load=function(){var o=this;if(this.a)return this.a;var l=Ug();return Qh()?qt():this.a=xV().then(function(){if(!Qh())return new an(function(h,p){var y=setTimeout(function(){o.a=null,p(Error("Network error!"))},1e4);m.onGoogleLibraryLoad=function(){clearTimeout(y),h()},qt(kV(l)).then(function(){Qh()&&h()}).Ca(function(w){clearTimeout(y),o.a=null,p(w)})})})},k(Mb);function Fb(o,l){this.a=o,this.g=l||function(h){throw h}}Fb.prototype.confirm=function(o){return qt(this.a.confirm(o)).Ca(this.g)};function Ub(o,l,h){this.reset(o,l,h,void 0,void 0)}Ub.prototype.a=null,Ub.prototype.reset=function(o,l,h,p,y){this.h=p||$e(),this.j=o,this.s=l,this.g=h,delete this.a};function Bb(o){this.s=o,this.a=this.h=this.j=this.g=null}function cv(o,l){this.name=o,this.value=l}cv.prototype.toString=function(){return this.name};var oA=new cv("SEVERE",1e3),uA=new cv("WARNING",900),lA=new cv("CONFIG",700);function cA(o){return o.j?o.j:o.g?cA(o.g):(me("Root logger has no level set."),null)}Bb.prototype.log=function(o,l,h){if(o.value>=cA(this).value)for(B(l)&&(l=l()),o=new Ub(o,String(l),this.s),h&&(o.a=h),h=this;h;){var p=h,y=o;if(p.a)for(var w=0;l=p.a[w];w++)l(y);h=h.g}};var jb={},Jh=null;function dA(){Jh||(Jh=new Bb(""),jb[""]=Jh,Jh.j=lA)}function hA(o){dA();var l;if(!(l=jb[o])){l=new Bb(o);var h=o.lastIndexOf("."),p=o.substr(h+1);h=hA(o.substr(0,h)),h.h||(h.h={}),h.h[p]=l,l.g=h,jb[o]=l}return l}function dv(){this.a=$e()}var Vb=null;dv.prototype.set=function(o){this.a=o},dv.prototype.reset=function(){this.set($e())},dv.prototype.get=function(){return this.a};function Zh(o){this.j=o||"",Vb||(Vb=new dv),this.s=Vb}Zh.prototype.a=!0,Zh.prototype.g=!0,Zh.prototype.h=!1;function Lu(o){return 10>o?"0"+o:String(o)}function LV(o,l){o=(o.h-l)/1e3,l=o.toFixed(3);var h=0;if(1>o)h=2;else for(;100>o;)h++,o*=10;for(;0<h--;)l=" "+l;return l}function fA(o){Zh.call(this,o)}ce(fA,Zh);function NV(o,l){var h=[];if(h.push(o.j," "),o.g){var p=new Date(l.h);h.push("[",Lu(p.getFullYear()-2e3)+Lu(p.getMonth()+1)+Lu(p.getDate())+" "+Lu(p.getHours())+":"+Lu(p.getMinutes())+":"+Lu(p.getSeconds())+"."+Lu(Math.floor(p.getMilliseconds()/10)),"] ")}return h.push("[",LV(l,o.s.get()),"s] "),h.push("[",l.g,"] "),h.push(l.s),o.h&&(l=l.a)&&h.push(`
`,l instanceof Error?l.message:l.toString()),o.a&&h.push(`
`),h.join("")}function pA(){this.s=Q(this.h,this),this.a=new fA,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}pA.prototype.h=function(o){function l(w){if(w){if(w.value>=oA.value)return"error";if(w.value>=uA.value)return"warn";if(w.value>=lA.value)return"log"}return"debug"}if(!this.j[o.g]){var h=NV(this.a,o),p=MV;if(p){var y=l(o.j);FV(p,y,h,o.a)}}};var MV=m.console;function FV(o,l,h,p){o[l]?o[l](h,p||""):o.log(h,p||"")}function Zi(o,l){var h=$b;h&&h.log(oA,o,l)}var $b;$b=hA("firebaseui");var Hb=new pA;if(Hb.g!=1){var hv;dA(),hv=Jh;var UV=Hb.s;hv.a||(hv.a=[]),hv.a.push(UV),Hb.g=!0}function mo(o){var l=$b;l&&l.log(uA,o,void 0)}function mA(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=mA.prototype,t.set=function(o,l,h,p,y,w){if(/[;=\s]/.test(o))throw Error('Invalid cookie name "'+o+'"');if(/[;\r\n]/.test(l))throw Error('Invalid cookie value "'+l+'"');g(h)||(h=-1),y=y?";domain="+y:"",p=p?";path="+p:"",w=w?";secure":"",h=0>h?"":h==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date($e()+1e3*h).toUTCString(),this.a.cookie=o+"="+l+y+p+h+w},t.get=function(o,l){for(var h=o+"=",p=(this.a.cookie||"").split(";"),y=0,w;y<p.length;y++){if(w=fi(p[y]),w.lastIndexOf(h,0)==0)return w.substr(h.length);if(w==o)return""}return l},t.ja=function(){return zb(this).keys},t.la=function(){return zb(this).values},t.clear=function(){for(var o=zb(this).keys,l=o.length-1;0<=l;l--){var h=o[l];this.get(h),this.set(h,"",0,void 0,void 0)}};function zb(o){o=(o.a.cookie||"").split(";");for(var l=[],h=[],p,y,w=0;w<o.length;w++)y=fi(o[w]),p=y.indexOf("="),p==-1?(l.push(""),h.push(y)):(l.push(y.substring(0,p)),h.push(y.substring(p+1)));return{keys:l,values:h}}var fv=new mA;function gA(){}function ic(o,l,h,p){this.h=typeof o<"u"&&o!==null?o:-1,this.g=l||null,this.a=h||null,this.j=!!p}u(ic,gA),ic.prototype.set=function(o,l){fv.set(o,l,this.h,this.g,this.a,this.j)},ic.prototype.get=function(o){return fv.get(o)||null},ic.prototype.ra=function(o){var l=this.g,h=this.a;fv.get(o),fv.set(o,"",0,l,h)};function qb(o,l){this.g=o,this.a=l||null}function vA(o){return{email:o.g,credential:o.a&&o.a.toJSON()}}function yA(o){if(o&&o.email){var l=o.credential&&xe.auth.AuthCredential.fromJSON(o.credential);return new qb(o.email,l)}return null}function _A(o){this.a=o||null}function TA(o){for(var l=[],h=0,p=0;p<o.length;p++){var y=o.charCodeAt(p);255<y&&(l[h++]=y&255,y>>=8),l[h++]=y}return l}function BV(o){return Xi(o,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}function pv(o){for(this.i=o,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(rc*(this.j+1)),o=0;o<this.g;o++)this.a[o]=[this.i[4*o],this.i[4*o+1],this.i[4*o+2],this.i[4*o+3]];var l=Array(4);for(o=this.g;o<rc*(this.j+1);o++){if(l[0]=this.a[o-1][0],l[1]=this.a[o-1][1],l[2]=this.a[o-1][2],l[3]=this.a[o-1][3],o%this.g==0){var h=l,p=h[0];h[0]=h[1],h[1]=h[2],h[2]=h[3],h[3]=p,xA(l),l[0]^=gv[o/this.g][0],l[1]^=gv[o/this.g][1],l[2]^=gv[o/this.g][2],l[3]^=gv[o/this.g][3]}else 6<this.g&&o%this.g==4&&xA(l);this.a[o]=Array(4),this.a[o][0]=this.a[o-this.g][0]^l[0],this.a[o][1]=this.a[o-this.g][1]^l[1],this.a[o][2]=this.a[o-this.g][2]^l[2],this.a[o][3]=this.a[o-this.g][3]^l[3]}}pv.prototype.A=16;var rc=pv.prototype.A/4;function bA(o,l){for(var h,p=0;p<rc;p++)for(var y=0;4>y;y++)h=4*y+p,h=l[h],o.h[p][y]=h}function wA(o){for(var l=[],h=0;h<rc;h++)for(var p=0;4>p;p++)l[4*p+h]=o.h[h][p];return l}function sc(o,l){for(var h=0;4>h;h++)for(var p=0;4>p;p++)o.h[h][p]^=o.a[4*l+p][h]}function mv(o,l){for(var h=0;4>h;h++)for(var p=0;4>p;p++)o.h[h][p]=l[o.h[h][p]]}function SA(o){for(var l=1;4>l;l++)for(var h=0;4>h;h++)o.s[l][h]=o.h[l][h];for(l=1;4>l;l++)for(h=0;4>h;h++)o.h[l][h]=o.s[l][(h+l)%rc]}function EA(o){for(var l=1;4>l;l++)for(var h=0;4>h;h++)o.s[l][(h+l)%rc]=o.h[l][h];for(l=1;4>l;l++)for(h=0;4>h;h++)o.h[l][h]=o.s[l][h]}function xA(o){o[0]=ac[o[0]],o[1]=ac[o[1]],o[2]=ac[o[2]],o[3]=ac[o[3]]}var ac=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],CA=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],gv=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],vv=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],yv=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],_v=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Tv=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],bv=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],wv=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function IA(o,l){o=new pv(AA(o)),l=TA(l);for(var h=l.splice(0,16),p="",y;h.length;){y=16-h.length;for(var w=0;w<y;w++)h.push(0);for(y=o,bA(y,h),sc(y,0),h=1;h<y.j;++h){mv(y,ac),SA(y),w=y.h;for(var R=y.s[0],U=0;4>U;U++)R[0]=w[0][U],R[1]=w[1][U],R[2]=w[2][U],R[3]=w[3][U],w[0][U]=vv[R[0]]^yv[R[1]]^R[2]^R[3],w[1][U]=R[0]^vv[R[1]]^yv[R[2]]^R[3],w[2][U]=R[0]^R[1]^vv[R[2]]^yv[R[3]],w[3][U]=yv[R[0]]^R[1]^R[2]^vv[R[3]];sc(y,h)}mv(y,ac),SA(y),sc(y,y.j),p+=BV(wA(y)),h=l.splice(0,16)}return p}function kA(o,l){o=new pv(AA(o));for(var h=[],p=0;p<l.length;p+=2)h.push(parseInt(l.substring(p,p+2),16));var y=h.splice(0,16);for(l="";y.length;){for(p=o,bA(p,y),sc(p,p.j),y=1;y<p.j;++y){EA(p),mv(p,CA),sc(p,p.j-y);for(var w=p.h,R=p.s[0],U=0;4>U;U++)R[0]=w[0][U],R[1]=w[1][U],R[2]=w[2][U],R[3]=w[3][U],w[0][U]=wv[R[0]]^Tv[R[1]]^bv[R[2]]^_v[R[3]],w[1][U]=_v[R[0]]^wv[R[1]]^Tv[R[2]]^bv[R[3]],w[2][U]=bv[R[0]]^_v[R[1]]^wv[R[2]]^Tv[R[3]],w[3][U]=Tv[R[0]]^bv[R[1]]^_v[R[2]]^wv[R[3]]}if(EA(p),mv(p,CA),sc(p,0),p=wA(p),8192>=p.length)p=String.fromCharCode.apply(null,p);else{for(y="",w=0;w<p.length;w+=8192)y+=String.fromCharCode.apply(null,sb(p,w,w+8192));p=y}l+=p,y=h.splice(0,16)}return l.replace(/(\x00)+$/,"")}function AA(o){o=TA(o.substring(0,32));for(var l=32-o.length,h=0;h<l;h++)o.push(0);return o}function PA(o){var l=[];return Wb(new jV,o,l),l.join("")}function jV(){}function Wb(o,l,h){if(l==null)h.push("null");else{if(typeof l=="object"){if(O(l)){var p=l;l=p.length,h.push("[");for(var y="",w=0;w<l;w++)h.push(y),Wb(o,p[w],h),y=",";h.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{h.push("{"),y="";for(p in l)Object.prototype.hasOwnProperty.call(l,p)&&(w=l[p],typeof w!="function"&&(h.push(y),RA(p,h),h.push(":"),Wb(o,w,h),y=","));h.push("}");return}}switch(typeof l){case"string":RA(l,h);break;case"number":h.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":h.push(String(l));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var DA={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},VV=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function RA(o,l){l.push('"',o.replace(VV,function(h){var p=DA[h];return p||(p="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),DA[h]=p),p}),'"')}function ef(o){this.a=o}ef.prototype.set=function(o,l){g(l)?this.a.set(o,PA(l)):this.a.ra(o)},ef.prototype.get=function(o){try{var l=this.a.get(o)}catch{return}if(l!==null)try{return JSON.parse(l)}catch{throw"Storage: Invalid value was encountered"}};function Sv(){}ce(Sv,gA),Sv.prototype.clear=function(){var o=lb(this.ha(!0)),l=this;We(o,function(h){l.ra(h)})};function Ev(o){this.a=o}ce(Ev,Sv);function xv(o){if(!o.a)return!1;try{return o.a.setItem("__sak","1"),o.a.removeItem("__sak"),!0}catch{return!1}}t=Ev.prototype,t.set=function(o,l){try{this.a.setItem(o,l)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(o){if(o=this.a.getItem(o),!E(o)&&o!==null)throw"Storage mechanism: Invalid value was encountered";return o},t.ra=function(o){this.a.removeItem(o)},t.ha=function(o){var l=0,h=this.a,p=new fs;return p.next=function(){if(l>=h.length)throw Ys;var y=h.key(l++);if(o)return y;if(y=h.getItem(y),!E(y))throw"Storage mechanism: Invalid value was encountered";return y},p},t.clear=function(){this.a.clear()},t.key=function(o){return this.a.key(o)};function Gb(){var o=null;try{o=window.localStorage||null}catch{}this.a=o}ce(Gb,Ev);function Kb(){var o=null;try{o=window.sessionStorage||null}catch{}this.a=o}ce(Kb,Ev);function oc(o,l){this.g=o,this.a=l+"::"}ce(oc,Sv),oc.prototype.set=function(o,l){this.g.set(this.a+o,l)},oc.prototype.get=function(o){return this.g.get(this.a+o)},oc.prototype.ra=function(o){this.g.ra(this.a+o)},oc.prototype.ha=function(o){var l=this.g.ha(!0),h=this,p=new fs;return p.next=function(){for(var y=l.next();y.substr(0,h.a.length)!=h.a;)y=l.next();return o?y.substr(h.a.length):h.g.get(y)},p},xv(new Gb);var OA,LA=new Kb;OA=xv(LA)?new oc(LA,"firebaseui"):null;var Xb=new ef(OA),Yb={name:"pendingEmailCredential",storage:Xb},Nu={name:"redirectStatus",storage:Xb},tf={name:"redirectUrl",storage:Xb},uc={name:"emailForSignIn",storage:new ef(new ic(3600,"/"))},nf={name:"pendingEncryptedCredential",storage:new ef(new ic(3600,"/"))};function lc(o,l){return o.storage.get(l?o.name+":"+l:o.name)}function Ri(o,l){o.storage.a.ra(l?o.name+":"+l:o.name)}function cc(o,l,h){o.storage.set(h?o.name+":"+h:o.name,l)}function NA(o){return lc(tf,o)||null}function _s(o){return o=lc(Yb,o)||null,yA(o)}function Ts(o){Ri(Yb,o)}function MA(o,l){cc(Yb,vA(o),l)}function Qb(o){return(o=lc(Nu,o)||null)&&typeof o.tenantId<"u"?new _A(o.tenantId):null}function $V(o,l){cc(Nu,{tenantId:o.a},l)}function HV(o,l){l=lc(uc,l);var h=null;if(l)try{var p=kA(o,l),y=JSON.parse(p);h=y&&y.email||null}catch{}return h}function zV(o,l){l=lc(nf,l);var h=null;if(l)try{var p=kA(o,l);h=JSON.parse(p)}catch{}return yA(h||null)}function qV(o,l,h){cc(nf,IA(o,JSON.stringify(vA(l))),h)}function Jb(){this.W={}}function Yt(o,l,h){if(l.toLowerCase()in o.W)throw Error("Configuration "+l+" has already been defined.");o.W[l.toLowerCase()]=h}function Zb(o,l,h){if(!(l.toLowerCase()in o.W))throw Error("Configuration "+l+" is not defined.");o.W[l.toLowerCase()]=h}Jb.prototype.get=function(o){if(!(o.toLowerCase()in this.W))throw Error("Configuration "+o+" is not defined.");return this.W[o.toLowerCase()]};function ew(o,l){if(o=o.get(l),!o)throw Error("Configuration "+l+" is required.");return o}function tw(){this.g=void 0,this.a={}}t=tw.prototype,t.set=function(o,l){FA(this,o,l,!1)},t.add=function(o,l){FA(this,o,l,!0)};function FA(o,l,h,p){for(var y=0;y<l.length;y++){var w=l.charAt(y);o.a[w]||(o.a[w]=new tw),o=o.a[w]}if(p&&o.g!==void 0)throw Error('The collection already contains the key "'+l+'"');o.g=h}t.get=function(o){e:{for(var l=this,h=0;h<o.length;h++)if(l=l.a[o.charAt(h)],!l){o=void 0;break e}o=l}return o?o.g:void 0},t.la=function(){var o=[];return UA(this,o),o};function UA(o,l){o.g!==void 0&&l.push(o.g);for(var h in o.a)UA(o.a[h],l)}t.ja=function(){var o=[];return BA(this,"",o),o};function BA(o,l,h){o.g!==void 0&&h.push(l);for(var p in o.a)BA(o.a[p],l+p,h)}t.clear=function(){this.a={},this.g=void 0};function jA(o){for(this.a=o,this.g=new tw,o=0;o<this.a.length;o++){var l=this.g.get("+"+this.a[o].b);l?l.push(this.a[o]):this.g.add("+"+this.a[o].b,[this.a[o]])}}function Cv(o,l){o=o.g;var h={},p=0;for(o.g!==void 0&&(h[p]=o.g);p<l.length;p++){var y=l.charAt(p);if(!(y in o.a))break;o=o.a[y],o.g!==void 0&&(h[p]=o.g)}for(var w in h)if(h.hasOwnProperty(w))return h[w];return[]}function Mu(o){for(var l=0;l<gi.length;l++)if(gi[l].c===o)return gi[l];return null}function VA(o){o=o.toUpperCase();for(var l=[],h=0;h<gi.length;h++)gi[h].f===o&&l.push(gi[h]);return l}function $A(o){if(0<o.length&&o.charAt(0)=="+"){o=o.substring(1);for(var l=[],h=0;h<gi.length;h++)gi[h].b==o&&l.push(gi[h]);o=l}else o=VA(o);return o}function HA(o){o.sort(function(l,h){return l.name.localeCompare(h.name,"en")})}var gi=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];HA(gi);var rf=new jA(gi);function zA(o,l){this.a=o,this.Aa=l}function qA(o){o=fi(o);var l=Cv(rf,o);return 0<l.length?new zA(l[0].b=="1"?"1-US-0":l[0].c,fi(o.substr(l[0].b.length+1))):null}function nw(o){var l=Mu(o.a);if(!l)throw Error("Country ID "+o.a+" not found.");return"+"+l.b+o.Aa}function WA(o,l){for(var h=0;h<o.length;h++)if(!At(GA,o[h])&&(dc!==null&&o[h]in dc||At(l,o[h])))return o[h];return null}var GA=["emailLink","password","phone"],dc={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function WV(){this.a=new Jb,Yt(this.a,"autoUpgradeAnonymousUsers"),Yt(this.a,"callbacks"),Yt(this.a,"credentialHelper",Av),Yt(this.a,"immediateFederatedRedirect",!1),Yt(this.a,"popupMode",!1),Yt(this.a,"privacyPolicyUrl"),Yt(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Yt(this.a,"queryParameterForWidgetMode","mode"),Yt(this.a,"signInFlow"),Yt(this.a,"signInOptions"),Yt(this.a,"signInSuccessUrl"),Yt(this.a,"siteName"),Yt(this.a,"tosUrl"),Yt(this.a,"widgetUrl"),Yt(this.a,"adminRestrictedOperation")}function Iv(o){var l=!!o.a.get("autoUpgradeAnonymousUsers");return l&&!iP(o)&&Zi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),l}function kv(o){o=o.a.get("signInOptions")||[];for(var l=[],h=0;h<o.length;h++){var p=o[h];p=q(p)?p:{provider:p},p.provider&&l.push(p)}return l}function er(o,l){o=kv(o);for(var h=0;h<o.length;h++)if(o[h].provider===l)return o[h];return null}function hc(o){return kv(o).map(function(l){return l.provider})}function sf(o,l){o=KA(o);for(var h=0;h<o.length;h++)if(o[h].providerId===l)return o[h];return null}function KA(o){return kv(o).map(function(l){if(dc[l.provider]||At(n5,l.provider)){l={providerId:l.provider,S:l.providerName||null,V:l.fullLabel||null,ta:l.buttonColor||null,za:l.iconUrl?Br(zl(l.iconUrl)).toString():null};for(var h in l)l[h]===null&&delete l[h];return l}return{providerId:l.provider,S:l.providerName||null,V:l.fullLabel||null,ta:l.buttonColor||null,za:l.iconUrl?Br(zl(l.iconUrl)).toString():null,Ob:l.loginHintKey||null}})}function XA(o){var l=er(o,xe.auth.GoogleAuthProvider.PROVIDER_ID),h;if(h=l&&l.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(p in o=o.a.get("credentialHelper"),ow)if(ow[p]===o){var p=ow[p];break e}}p=Av}h=p===aw}return h&&l.clientId||null}function YA(o){return o=er(o,xe.auth.EmailAuthProvider.PROVIDER_ID),!!(o&&o.disableSignUp&&o.disableSignUp.status)}function Fu(o){return o=o.a.get("adminRestrictedOperation")||null,!(!o||!o.status)}function GV(o){var l=null;if(kv(o).forEach(function(p){p.provider==xe.auth.PhoneAuthProvider.PROVIDER_ID&&q(p.recaptchaParameters)&&!Array.isArray(p.recaptchaParameters)&&(l=to(p.recaptchaParameters))}),l){var h=[];i5.forEach(function(p){typeof l[p]<"u"&&(h.push(p),delete l[p])}),h.length&&mo('The following provided "recaptchaParameters" keys are not allowed: '+h.join(", "))}return l}function KV(o){return(o=o.a.get("adminRestrictedOperation"))&&o.adminEmail?o.adminEmail:null}function XV(o){if(o=o.a.get("adminRestrictedOperation")||null){var l=o.helpLink||null;if(l&&typeof l=="string")return function(){nc(l)}}return null}function YV(o){return(o=er(o,xe.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp&&o.disableSignUp.adminEmail||null}function QV(o){if((o=er(o,xe.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp){var l=o.disableSignUp.helpLink||null;if(l&&typeof l=="string")return function(){nc(l)}}return null}function QA(o,l){return o=(o=er(o,l))&&o.scopes,Array.isArray(o)?o:[]}function JA(o,l){return o=(o=er(o,l))&&o.customParameters,q(o)?(o=to(o),l===xe.auth.GoogleAuthProvider.PROVIDER_ID&&delete o.login_hint,l===xe.auth.GithubAuthProvider.PROVIDER_ID&&delete o.login,o):null}function JV(o){o=er(o,xe.auth.PhoneAuthProvider.PROVIDER_ID);var l=null;return o&&typeof o.loginHint=="string"&&(l=qA(o.loginHint)),o&&o.defaultNationalNumber||l&&l.Aa||null}function ZV(o){var l=(o=er(o,xe.auth.PhoneAuthProvider.PROVIDER_ID))&&o.defaultCountry||null;l=l&&VA(l);var h=null;return o&&typeof o.loginHint=="string"&&(h=qA(o.loginHint)),l&&l[0]||h&&Mu(h.a)||null}function iw(o){if(o=er(o,xe.auth.PhoneAuthProvider.PROVIDER_ID),!o)return null;var l=o.whitelistedCountries,h=o.blacklistedCountries;if(typeof l<"u"&&(!Array.isArray(l)||l.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof h<"u"&&!Array.isArray(h))throw Error("BlacklistedCountries must be an array.");if(l&&h)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!l&&!h)return gi;if(o=[],l){h={};for(var p=0;p<l.length;p++)for(var y=$A(l[p]),w=0;w<y.length;w++)h[y[w].c]=y[w];for(var R in h)h.hasOwnProperty(R)&&o.push(h[R])}else{for(R={},l=0;l<h.length;l++)for(y=$A(h[l]),p=0;p<y.length;p++)R[y[p].c]=y[p];for(y=0;y<gi.length;y++)R!==null&&gi[y].c in R||o.push(gi[y])}return o}function ZA(o){return ew(o.a,"queryParameterForWidgetMode")}function Qt(o){var l=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,l&&!o&&mo("Privacy Policy URL is missing, the link will not be displayed."),l&&o){if(typeof l=="function")return l;if(typeof l=="string")return function(){nc(l)}}return null}function Jt(o){var l=o.a.get("tosUrl")||null,h=o.a.get("privacyPolicyUrl")||null;if(h&&!l&&mo("Term of Service URL is missing, the link will not be displayed."),l&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){nc(h)}}return null}function eP(o){return(o=er(o,xe.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.requireDisplayName<"u"?!!o.requireDisplayName:!0}function fc(o){return o=er(o,xe.auth.EmailAuthProvider.PROVIDER_ID),!(!o||o.signInMethod!==xe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function e5(o){return o=er(o,xe.auth.EmailAuthProvider.PROVIDER_ID),!(!o||!o.forceSameDevice)}function t5(o){if(fc(o)){var l={url:da(),handleCodeInApp:!0};(o=er(o,xe.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.emailLinkSignIn=="function"&&pu(l,o.emailLinkSignIn()),o=l.url;var h=da();h instanceof Nr||(h=Ph(h)),o instanceof Nr||(o=Ph(o));var p=h;h=new Nr(p);var y=!!o.j;y?Ih(h,o.j):y=!!o.A,y?h.A=o.A:y=!!o.h,y?h.h=o.h:y=o.C!=null;var w=o.g;if(y)kh(h,o.C);else if(y=!!o.g){if(w.charAt(0)!="/"&&(p.h&&!p.g?w="/"+w:(p=h.g.lastIndexOf("/"),p!=-1&&(w=h.g.substr(0,p+1)+w))),w==".."||w==".")w="";else if(w.indexOf("./")!=-1||w.indexOf("/.")!=-1){p=w.lastIndexOf("/",0)==0,w=w.split("/");for(var R=[],U=0;U<w.length;){var X=w[U++];X=="."?p&&U==w.length&&R.push(""):X==".."?((1<R.length||R.length==1&&R[0]!="")&&R.pop(),p&&U==w.length&&R.push("")):(R.push(X),p=!0)}w=R.join("/")}}return y?h.g=w:y=o.a.toString()!=="",y?Ah(h,Dg(o.a)):y=!!o.s,y&&(h.s=o.s),l.url=h.toString(),l}return null}function rw(o){var l=!!o.a.get("immediateFederatedRedirect"),h=hc(o);return o=tP(o),l&&h.length==1&&!At(GA,h[0])&&o==Pv}function tP(o){o=o.a.get("signInFlow");for(var l in uw)if(uw[l]==o)return uw[l];return Pv}function sw(o){return af(o).signInSuccess||null}function nP(o){return af(o).signInSuccessWithAuthResult||null}function iP(o){return af(o).signInFailure||null}function af(o){return o.a.get("callbacks")||{}}var aw="googleyolo",Av="none",ow={nc:aw,NONE:Av},Pv="redirect",uw={qc:"popup",rc:Pv},lw={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},n5=["anonymous"],i5=["sitekey","tabindex","callback","expired-callback"],of,pc,cw,rP,ot={};function be(o,l,h,p){ot[o].apply(null,Array.prototype.slice.call(arguments,1))}function sP(o){return o.classList?o.classList:(o=o.className,E(o)&&o.match(/\S+/g)||[])}function uf(o,l){return o.classList?o.classList.contains(l):At(sP(o),l)}function bs(o,l){o.classList?o.classList.add(l):uf(o,l)||(o.className+=0<o.className.length?" "+l:l)}function ws(o,l){o.classList?o.classList.remove(l):uf(o,l)&&(o.className=Sn(sP(o),function(h){return h!=l}).join(" "))}function xn(o){var l=o.type;switch(E(l)&&l.toLowerCase()){case"checkbox":case"radio":return o.checked?o.value:null;case"select-one":return l=o.selectedIndex,0<=l?o.options[l].value:null;case"select-multiple":l=[];for(var h,p=0;h=o.options[p];p++)h.selected&&l.push(h.value);return l.length?l:null;default:return o.value!=null?o.value:null}}function aP(o,l){var h=o.type;switch(E(h)&&h.toLowerCase()){case"checkbox":case"radio":o.checked=l;break;case"select-one":if(o.selectedIndex=-1,E(l)){for(var p=0;h=o.options[p];p++)if(h.value==l){h.selected=!0;break}}break;case"select-multiple":for(E(l)&&(l=[l]),p=0;h=o.options[p];p++)if(h.selected=!1,l)for(var y,w=0;y=l[w];w++)h.value==y&&(h.selected=!0);break;default:o.value=l??""}}function r5(o){if(o.altKey&&!o.ctrlKey||o.metaKey||112<=o.keyCode&&123>=o.keyCode)return!1;if(lf(o.keyCode))return!0;switch(o.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!jn;default:return 166>o.keyCode||183<o.keyCode}}function oP(o,l,h,p,y,w){if(sn&&!gs("525"))return!0;if(br&&y)return lf(o);if(y&&!p)return!1;if(!jn){typeof l=="number"&&(l=dw(l));var R=l==17||l==18||br&&l==91;if((!h||br)&&R||br&&l==16&&(p||w))return!1}if((sn||ms)&&p&&h)switch(o){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Dt&&p&&l==o)return!1;switch(o){case 13:return jn?w||y?!1:!(h&&p):!0;case 27:return!(sn||ms||jn)}return jn&&(p||y||w)?!1:lf(o)}function lf(o){if(48<=o&&57>=o||96<=o&&106>=o||65<=o&&90>=o||(sn||ms)&&o==0)return!0;switch(o){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return jn;default:return!1}}function dw(o){if(jn)o=s5(o);else if(br&&sn)switch(o){case 93:o=91}return o}function s5(o){switch(o){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return o}}function mc(o){te.call(this),this.a=o,D(o,"keydown",this.g,!1,this),D(o,"click",this.h,!1,this)}ce(mc,te),mc.prototype.g=function(o){(o.keyCode==13||sn&&o.keyCode==3)&&uP(this,o)},mc.prototype.h=function(o){uP(this,o)};function uP(o,l){var h=new cP(l);if(pe(o,h)){h=new lP(l);try{pe(o,h)}finally{l.stopPropagation()}}}mc.prototype.o=function(){mc.K.o.call(this),S(this.a,"keydown",this.g,!1,this),S(this.a,"click",this.h,!1,this),delete this.a};function lP(o){_t.call(this,o.a),this.type="action"}ce(lP,_t);function cP(o){_t.call(this,o.a),this.type="beforeaction"}ce(cP,_t);function gc(o){te.call(this),this.a=o,o=Dt?"focusout":"blur",this.g=D(this.a,Dt?"focusin":"focus",this,!Dt),this.h=D(this.a,o,this,!Dt)}ce(gc,te),gc.prototype.handleEvent=function(o){var l=new _t(o.a);l.type=o.type=="focusin"||o.type=="focus"?"focusin":"focusout",pe(this,l)},gc.prototype.o=function(){gc.K.o.call(this),C(this.g),C(this.h),delete this.a};function Dv(o,l){te.call(this),this.g=o||1,this.a=l||m,this.h=Q(this.gc,this),this.j=$e()}ce(Dv,te),t=Dv.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var o=$e()-this.j;0<o&&o<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-o):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),pe(this,"tick"),this.Ka&&(Rv(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=$e())};function Rv(o){o.Ka=!1,o.aa&&(o.a.clearTimeout(o.aa),o.aa=null)}t.o=function(){Dv.K.o.call(this),Rv(this),delete this.a};function a5(o,l){if(B(o))l&&(o=Q(o,l));else if(o&&typeof o.handleEvent=="function")o=Q(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(0)?-1:m.setTimeout(o,0)}function vc(o){sa.call(this),this.g=o,this.a={}}ce(vc,sa);var dP=[];function yc(o,l,h,p){O(h)||(h&&(dP[0]=h.toString()),h=dP);for(var y=0;y<h.length;y++){var w=D(l,h[y],p||o.handleEvent,!1,o.g||o);if(!w)break;o.a[w.key]=w}}function hP(o){Nl(o.a,function(l,h){this.a.hasOwnProperty(h)&&C(l)},o),o.a={}}vc.prototype.o=function(){vc.K.o.call(this),hP(this)},vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function cf(o){te.call(this),this.a=null,this.g=o,o=Dt||ms||sn&&!gs("531")&&o.tagName=="TEXTAREA",this.h=new vc(this),yc(this.h,this.g,o?["keydown","paste","cut","drop","input"]:"input",this)}ce(cf,te),cf.prototype.handleEvent=function(o){if(o.type=="input")Dt&&gs(10)&&o.keyCode==0&&o.j==0||(hw(this),pe(this,fP(o)));else if(o.type!="keydown"||r5(o)){var l=o.type=="keydown"?this.g.value:null;Dt&&o.keyCode==229&&(l=null);var h=fP(o);hw(this),this.a=a5(function(){this.a=null,this.g.value!=l&&pe(this,h)},this)}};function hw(o){o.a!=null&&(m.clearTimeout(o.a),o.a=null)}function fP(o){return o=new _t(o.a),o.type="input",o}cf.prototype.o=function(){cf.K.o.call(this),this.h.m(),hw(this),delete this.g};function df(o,l){te.call(this),o&&(this.Oa&&yP(this),this.qa=o,this.Na=D(this.qa,"keypress",this,l),this.Ya=D(this.qa,"keydown",this.Jb,l,this),this.Oa=D(this.qa,"keyup",this.Kb,l,this))}ce(df,te),t=df.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var pP={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},mP={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},gP=!sn||gs("525"),vP=br&&jn;t=df.prototype,t.Jb=function(o){(sn||ms)&&(this.R==17&&!o.ctrlKey||this.R==18&&!o.altKey||br&&this.R==91&&!o.metaKey)&&(this.X=this.R=-1),this.R==-1&&(o.ctrlKey&&o.keyCode!=17?this.R=17:o.altKey&&o.keyCode!=18?this.R=18:o.metaKey&&o.keyCode!=91&&(this.R=91)),gP&&!oP(o.keyCode,this.R,o.shiftKey,o.ctrlKey,o.altKey,o.metaKey)?this.handleEvent(o):(this.X=dw(o.keyCode),vP&&(this.Ua=o.altKey))},t.Kb=function(o){this.X=this.R=-1,this.Ua=o.altKey},t.handleEvent=function(o){var l=o.a,h=l.altKey;if(Dt&&o.type=="keypress")var p=this.X,y=p!=13&&p!=27?l.keyCode:0;else(sn||ms)&&o.type=="keypress"?(p=this.X,y=0<=l.charCode&&63232>l.charCode&&lf(p)?l.charCode:0):vu&&!sn?(p=this.X,y=lf(p)?l.keyCode:0):(o.type=="keypress"?(vP&&(h=this.Ua),l.keyCode==l.charCode?32>l.keyCode?(p=l.keyCode,y=0):(p=this.X,y=l.charCode):(p=l.keyCode||this.X,y=l.charCode||0)):(p=l.keyCode||this.X,y=l.charCode||0),br&&y==63&&p==224&&(p=191));var w=p=dw(p);p?63232<=p&&p in pP?w=pP[p]:p==25&&o.shiftKey&&(w=9):l.keyIdentifier&&l.keyIdentifier in mP&&(w=mP[l.keyIdentifier]),jn&&gP&&o.type=="keypress"&&!oP(w,this.R,o.shiftKey,o.ctrlKey,h,o.metaKey)||(o=w==this.R,this.R=w,l=new _P(w,y,o,l),l.altKey=h,pe(this,l))},t.N=function(){return this.qa};function yP(o){o.Na&&(C(o.Na),C(o.Ya),C(o.Oa),o.Na=null,o.Ya=null,o.Oa=null),o.qa=null,o.R=-1,o.X=-1}t.o=function(){df.K.o.call(this),yP(this)};function _P(o,l,h,p){_t.call(this,p),this.type="key",this.keyCode=o,this.j=l,this.repeat=h}ce(_P,_t);function _c(o,l,h,p){this.top=o,this.right=l,this.bottom=h,this.left=p}_c.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},_c.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},_c.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},_c.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Ov(o,l){var h=_u(o);return h.defaultView&&h.defaultView.getComputedStyle&&(o=h.defaultView.getComputedStyle(o,null))&&(o[l]||o.getPropertyValue(l))||""}function TP(o){try{var l=o.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Dt&&o.ownerDocument.body&&(o=o.ownerDocument,l.left-=o.documentElement.clientLeft+o.body.clientLeft,l.top-=o.documentElement.clientTop+o.body.clientTop),l}function o5(o,l){l=l||ho(document);var h=l||ho(document),p=bP(o),y=bP(h);if(!Dt||9<=Number(ao)){R=Ov(h,"borderLeftWidth");var w=Ov(h,"borderRightWidth");U=Ov(h,"borderTopWidth"),X=Ov(h,"borderBottomWidth"),w=new _c(parseFloat(U),parseFloat(w),parseFloat(X),parseFloat(R))}else{var R=Lv(h,"borderLeft");w=Lv(h,"borderRight");var U=Lv(h,"borderTop"),X=Lv(h,"borderBottom");w=new _c(U,w,X,R)}h==ho(document)?(R=p.a-h.scrollLeft,p=p.g-h.scrollTop,!Dt||10<=Number(ao)||(R+=w.left,p+=w.top)):(R=p.a-y.a-w.left,p=p.g-y.g-w.top),y=o.offsetWidth,w=o.offsetHeight,U=sn&&!y&&!w,g(y)&&!U||!o.getBoundingClientRect?o=new ta(y,w):(o=TP(o),o=new ta(o.right-o.left,o.bottom-o.top)),y=h.clientHeight-o.height,w=h.scrollLeft,U=h.scrollTop,w+=Math.min(R,Math.max(R-(h.clientWidth-o.width),0)),U+=Math.min(p,Math.max(p-y,0)),h=new vs(w,U),l.scrollLeft=h.a,l.scrollTop=h.g}function bP(o){var l=_u(o),h=new vs(0,0),p=l?_u(l):document;return p=!Dt||9<=Number(ao)||jr(p).a.compatMode=="CSS1Compat"?p.documentElement:p.body,o==p||(o=TP(o),p=jr(l).a,l=ho(p),p=p.parentWindow||p.defaultView,l=Dt&&gs("10")&&p.pageYOffset!=l.scrollTop?new vs(l.scrollLeft,l.scrollTop):new vs(p.pageXOffset||l.scrollLeft,p.pageYOffset||l.scrollTop),h.a=o.left+l.a,h.g=o.top+l.g),h}var wP={thin:2,medium:4,thick:6};function Lv(o,l){if((o.currentStyle?o.currentStyle[l+"Style"]:null)=="none")return 0;var h=o.currentStyle?o.currentStyle[l+"Width"]:null;if(h in wP)o=wP[h];else if(/^\d+px?$/.test(h))o=parseInt(h,10);else{l=o.style.left;var p=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left,o.style.left=h,h=o.style.pixelLeft,o.style.left=l,o.runtimeStyle.left=p,o=+h}return o}function fw(){}k(fw),fw.prototype.a=0;function Uu(o){te.call(this),this.s=o||jr(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}ce(Uu,te),t=Uu.prototype,t.Lb=fw.Xa(),t.N=function(){return this.g};function Ye(o,l){return o.g?Vr(l,o.g||o.s.a):null}function hf(o){return o.L||(o.L=new vc(o)),o.L}t.Za=function(o){if(this.Y&&this.Y!=o)throw Error("Method not supported");Uu.K.Za.call(this,o)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(o){if(this.na)throw Error("Component already rendered");this.g||this.kb(),o?o.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,pw(this,function(o){!o.na&&o.N()&&o.v()})},t.ya=function(){pw(this,function(o){o.na&&o.ya()}),this.L&&hP(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),pw(this,function(o){o.m()}),this.g&&na(this.g),this.Y=this.g=this.oa=this.Ea=null,Uu.K.o.call(this)};function pw(o,l){o.Ea&&We(o.Ea,l,void 0)}t.removeChild=function(o,l){if(o){var h=E(o)?o:o.cb||(o.cb=":"+(o.Lb.a++).toString(36));if(this.oa&&h?(o=this.oa,o=(o!==null&&h in o?o[h]:void 0)||null):o=null,h&&o){var p=this.oa;if(h in p&&delete p[h],Xs(this.Ea,o),l&&(o.ya(),o.g&&na(o.g)),l=o,l==null)throw Error("Unable to set parent component");l.Y=null,Uu.K.Za.call(l,null)}}if(!o)throw Error("Child is not in parent component");return o};function Wt(o,l){var h=Tu(o,"firebaseui-textfield");l?(ws(o,"firebaseui-input-invalid"),bs(o,"firebaseui-input"),h&&ws(h,"firebaseui-textfield-invalid")):(ws(o,"firebaseui-input"),bs(o,"firebaseui-input-invalid"),h&&bs(h,"firebaseui-textfield-invalid"))}function Tc(o,l,h){l=new cf(l),aa(o,ie(Au,l)),yc(hf(o),l,"input",h)}function ff(o,l,h){l=new df(l),aa(o,ie(Au,l)),yc(hf(o),l,"key",function(p){p.keyCode==13&&(p.stopPropagation(),p.preventDefault(),h(p))})}function u5(o,l,h){l=new gc(l),aa(o,ie(Au,l)),yc(hf(o),l,"focusin",h)}function l5(o,l,h){l=new gc(l),aa(o,ie(Au,l)),yc(hf(o),l,"focusout",h)}function Ut(o,l,h){l=new mc(l),aa(o,ie(Au,l)),yc(hf(o),l,"action",function(p){p.stopPropagation(),p.preventDefault(),h(p)})}function tr(o){bs(o,"firebaseui-hidden")}function Cn(o,l){l&&jh(o,l),ws(o,"firebaseui-hidden")}function bc(o){return!uf(o,"firebaseui-hidden")&&o.style.display!="none"}function wc(o){o=o||{};var l=o.email,h=o.disabled,p='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return p=o.wc?p+"Enter new email address":p+"Email",p+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Vn(l??"")+'"'+(h?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ve(p)}function Oi(o){o=o||{},o=o.label;var l='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return l=o?l+Re(o):l+"Next",ve(l+"</button>")}function mw(){var o=""+Oi({label:Rt("Sign In")});return ve(o)}function SP(){var o=""+Oi({label:Rt("Save")});return ve(o)}function zr(){var o=""+Oi({label:Rt("Continue")});return ve(o)}function EP(o){o=o||{},o=o.label;var l='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return l=o?l+Re(o):l+"Choose password",ve(l+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function xP(){var o={},l='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return l=o.current?l+"Current password":l+"Password",ve(l+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function CP(){return ve('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function nr(o){o=o||{},o=o.label;var l='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return l=o?l+Re(o):l+"Cancel",ve(l+"</button>")}function $n(o){var l="";return o.F&&o.D&&(l+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ve(l)}function Sc(o){var l="";return o.F&&o.D&&(l+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ve(l)}function IP(o){return o='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Re(o.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ve(o)}IP.a="firebaseui.auth.soy2.element.infoBar";function kP(o){var l=o.content;return o=o.Ab,ve('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(o?" "+Vn(o):"")+'">'+Re(l)+"</dialog>")}function AP(o){var l=o.message;return ve(kP({content:Yg('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Vn(o.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Re(l)+"</div>")}))}AP.a="firebaseui.auth.soy2.element.progressDialog";function PP(o){var l='<div class="firebaseui-list-box-actions">';o=o.items;for(var h=o.length,p=0;p<h;p++){var y=o[p];l+='<button type="button" data-listboxid="'+Vn(y.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(y.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Vn(y.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Re(y.label)+"</div></button>"}return l=""+kP({Ab:Rt("firebaseui-list-box-dialog"),content:Yg(l+"</div>")}),ve(l)}PP.a="firebaseui.auth.soy2.element.listBoxDialog";function Nv(o){return o=o||{},ve(o.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Nv.a="firebaseui.auth.soy2.element.busyIndicator";function go(o,l){return o=o||{},o=o.ga,ze(o.S?o.S:l.hb[o.providerId]?""+l.hb[o.providerId]:o.providerId&&o.providerId.indexOf("saml.")==0||o.providerId&&o.providerId.indexOf("oidc.")==0?o.providerId.substring(5):""+o.providerId)}function gw(o){DP(o,"upgradeElement")}function vw(o){DP(o,"downgradeElements")}var c5=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function DP(o,l){o&&window.componentHandler&&window.componentHandler[l]&&c5.forEach(function(h){uf(o,h)&&window.componentHandler[l](o),We(co(h,o),function(p){window.componentHandler[l](p)})})}function RP(o,l,h){if(Mv.call(this),document.body.appendChild(o),o.showModal||window.dialogPolyfill.registerDialog(o),o.showModal(),gw(o),l&&Ut(this,o,function(w){var R=o.getBoundingClientRect();(w.clientX<R.left||R.left+R.width<w.clientX||w.clientY<R.top||R.top+R.height<w.clientY)&&Mv.call(this)}),!h){var p=this.N().parentElement||this.N().parentNode;if(p){var y=this;this.da=function(){if(o.open){var w=o.getBoundingClientRect().height,R=p.getBoundingClientRect().height,U=p.getBoundingClientRect().top-document.body.getBoundingClientRect().top,X=p.getBoundingClientRect().left-document.body.getBoundingClientRect().left,ae=o.getBoundingClientRect().width,Se=p.getBoundingClientRect().width;o.style.top=(U+(R-w)/2).toString()+"px",w=X+(Se-ae)/2,o.style.left=w.toString()+"px",o.style.right=(document.body.getBoundingClientRect().width-w-ae).toString()+"px"}else window.removeEventListener("resize",y.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Mv(){var o=yw.call(this);o&&(vw(o),o.open&&o.close(),na(o),this.da&&window.removeEventListener("resize",this.da))}function yw(){return Vr("firebaseui-id-dialog")}function OP(){na(LP.call(this))}function LP(){return Ye(this,"firebaseui-id-info-bar")}function NP(){return Ye(this,"firebaseui-id-dismiss-info-bar")}var d5={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function _w(o,l,h){St.call(this,o,l);for(var p in h)this[p]=h[p]}ce(_w,St);function J(o,l,h,p,y){Uu.call(this,h),this.fb=o,this.eb=l,this.Fa=!1,this.Ga=p||null,this.A=this.ca=null,this.Z=to(d5),pu(this.Z,y||{})}ce(J,Uu),t=J.prototype,t.kb=function(){var o=bu(this.fb,this.eb,this.Z,this.s);gw(o),this.g=o},t.v=function(){if(J.K.v.call(this),En(Lt(this),new _w("pageEnter",Lt(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var o=this.Z.F;Ut(this,this.bb(),function(){o()})}if(this.ab()&&this.Z.D){var l=this.Z.D;Ut(this,this.ab(),function(){l()})}},t.ya=function(){En(Lt(this),new _w("pageExit",Lt(this),{pageId:this.Ga})),J.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,vw(this.N()),J.K.o.call(this)};function h5(o){o.Fa=!0;var l=uf(o.N(),"firebaseui-use-spinner");o.ca=window.setTimeout(function(){o.N()&&o.A===null&&(o.A=bu(Nv,{tb:l},null,o.s),o.N().appendChild(o.A),gw(o.A))},500)}t.I=function(o,l,h,p){function y(){if(w.T)return null;w.Fa=!1,window.clearTimeout(w.ca),w.ca=null,w.A&&(vw(w.A),na(w.A),w.A=null)}var w=this;return w.Fa?null:(h5(w),o.apply(null,l).then(h,p).then(y,y))};function Lt(o){return o.N().parentElement||o.N().parentNode}function pf(o,l,h){ff(o,l,function(){h.focus()})}function Ec(o,l,h){ff(o,l,function(){h()})}he(J.prototype,{a:function(o){OP.call(this);var l=bu(IP,{message:o},null,this.s);this.N().appendChild(l),Ut(this,NP.call(this),function(){na(l)})},yc:OP,Ac:LP,zc:NP,$:function(o,l){o=bu(AP,{Ma:o,message:l},null,this.s),RP.call(this,o)},h:Mv,Cb:yw,Cc:function(){return Ye(this,"firebaseui-tos")},bb:function(){return Ye(this,"firebaseui-tos-link")},ab:function(){return Ye(this,"firebaseui-pp-link")},Dc:function(){return Ye(this,"firebaseui-tos-list")}});function MP(o,l,h){o=o||{},l=o.Va;var p=o.ia;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+wc(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?nr(null):"")+Oi(null)+'</div></div><div class="firebaseui-card-footer">'+(p?Sc(h):$n(h))+"</div></form></div>",ve(o)}MP.a="firebaseui.auth.soy2.page.signIn";function FP(o,l,h){return o=o||{},l=o.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+wc(o)+xP()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+CP()+'</div><div class="firebaseui-form-actions">'+mw()+'</div></div><div class="firebaseui-card-footer">'+(l?Sc(h):$n(h))+"</div></form></div>",ve(o)}FP.a="firebaseui.auth.soy2.page.passwordSignIn";function UP(o,l,h){o=o||{};var p=o.Tb;l=o.Ta;var y=o.ia,w='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+wc(o);return p?(o=o||{},o=o.name,o='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Vn(o??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',o=ve(o)):o="",h=w+o+EP(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?nr(null):"")+SP()+'</div></div><div class="firebaseui-card-footer">'+(y?Sc(h):$n(h))+"</div></form></div>",ve(h)}UP.a="firebaseui.auth.soy2.page.passwordSignUp";function BP(o,l,h){return o=o||{},l=o.Ta,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+wc(o)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?nr(null):"")+Oi({label:Rt("Send")})+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(o)}BP.a="firebaseui.auth.soy2.page.passwordRecovery";function jP(o,l,h){l=o.G;var p="";return o="Follow the instructions sent to <strong>"+(Re(o.email)+"</strong> to recover your password"),p+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions">',l&&(p+='<div class="firebaseui-form-actions">'+Oi({label:Rt("Done")})+"</div>"),p+='</div><div class="firebaseui-card-footer">'+$n(h)+"</div></div>",ve(p)}jP.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function VP(o,l,h){return ve('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Nv(null)+"</div></div>")}VP.a="firebaseui.auth.soy2.page.callback";function $P(o,l,h){return ve('<div class="firebaseui-container firebaseui-id-page-spinner">'+Nv({tb:!0})+"</div>")}$P.a="firebaseui.auth.soy2.page.spinner";function HP(){return ve('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}HP.a="firebaseui.auth.soy2.page.blank";function zP(o,l,h){l="",o="A sign-in email with additional instructions was sent to <strong>"+(Re(o.email)+"</strong>. Check your email to complete sign-in.");var p=ve('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+p+'</div><div class="firebaseui-form-actions">'+nr({label:Rt("Back")})+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(l)}zP.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function qP(o,l,h){return o=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ve('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+nr({label:Rt("Back")})+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(o)}qP.a="firebaseui.auth.soy2.page.emailNotReceived";function WP(o,l,h){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+wc(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+nr(null)+Oi(null)+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(o)}WP.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function GP(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+nr({label:Rt("Dismiss")})+"</div></div></div>";return ve(o)}GP.a="firebaseui.auth.soy2.page.differentDeviceError";function KP(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+nr({label:Rt("Dismiss")})+"</div></div></div>";return ve(o)}KP.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function XP(o,l,h){return l="",o="You’ve already used <strong>"+(Re(o.email)+"</strong> to sign in. Enter your password for that account."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+o+"</p>"+xP()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+CP()+'</div><div class="firebaseui-form-actions">'+mw()+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(l)}XP.a="firebaseui.auth.soy2.page.passwordLinking";function YP(o,l,h){var p=o.email;return l="",o=""+go(o,h),o=Rt(o),p="You’ve already used <strong>"+(Re(p)+("</strong>. You can connect your <strong>"+(Re(o)+("</strong> account with <strong>"+(Re(p)+"</strong> by signing in with email link below."))))),o="For this flow to successfully connect your "+(Re(o)+" account with this email, you have to open the link on the same device or browser."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+p+'<p class="firebaseui-text firebaseui-text-justify">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mw()+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(l)}YP.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function QP(o,l,h){l="";var p=""+go(o,h);return p=Rt(p),o="You originally intended to connect <strong>"+(Re(p)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),p="If you still want to connect your <strong>"+(Re(p)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+o+'</p><p class="firebaseui-text firebaseui-text-justify">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+zr()+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(l)}QP.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function JP(o,l,h){var p=o.email;return l="",o=""+go(o,h),o=Rt(o),p="You’ve already used <strong>"+(Re(p)+("</strong>. Sign in with "+(Re(o)+" to continue."))),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Oi({label:Rt("Sign in with "+o)})+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(l)}JP.a="firebaseui.auth.soy2.page.federatedLinking";function ZP(o,l,h){o=o||{};var p=o.kc;l=o.yb,o=o.Eb;var y='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return p?(p="<strong>"+(Re(p)+"</strong> is not authorized to view the requested page."),y+=p):y+="User is not authorized to view the requested page.",y+="</p>",l&&(l="Please contact <strong>"+(Re(l)+"</strong> for authorization."),y+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+l+"</p>"),y+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',o&&(y+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),y+='</div><div class="firebaseui-form-actions">'+nr({label:Rt("Back")})+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(y)}ZP.a="firebaseui.auth.soy2.page.unauthorizedUser";function eD(o,l,h){return l="",o="To continue sign in with <strong>"+(Re(o.email)+"</strong> on this device, you have to recover the password."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+nr(null)+Oi({label:Rt("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(l)}eD.a="firebaseui.auth.soy2.page.unsupportedProvider";function tD(o){var l="",h='<p class="firebaseui-text">for <strong>'+(Re(o.email)+"</strong></p>");return l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+h+EP(_b(o))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+SP()+"</div></div></form></div>",ve(l)}tD.a="firebaseui.auth.soy2.page.passwordReset";function nD(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+zr()+"</div>":"")+"</div></div>",ve(o)}nD.a="firebaseui.auth.soy2.page.passwordResetSuccess";function iD(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+zr()+"</div>":"")+"</div></div>",ve(o)}iD.a="firebaseui.auth.soy2.page.passwordResetFailure";function rD(o){var l=o.G,h="";return o="Your sign-in email address has been changed back to <strong>"+(Re(o.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(l?'<div class="firebaseui-form-actions">'+zr()+"</div>":"")+"</div></form></div>",ve(h)}rD.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function sD(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+zr()+"</div>":"")+"</div></div>",ve(o)}sD.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function aD(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+zr()+"</div>":"")+"</div></div>",ve(o)}aD.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function oD(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+zr()+"</div>":"")+"</div></div>",ve(o)}oD.a="firebaseui.auth.soy2.page.emailVerificationFailure";function uD(o){var l=o.G,h="";return o="You can now sign in with your new email <strong>"+(Re(o.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions">'+(l?'<div class="firebaseui-form-actions">'+zr()+"</div>":"")+"</div></div>",ve(h)}uD.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function lD(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+zr()+"</div>":"")+"</div></div>",ve(o)}lD.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function cD(o){var l=o.factorId,h=o.phoneNumber;o=o.G;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(l){case"phone":l="The <strong>"+(Re(l)+(" "+(Re(h)+"</strong> was removed as a second authentication step."))),p+=l;break;default:p+="The device or app was removed as a second authentication step."}return p+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(o?'<div class="firebaseui-form-actions">'+zr()+"</div>":"")+"</div></form></div>",ve(p)}cD.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function dD(o){return o=o||{},o=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(o.G?'<div class="firebaseui-form-actions">'+zr()+"</div>":"")+"</div></div>",ve(o)}dD.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function hD(o){var l=o.zb;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Re(o.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',l&&(o+=Oi({label:Rt("Retry")})),ve(o+"</div></div></div>")}hD.a="firebaseui.auth.soy2.page.recoverableError";function fD(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Re(o.errorMessage)+"</p></div></div>",ve(o)}fD.a="firebaseui.auth.soy2.page.unrecoverableError";function pD(o,l,h){var p=o.Qb;return l="",o="Continue with "+(Re(o.jc)+"?"),p="You originally wanted to sign in with "+Re(p),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+o+'</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+nr(null)+Oi({label:Rt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form></div>",ve(l)}pD.a="firebaseui.auth.soy2.page.emailMismatch";function mD(o,l,h){var p='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';o=o.Sb,l=o.length;for(var y=0;y<l;y++){var w={ga:o[y]},R=h;w=w||{};var U=w.ga,X=w;X=X||{};var ae="";switch(X.ga.providerId){case"google.com":ae+="firebaseui-idp-google";break;case"github.com":ae+="firebaseui-idp-github";break;case"facebook.com":ae+="firebaseui-idp-facebook";break;case"twitter.com":ae+="firebaseui-idp-twitter";break;case"phone":ae+="firebaseui-idp-phone";break;case"anonymous":ae+="firebaseui-idp-anonymous";break;case"password":ae+="firebaseui-idp-password";break;default:ae+="firebaseui-idp-generic"}X='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Vn(ze(ae))+' firebaseui-id-idp-button" data-provider-id="'+Vn(U.providerId)+'" style="background-color:',ae=(ae=w)||{},ae=ae.ga,X=X+Vn(Qg(ze(ae.ta?ae.ta:R.wa[ae.providerId]?""+R.wa[ae.providerId]:ae.providerId.indexOf("saml.")==0?""+R.wa.saml:ae.providerId.indexOf("oidc.")==0?""+R.wa.oidc:""+R.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var Se=w;ae=R,Se=Se||{},Se=Se.ga,ae=yb(Se.za?ia(Se.za):ae.xa[Se.providerId]?ia(ae.xa[Se.providerId]):Se.providerId.indexOf("saml.")==0?ia(ae.xa.saml):Se.providerId.indexOf("oidc.")==0?ia(ae.xa.oidc):ia(ae.xa.password)),X=X+Vn(ia(ae))+'"></span>',U.providerId=="password"?(X+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',U.V?X+=Re(U.V):U.S?(w="Sign in with "+Re(go(w,R)),X+=w):X+="Sign in with email",X+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',X=U.S?X+Re(U.S):X+"Email",X+="</span>"):U.providerId=="phone"?(X+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',U.V?X+=Re(U.V):U.S?(w="Sign in with "+Re(go(w,R)),X+=w):X+="Sign in with phone",X+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',X=U.S?X+Re(U.S):X+"Phone",X+="</span>"):U.providerId=="anonymous"?(X+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',U.V?X+=Re(U.V):U.S?(w="Sign in with "+Re(go(w,R)),X+=w):X+="Continue as guest",X+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',X=U.S?X+Re(U.S):X+"Guest",X+="</span>"):(X+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',U.V?X+=Re(U.V):(ae="Sign in with "+Re(go(w,R)),X+=ae),X+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(U.S?Re(U.S):Re(go(w,R)))+"</span>"),U=ve(X+"</button>"),p+='<li class="firebaseui-list-item">'+U+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Sc(h)+"</div></div>",ve(p)}mD.a="firebaseui.auth.soy2.page.providerSignIn";function gD(o,l,h){o=o||{};var p=o.Gb,y=o.Va;l=o.ia,o=o||{},o=o.Aa,o='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Vn(o??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ve(o);var w;return p?w=ve('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):w="",w=o+w+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(y?nr(null):"")+Oi({label:Rt("Verify")})+'</div></div><div class="firebaseui-card-footer">',l?(l='<p class="firebaseui-tos firebaseui-phone-tos">',l=h.F&&h.D?l+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':l+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",h=ve(l+"</p>")):h=ve('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+$n(h),ve(w+h+"</div></form></div>")}gD.a="firebaseui.auth.soy2.page.phoneSignInStart";function vD(o,l,h){o=o||{},l=o.phoneNumber;var p="";return o='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Re(l)+"</a>"),Re(l),l=p,p=ve('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+"</p>"+p+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+nr(null)+Oi({label:Rt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+$n(h)+"</div></form>",o=ve('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ve(l+(h+o+"</div>"))}vD.a="firebaseui.auth.soy2.page.phoneSignInFinish";function yD(){return ve('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}yD.a="firebaseui.auth.soy2.page.signOut";function _D(o,l,h){var p='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';o=o.ec,l=o.length;for(var y=0;y<l;y++){var w=o[y],R="",U=Re(w.displayName),X=w.tenantId?w.tenantId:"top-level-project";X=Rt(X),R+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Vn(X)+' firebaseui-id-tenant-selection-button"'+(w.tenantId?'data-tenant-id="'+Vn(w.tenantId)+'"':"")+'style="background-color:'+Vn(Qg(w.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Vn(ia(w.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',w.V?R+=Re(w.V):(w="Sign in to "+Re(w.displayName),R+=w),R=ve(R+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+U+"</span></button>")),p+='<li class="firebaseui-list-item">'+R+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Sc(h)+"</div></div>",ve(p)}_D.a="firebaseui.auth.soy2.page.selectTenant";function TD(o,l,h){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+wc(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Oi(null)+'</div></div><div class="firebaseui-card-footer">'+Sc(h)+"</div></form></div>",ve(o)}TD.a="firebaseui.auth.soy2.page.providerMatchByEmail";function mn(){return Ye(this,"firebaseui-id-submit")}function on(){return Ye(this,"firebaseui-id-secondary-link")}function In(o,l){Ut(this,mn.call(this),function(p){o(p)});var h=on.call(this);h&&l&&Ut(this,h,function(p){l(p)})}function Fv(){return Ye(this,"firebaseui-id-password")}function Uv(){return Ye(this,"firebaseui-id-password-error")}function bD(){var o=Fv.call(this),l=Uv.call(this);Tc(this,o,function(){bc(l)&&(Wt(o,!0),tr(l))})}function wD(){var o=Fv.call(this),l=Uv.call(this);return xn(o)?(Wt(o,!0),tr(l),l=!0):(Wt(o,!1),Cn(l,ze("Enter your password").toString()),l=!1),l?xn(o):null}function xc(o,l,h,p,y,w){J.call(this,XP,{email:o},w,"passwordLinking",{F:p,D:y}),this.w=l,this.H=h}u(xc,J),xc.prototype.v=function(){this.P(),this.M(this.w,this.H),Ec(this,this.i(),this.w),this.i().focus(),J.prototype.v.call(this)},xc.prototype.o=function(){this.w=null,J.prototype.o.call(this)},xc.prototype.j=function(){return xn(Ye(this,"firebaseui-id-email"))},he(xc.prototype,{i:Fv,B:Uv,P:bD,u:wD,ea:mn,ba:on,M:In});var f5=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function ha(){return Ye(this,"firebaseui-id-email")}function vo(){return Ye(this,"firebaseui-id-email-error")}function Cc(o){var l=ha.call(this),h=vo.call(this);Tc(this,l,function(){bc(h)&&(Wt(l,!0),tr(h))}),o&&ff(this,l,function(){o()})}function Ic(){return fi(xn(ha.call(this))||"")}function kc(){var o=ha.call(this),l=vo.call(this),h=xn(o)||"";return h?f5.test(h)?(Wt(o,!0),tr(l),l=!0):(Wt(o,!1),Cn(l,ze("That email address isn't correct").toString()),l=!1):(Wt(o,!1),Cn(l,ze("Enter your email address to continue").toString()),l=!1),l?fi(xn(o)):null}function mf(o,l,h,p,y,w,R){J.call(this,FP,{email:h,ia:!!w},R,"passwordSignIn",{F:p,D:y}),this.w=o,this.H=l}u(mf,J),mf.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),pf(this,this.l(),this.i()),Ec(this,this.i(),this.w),xn(this.l())?this.i().focus():this.l().focus(),J.prototype.v.call(this)},mf.prototype.o=function(){this.H=this.w=null,J.prototype.o.call(this)},he(mf.prototype,{l:ha,U:vo,P:Cc,M:Ic,j:kc,i:Fv,B:Uv,ea:bD,u:wD,ua:mn,pa:on,ba:In});function ut(o,l,h,p,y,w){J.call(this,o,l,p,y||"notice",w),this.i=h||null}ce(ut,J),ut.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),ut.K.v.call(this)},ut.prototype.o=function(){this.i=null,ut.K.o.call(this)},he(ut.prototype,{l:mn,w:on,u:In});function Bv(o,l,h,p,y){ut.call(this,jP,{email:o,G:!!l},l,y,"passwordRecoveryEmailSent",{F:h,D:p})}ce(Bv,ut);function SD(o,l){ut.call(this,aD,{G:!!o},o,l,"emailVerificationSuccess")}ce(SD,ut);function ED(o,l){ut.call(this,oD,{G:!!o},o,l,"emailVerificationFailure")}ce(ED,ut);function xD(o,l,h){ut.call(this,uD,{email:o,G:!!l},l,h,"verifyAndChangeEmailSuccess")}ce(xD,ut);function CD(o,l){ut.call(this,lD,{G:!!o},o,l,"verifyAndChangeEmailFailure")}ce(CD,ut);function ID(o,l){ut.call(this,dD,{G:!!o},o,l,"revertSecondFactorAdditionFailure")}ce(ID,ut);function kD(o){ut.call(this,yD,void 0,void 0,o,"signOut")}ce(kD,ut);function AD(o,l){ut.call(this,nD,{G:!!o},o,l,"passwordResetSuccess")}ce(AD,ut);function PD(o,l){ut.call(this,iD,{G:!!o},o,l,"passwordResetFailure")}ce(PD,ut);function DD(o,l){ut.call(this,sD,{G:!!o},o,l,"emailChangeRevokeFailure")}ce(DD,ut);function RD(o,l,h){ut.call(this,hD,{errorMessage:o,zb:!!l},l,h,"recoverableError")}ce(RD,ut);function OD(o,l){ut.call(this,fD,{errorMessage:o},void 0,l,"unrecoverableError")}ce(OD,ut);function gf(o){if(o.code==="auth/invalid-credential"&&o.message&&o.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(o.message&&o.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var l=JSON.parse(o.message.substring(o.message.indexOf("{"),o.message.lastIndexOf("}")+1));return{code:o.code,message:l&&l.error&&l.error.message||o.message}}return o}function fa(o,l,h,p){function y(R){if(!R.name||R.name!="cancel"){e:{var U=R.message;try{var X=((JSON.parse(U).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(X&&X.length){var ae=!0;break e}}catch{}ae=!1}if(ae)R=Lt(l),l.m(),vt(o,R,void 0,ze("Your sign-in session has expired. Please try again.").toString());else{if(ae=R&&R.message||"",R.code){if(R.code=="auth/email-already-in-use"||R.code=="auth/credential-already-in-use")return;ae=ht(R)}l.a(ae)}}}if(tR(o),p)return LD(o,h),qt();if(!h.credential)throw Error("No credential found!");if(!Ge(o).currentUser&&!h.user)throw Error("User not logged in.");try{var w=q5(o,h)}catch(R){return Zi(R.code||R.message,R),l.a(R.code||R.message),qt()}return h=w.then(function(R){LD(o,R)},y).then(void 0,y),je(o,w),qt(h)}function LD(o,l){if(!l.user)throw Error("No user found");var h=nP(Z(o));if(sw(Z(o))&&h&&mo("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),h){h=nP(Z(o));var p=NA(Oe(o))||void 0;Ri(tf,Oe(o));var y=!1;tA()?((!h||h(l,p))&&(y=!0,lo(window.opener.location,jv(o,p))),h||window.close()):(!h||h(l,p))&&(y=!0,lo(window.location,jv(o,p))),y||o.reset()}else{h=l.user,l=l.credential,p=sw(Z(o)),y=NA(Oe(o))||void 0,Ri(tf,Oe(o));var w=!1;tA()?((!p||p(h,l,y))&&(w=!0,lo(window.opener.location,jv(o,y))),p||window.close()):(!p||p(h,l,y))&&(w=!0,lo(window.location,jv(o,y))),w||o.reset()}}function jv(o,l){if(o=l||Z(o).a.get("signInSuccessUrl"),!o)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return o}function ht(o){var l={code:o.code};l=l||{};var h="";switch(l.code){case"auth/email-already-in-use":h+="The email address is already used by another account";break;case"auth/requires-recent-login":h+=nv();break;case"auth/too-many-requests":h+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":h+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":h+="That email address doesn't match an existing account";break;case"auth/user-token-expired":h+=nv();break;case"auth/weak-password":h+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":h+="The email and password you entered don't match";break;case"auth/network-request-failed":h+="A network error has occurred";break;case"auth/invalid-phone-number":h+=xu();break;case"auth/invalid-verification-code":h+=ze("Wrong code. Try again.");break;case"auth/code-expired":h+="This code is no longer valid";break;case"auth/expired-action-code":h+="This code has expired.";break;case"auth/invalid-action-code":h+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(l=ze(h).toString())return l;try{return JSON.parse(o.message),Zi("Internal error: "+o.message,void 0),$h().toString()}catch{return o.message}}function p5(o,l,h){var p=dc[l]&&xe.auth[dc[l]]?new xe.auth[dc[l]]:l.indexOf("saml.")==0?new xe.auth.SAMLAuthProvider(l):new xe.auth.OAuthProvider(l);if(!p)throw Error("Invalid Firebase Auth provider!");var y=QA(Z(o),l);if(p.addScope)for(var w=0;w<y.length;w++)p.addScope(y[w]);return y=JA(Z(o),l)||{},h&&(l==xe.auth.GoogleAuthProvider.PROVIDER_ID?o="login_hint":l==xe.auth.GithubAuthProvider.PROVIDER_ID?o="login":o=(o=sf(Z(o),l))&&o.Ob,o&&(y[o]=h)),p.setCustomParameters&&p.setCustomParameters(y),p}function vf(o,l,h,p){function y(){$V(new _A(o.h.tenantId||null),Oe(o)),je(o,l.I(Q(o.dc,o),[X],function(){if((window.location&&window.location.protocol)==="file:")return je(o,YD(o).then(function(ae){l.m(),Ri(Nu,Oe(o)),be("callback",o,U,qt(ae))},w))},R))}function w(ae){if(Ri(Nu,Oe(o)),!ae.name||ae.name!="cancel")switch(ae=gf(ae),ae.code){case"auth/popup-blocked":y();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":l.a(ht(ae));break;case"auth/admin-restricted-operation":l.m(),Fu(Z(o))?be("handleUnauthorizedUser",o,U,null,h):be("callback",o,U,ec(ae));break;default:l.m(),be("callback",o,U,ec(ae))}}function R(ae){Ri(Nu,Oe(o)),ae.name&&ae.name=="cancel"||(Zi("signInWithRedirect: "+ae.code,void 0),ae=ht(ae),l.Ga=="blank"&&rw(Z(o))?(l.m(),be("providerSignIn",o,U,ae)):l.a(ae))}var U=Lt(l),X=p5(o,h,p);tP(Z(o))==Pv?y():je(o,z5(o,X).then(function(ae){l.m(),be("callback",o,U,qt(ae))},w))}function m5(o,l){je(o,l.I(Q(o.$b,o),[],function(h){return l.m(),fa(o,l,h,!0)},function(h){h.name&&h.name=="cancel"||(Zi("ContinueAsGuest: "+h.code,void 0),h=ht(h),l.a(h))}))}function g5(o,l,h){function p(w){var R=!1;return w=l.I(Q(o.ac,o),[w],function(U){var X=Lt(l);l.m(),be("callback",o,X,qt(U)),R=!0},function(U){if((!U.name||U.name!="cancel")&&(!U||U.code!="auth/credential-already-in-use"))if(U&&U.code=="auth/email-already-in-use"&&U.email&&U.credential){var X=Lt(l);l.m(),be("callback",o,X,ec(U))}else U&&U.code=="auth/admin-restricted-operation"&&Fu(Z(o))?(U=Lt(l),l.m(),be("handleUnauthorizedUser",o,U,null,xe.auth.GoogleAuthProvider.PROVIDER_ID)):(U=ht(U),l.a(U))}),je(o,w),w.then(function(){return R},function(){return!1})}if(h&&h.credential&&h.clientId===XA(Z(o))){if(QA(Z(o),xe.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var y=JSON.parse(atob(h.credential.split(".")[1])).email}catch{}return vf(o,l,xe.auth.GoogleAuthProvider.PROVIDER_ID,y),qt(!0)}return p(xe.auth.GoogleAuthProvider.credential(h.credential))}return h&&l.a(ze("The selected credential for the authentication provider is not supported!").toString()),qt(!1)}function v5(o,l){var h=l.j(),p=l.u();if(h)if(p){var y=xe.auth.EmailAuthProvider.credential(h,p);je(o,l.I(Q(o.bc,o),[h,p],function(w){return fa(o,l,{user:w.user,credential:y,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo})},function(w){if(!w.name||w.name!="cancel")switch(w.code){case"auth/email-already-in-use":break;case"auth/email-exists":Wt(l.l(),!1),Cn(l.U(),ht(w));break;case"auth/too-many-requests":case"auth/wrong-password":Wt(l.i(),!1),Cn(l.B(),ht(w));break;default:Zi("verifyPassword: "+w.message,void 0),l.a(ht(w))}}))}else l.i().focus();else l.l().focus()}function Vv(o){return o=hc(Z(o)),o.length==1&&o[0]==xe.auth.EmailAuthProvider.PROVIDER_ID}function ND(o){return o=hc(Z(o)),o.length==1&&o[0]==xe.auth.PhoneAuthProvider.PROVIDER_ID}function vt(o,l,h,p){Vv(o)?p?be("signIn",o,l,h,p):bw(o,l,h):o&&ND(o)&&!p?be("phoneSignInStart",o,l):o&&rw(Z(o))&&!p?be("federatedRedirect",o,l,h):be("providerSignIn",o,l,p,h)}function MD(o,l,h,p){var y=Lt(l);je(o,l.I(Q(Ge(o).fetchSignInMethodsForEmail,Ge(o)),[h],function(w){l.m(),FD(o,y,w,h,p)},function(w){w=ht(w),l.a(w)}))}function FD(o,l,h,p,y,w){h.length||fc(Z(o))&&!fc(Z(o))?At(h,xe.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?be("passwordSignIn",o,l,p,w):h.length==1&&h[0]===xe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?fc(Z(o))?be("sendEmailLinkForSignIn",o,l,p,function(){be("signIn",o,l)}):be("unsupportedProvider",o,l,p):(h=WA(h,hc(Z(o))))?(MA(new qb(p),Oe(o)),be("federatedSignIn",o,l,p,h,y)):be("unsupportedProvider",o,l,p):YA(Z(o))?be("handleUnauthorizedUser",o,l,p,xe.auth.EmailAuthProvider.PROVIDER_ID):fc(Z(o))?be("sendEmailLinkForSignIn",o,l,p,function(){be("signIn",o,l)}):be("passwordSignUp",o,l,p,void 0,void 0,w)}function Tw(o,l,h,p,y,w){var R=Lt(l);je(o,l.I(Q(o.Ib,o),[h,w],function(){l.m(),be("emailLinkSignInSent",o,R,h,p,w)},y))}function bw(o,l,h){h?be("prefilledEmailSignIn",o,l,h):be("signIn",o,l)}function yf(){return jl(da(),"oobCode")}function ww(){var o=jl(da(),"continueUrl");return o?function(){lo(window.location,o)}:null}function _f(o,l){J.call(this,KP,void 0,l,"anonymousUserMismatch"),this.i=o}u(_f,J),_f.prototype.v=function(){var o=this;Ut(this,this.l(),function(){o.i()}),this.l().focus(),J.prototype.v.call(this)},_f.prototype.o=function(){this.i=null,J.prototype.o.call(this)},he(_f.prototype,{l:on}),ot.anonymousUserMismatch=function(o,l){var h=new _f(function(){h.m(),vt(o,l)});h.render(l),He(o,h)};function $v(o){J.call(this,VP,void 0,o,"callback")}u($v,J),$v.prototype.I=function(o,l,h,p){return o.apply(null,l).then(h,p)};function UD(o,l,h){if(h.user){var p={user:h.user,credential:h.credential,operationType:h.operationType,additionalUserInfo:h.additionalUserInfo},y=_s(Oe(o)),w=y&&y.g;if(w&&!_5(h.user,w))y5(o,l,p);else{var R=y&&y.a;R?je(o,h.user.linkWithCredential(R).then(function(U){p={user:U.user,credential:R,operationType:U.operationType,additionalUserInfo:U.additionalUserInfo},BD(o,l,p)},function(U){Hv(o,l,U)})):BD(o,l,p)}}else h=Lt(l),l.m(),Ts(Oe(o)),vt(o,h)}function BD(o,l,h){Ts(Oe(o)),fa(o,l,h)}function Hv(o,l,h){var p=Lt(l);Ts(Oe(o)),h=ht(h),l.m(),vt(o,p,void 0,h)}function jD(o,l,h,p){var y=Lt(l);je(o,Ge(o).fetchSignInMethodsForEmail(h).then(function(w){l.m(),w.length?At(w,xe.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?be("passwordLinking",o,y,h):w.length==1&&w[0]===xe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?be("emailLinkSignInLinking",o,y,h):(w=WA(w,hc(Z(o))))?be("federatedLinking",o,y,h,w,p):(Ts(Oe(o)),be("unsupportedProvider",o,y,h)):(Ts(Oe(o)),be("passwordRecovery",o,y,h,!1,Cu().toString()))},function(w){Hv(o,l,w)}))}function y5(o,l,h){var p=Lt(l);je(o,yo(o).then(function(){l.m(),be("emailMismatch",o,p,h)},function(y){y.name&&y.name=="cancel"||(y=ht(y.code),l.a(y))}))}function _5(o,l){if(l==o.email)return!0;if(o.providerData){for(var h=0;h<o.providerData.length;h++)if(l==o.providerData[h].email)return!0}return!1}ot.callback=function(o,l,h){var p=new $v;p.render(l),He(o,p),h=h||YD(o),je(o,h.then(function(y){UD(o,p,y)},function(y){if((y=gf(y))&&(y.code=="auth/account-exists-with-different-credential"||y.code=="auth/email-already-in-use")&&y.email&&y.credential)MA(new qb(y.email,y.credential),Oe(o)),jD(o,p,y.email);else if(y&&y.code=="auth/user-cancelled"){var w=_s(Oe(o)),R=ht(y);w&&w.a?jD(o,p,w.g,R):w?MD(o,p,w.g,R):Hv(o,p,y)}else y&&y.code=="auth/credential-already-in-use"||(y&&y.code=="auth/operation-not-supported-in-this-environment"&&Vv(o)?UD(o,p,{user:null,credential:null}):y&&y.code=="auth/admin-restricted-operation"&&Fu(Z(o))?(p.m(),Ts(Oe(o)),be("handleUnauthorizedUser",o,l,null,null)):Hv(o,p,y))}))};function Tf(o,l){J.call(this,GP,void 0,l,"differentDeviceError"),this.i=o}u(Tf,J),Tf.prototype.v=function(){var o=this;Ut(this,this.l(),function(){o.i()}),this.l().focus(),J.prototype.v.call(this)},Tf.prototype.o=function(){this.i=null,J.prototype.o.call(this)},he(Tf.prototype,{l:on}),ot.differentDeviceError=function(o,l){var h=new Tf(function(){h.m(),vt(o,l)});h.render(l),He(o,h)};function bf(o,l,h,p){J.call(this,rD,{email:o,G:!!h},p,"emailChangeRevoke"),this.l=l,this.i=h||null}u(bf,J),bf.prototype.v=function(){var o=this;Ut(this,Ye(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),J.prototype.v.call(this)},bf.prototype.o=function(){this.l=this.i=null,J.prototype.o.call(this)},he(bf.prototype,{u:mn,B:on,w:In});function wf(){return Ye(this,"firebaseui-id-new-password")}function zv(){return Ye(this,"firebaseui-id-password-toggle")}function T5(){this.Ra=!this.Ra;var o=zv.call(this),l=wf.call(this);this.Ra?(l.type="text",bs(o,"firebaseui-input-toggle-off"),ws(o,"firebaseui-input-toggle-on")):(l.type="password",bs(o,"firebaseui-input-toggle-on"),ws(o,"firebaseui-input-toggle-off")),l.focus()}function qv(){return Ye(this,"firebaseui-id-new-password-error")}function VD(){this.Ra=!1;var o=wf.call(this);o.type="password";var l=qv.call(this);Tc(this,o,function(){bc(l)&&(Wt(o,!0),tr(l))});var h=zv.call(this);bs(h,"firebaseui-input-toggle-on"),ws(h,"firebaseui-input-toggle-off"),u5(this,o,function(){bs(h,"firebaseui-input-toggle-focus"),ws(h,"firebaseui-input-toggle-blur")}),l5(this,o,function(){bs(h,"firebaseui-input-toggle-blur"),ws(h,"firebaseui-input-toggle-focus")}),Ut(this,h,Q(T5,this))}function $D(){var o=wf.call(this),l=qv.call(this);return xn(o)?(Wt(o,!0),tr(l),l=!0):(Wt(o,!1),Cn(l,ze("Enter your password").toString()),l=!1),l?xn(o):null}function Sf(o,l,h){J.call(this,tD,{email:o},h,"passwordReset"),this.l=l}u(Sf,J),Sf.prototype.v=function(){this.H(),this.B(this.l),Ec(this,this.i(),this.l),this.i().focus(),J.prototype.v.call(this)},Sf.prototype.o=function(){this.l=null,J.prototype.o.call(this)},he(Sf.prototype,{i:wf,w:qv,M:zv,H:VD,u:$D,U:mn,P:on,B:In});function Ef(o,l,h,p,y){J.call(this,cD,{factorId:o,phoneNumber:h||null,G:!!p},y,"revertSecondFactorAdditionSuccess"),this.l=l,this.i=p||null}u(Ef,J),Ef.prototype.v=function(){var o=this;Ut(this,Ye(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),J.prototype.v.call(this)},Ef.prototype.o=function(){this.l=this.i=null,J.prototype.o.call(this)},he(Ef.prototype,{u:mn,B:on,w:In});function b5(o,l,h,p,y){var w=h.u();w&&je(o,h.I(Q(Ge(o).confirmPasswordReset,Ge(o)),[p,w],function(){h.m();var R=new AD(y);R.render(l),He(o,R)},function(R){HD(o,l,h,R)}))}function HD(o,l,h,p){(p&&p.code)=="auth/weak-password"?(o=ht(p),Wt(h.i(),!1),Cn(h.w(),o),h.i().focus()):(h&&h.m(),h=new PD,h.render(l),He(o,h))}function w5(o,l,h){var p=new bf(h,function(){je(o,p.I(Q(Ge(o).sendPasswordResetEmail,Ge(o)),[h],function(){p.m(),p=new Bv(h,void 0,Qt(Z(o)),Jt(Z(o))),p.render(l),He(o,p)},function(){p.a(Vh().toString())}))});p.render(l),He(o,p)}function S5(o,l,h,p){var y=new Ef(p.factorId,function(){y.I(Q(Ge(o).sendPasswordResetEmail,Ge(o)),[h],function(){y.m(),y=new Bv(h,void 0,Qt(Z(o)),Jt(Z(o))),y.render(l),He(o,y)},function(){y.a(Vh().toString())})},p.phoneNumber);y.render(l),He(o,y)}ot.passwordReset=function(o,l,h,p){je(o,Ge(o).verifyPasswordResetCode(h).then(function(y){var w=new Sf(y,function(){b5(o,l,w,h,p)});w.render(l),He(o,w)},function(){HD(o,l)}))},ot.emailChangeRevocation=function(o,l,h){var p=null;je(o,Ge(o).checkActionCode(h).then(function(y){return p=y.data.email,Ge(o).applyActionCode(h)}).then(function(){w5(o,l,p)},function(){var y=new DD;y.render(l),He(o,y)}))},ot.emailVerification=function(o,l,h,p){je(o,Ge(o).applyActionCode(h).then(function(){var y=new SD(p);y.render(l),He(o,y)},function(){var y=new ED;y.render(l),He(o,y)}))},ot.revertSecondFactorAddition=function(o,l,h){var p=null,y=null;je(o,Ge(o).checkActionCode(h).then(function(w){return p=w.data.email,y=w.data.multiFactorInfo,Ge(o).applyActionCode(h)}).then(function(){S5(o,l,p,y)},function(){var w=new ID;w.render(l),He(o,w)}))},ot.verifyAndChangeEmail=function(o,l,h,p){var y=null;je(o,Ge(o).checkActionCode(h).then(function(w){return y=w.data.email,Ge(o).applyActionCode(h)}).then(function(){var w=new xD(y,p);w.render(l),He(o,w)},function(){var w=new CD;w.render(l),He(o,w)}))};function Wv(o,l){try{var h=typeof o.selectionStart=="number"}catch{h=!1}h?(o.selectionStart=l,o.selectionEnd=l):Dt&&!gs("9")&&(o.type=="textarea"&&(l=o.value.substring(0,l).replace(/(\r\n|\r|\n)/g,`
`).length),o=o.createTextRange(),o.collapse(!0),o.move("character",l),o.select())}function xf(o,l,h,p,y,w){J.call(this,WP,{email:h},w,"emailLinkSignInConfirmation",{F:p,D:y}),this.l=o,this.u=l}u(xf,J),xf.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Wv(this.i(),(this.i().value||"").length),J.prototype.v.call(this)},xf.prototype.o=function(){this.u=this.l=null,J.prototype.o.call(this)},he(xf.prototype,{i:ha,M:vo,w:Cc,H:Ic,j:kc,U:mn,P:on,B:In}),ot.emailLinkConfirmation=function(o,l,h,p,y,w){var R=new xf(function(){var U=R.j();U?(R.m(),p(o,l,U,h)):R.i().focus()},function(){R.m(),vt(o,l,y||void 0)},y||void 0,Qt(Z(o)),Jt(Z(o)));R.render(l),He(o,R),w&&R.a(w)};function Cf(o,l,h,p,y){J.call(this,QP,{ga:o},y,"emailLinkSignInLinkingDifferentDevice",{F:h,D:p}),this.i=l}u(Cf,J),Cf.prototype.v=function(){this.u(this.i),this.l().focus(),J.prototype.v.call(this)},Cf.prototype.o=function(){this.i=null,J.prototype.o.call(this)},he(Cf.prototype,{l:mn,u:In}),ot.emailLinkNewDeviceLinking=function(o,l,h,p){var y=new Tr(h);if(h=y.a.a.get(Pt.PROVIDER_ID)||null,Dh(y,null),h){var w=new Cf(sf(Z(o),h),function(){w.m(),p(o,l,y.toString())},Qt(Z(o)),Jt(Z(o)));w.render(l),He(o,w)}else vt(o,l)};function Gv(o){J.call(this,HP,void 0,o,"blank")}u(Gv,J);function Sw(o,l,h,p,y){var w=new Gv,R=new Tr(h),U=R.a.a.get(Pt.$a)||"",X=R.a.a.get(Pt.Sa)||"",ae=R.a.a.get(Pt.Qa)==="1",Se=Rg(R),lt=R.a.a.get(Pt.PROVIDER_ID)||null;R=R.a.a.get(Pt.vb)||null,nR(o,R);var Gr=!lc(uc,Oe(o)),oR=p||HV(X,Oe(o)),Bf=(p=zV(X,Oe(o)))&&p.a;lt&&Bf&&Bf.providerId!==lt&&(Bf=null),w.render(l),He(o,w),je(o,w.I(function(){var wr=qt(null);wr=Se&&Gr||Gr&&ae?ec(Error("anonymous-user-not-found")):V5(o,h).then(function(Lw){if(lt&&!Bf)throw Error("pending-credential-not-found");return Lw});var jf=null;return wr.then(function(Lw){return jf=Lw,y?null:Ge(o).checkActionCode(U)}).then(function(){return jf})},[],function(wr){oR?x5(o,w,oR,h,Bf,wr):ae?(w.m(),be("differentDeviceError",o,l)):(w.m(),be("emailLinkConfirmation",o,l,h,zD))},function(wr){var jf=void 0;if(!wr||!wr.name||wr.name!="cancel")switch(w.m(),wr&&wr.message){case"anonymous-user-not-found":be("differentDeviceError",o,l);break;case"anonymous-user-mismatch":be("anonymousUserMismatch",o,l);break;case"pending-credential-not-found":be("emailLinkNewDeviceLinking",o,l,h,E5);break;default:wr&&(jf=ht(wr)),vt(o,l,void 0,jf)}}))}function zD(o,l,h,p){Sw(o,l,p,h,!0)}function E5(o,l,h){Sw(o,l,h)}function x5(o,l,h,p,y,w){var R=Lt(l);l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ze("Signing in...").toString());var U=null;y=(w?$5(o,w,h,p,y):H5(o,h,p,y)).then(function(X){Ri(nf,Oe(o)),Ri(uc,Oe(o)),l.h(),l.$("firebaseui-icon-done",ze("Signed in!").toString()),U=setTimeout(function(){l.h(),fa(o,l,X,!0)},1e3),je(o,function(){l&&(l.h(),l.m()),clearTimeout(U)})},function(X){if(l.h(),l.m(),!X.name||X.name!="cancel"){X=gf(X);var ae=ht(X);X.code=="auth/email-already-in-use"||X.code=="auth/credential-already-in-use"?(Ri(nf,Oe(o)),Ri(uc,Oe(o))):X.code=="auth/invalid-email"?(ae=ze("The email provided does not match the current sign-in session.").toString(),be("emailLinkConfirmation",o,R,p,zD,null,ae)):vt(o,R,h,ae)}}),je(o,y)}ot.emailLinkSignInCallback=Sw;function If(o,l,h,p,y,w){J.call(this,YP,{email:o,ga:l},w,"emailLinkSignInLinking",{F:p,D:y}),this.i=h}u(If,J),If.prototype.v=function(){this.u(this.i),this.l().focus(),J.prototype.v.call(this)},If.prototype.o=function(){this.i=null,J.prototype.o.call(this)},he(If.prototype,{l:mn,u:In});function C5(o,l,h,p){var y=Lt(l);Tw(o,l,h,function(){vt(o,y,h)},function(w){if(!w.name||w.name!="cancel"){var R=ht(w);w&&w.code=="auth/network-request-failed"?l.a(R):(l.m(),vt(o,y,h,R))}},p)}ot.emailLinkSignInLinking=function(o,l,h){var p=_s(Oe(o));if(Ts(Oe(o)),p){var y=p.a.providerId,w=new If(h,sf(Z(o),y),function(){C5(o,w,h,p)},Qt(Z(o)),Jt(Z(o)));w.render(l),He(o,w)}else vt(o,l)};function kf(o,l,h,p,y,w){J.call(this,zP,{email:o},w,"emailLinkSignInSent",{F:p,D:y}),this.u=l,this.i=h}u(kf,J),kf.prototype.v=function(){var o=this;Ut(this,this.l(),function(){o.i()}),Ut(this,Ye(this,"firebaseui-id-trouble-getting-email-link"),function(){o.u()}),this.l().focus(),J.prototype.v.call(this)},kf.prototype.o=function(){this.i=this.u=null,J.prototype.o.call(this)},he(kf.prototype,{l:on}),ot.emailLinkSignInSent=function(o,l,h,p,y){var w=new kf(h,function(){w.m(),be("emailNotReceived",o,l,h,p,y)},function(){w.m(),p()},Qt(Z(o)),Jt(Z(o)));w.render(l),He(o,w)};function Af(o,l,h,p,y,w,R){J.call(this,pD,{jc:o,Qb:l},R,"emailMismatch",{F:y,D:w}),this.l=h,this.i=p}u(Af,J),Af.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),J.prototype.v.call(this)},Af.prototype.o=function(){this.i=null,J.prototype.o.call(this)},he(Af.prototype,{u:mn,B:on,w:In}),ot.emailMismatch=function(o,l,h){var p=_s(Oe(o));if(p){var y=new Af(h.user.email,p.g,function(){var w=y;Ts(Oe(o)),fa(o,w,h)},function(){var w=h.credential.providerId,R=Lt(y);y.m(),p.a?be("federatedLinking",o,R,p.g,w):be("federatedSignIn",o,R,p.g,w)},Qt(Z(o)),Jt(Z(o)));y.render(l),He(o,y)}else vt(o,l)};function Ac(o,l,h,p,y){J.call(this,qP,void 0,y,"emailNotReceived",{F:h,D:p}),this.l=o,this.i=l}u(Ac,J),Ac.prototype.v=function(){var o=this;Ut(this,this.u(),function(){o.i()}),Ut(this,this.Da(),function(){o.l()}),this.u().focus(),J.prototype.v.call(this)},Ac.prototype.Da=function(){return Ye(this,"firebaseui-id-resend-email-link")},Ac.prototype.o=function(){this.i=this.l=null,J.prototype.o.call(this)},he(Ac.prototype,{u:on}),ot.emailNotReceived=function(o,l,h,p,y){var w=new Ac(function(){Tw(o,w,h,p,function(R){R=ht(R),w.a(R)},y)},function(){w.m(),vt(o,l,h)},Qt(Z(o)),Jt(Z(o)));w.render(l),He(o,w)};function Pc(o,l,h,p,y,w){J.call(this,JP,{email:o,ga:l},w,"federatedLinking",{F:p,D:y}),this.i=h}u(Pc,J),Pc.prototype.v=function(){this.u(this.i),this.l().focus(),J.prototype.v.call(this)},Pc.prototype.o=function(){this.i=null,J.prototype.o.call(this)},he(Pc.prototype,{l:mn,u:In}),ot.federatedLinking=function(o,l,h,p,y){var w=_s(Oe(o));if(w&&w.a){var R=new Pc(h,sf(Z(o),p),function(){vf(o,R,p,h)},Qt(Z(o)),Jt(Z(o)));R.render(l),He(o,R),y&&R.a(y)}else vt(o,l)},ot.federatedRedirect=function(o,l,h){var p=new Gv;p.render(l),He(o,p),l=hc(Z(o))[0],vf(o,p,l,h)},ot.federatedSignIn=function(o,l,h,p,y){var w=new Pc(h,sf(Z(o),p),function(){vf(o,w,p,h)},Qt(Z(o)),Jt(Z(o)));w.render(l),He(o,w),y&&w.a(y)};function I5(o,l,h,p){var y=l.u();y?je(o,l.I(Q(o.Xb,o),[h,y],function(w){return w=w.user.linkWithCredential(p).then(function(R){return fa(o,l,{user:R.user,credential:p,operationType:R.operationType,additionalUserInfo:R.additionalUserInfo})}),je(o,w),w},function(w){if(!w.name||w.name!="cancel")switch(w.code){case"auth/wrong-password":Wt(l.i(),!1),Cn(l.B(),ht(w));break;case"auth/too-many-requests":l.a(ht(w));break;default:Zi("signInWithEmailAndPassword: "+w.message,void 0),l.a(ht(w))}})):l.i().focus()}ot.passwordLinking=function(o,l,h){var p=_s(Oe(o));Ts(Oe(o));var y=p&&p.a;if(y){var w=new xc(h,function(){I5(o,w,h,y)},function(){w.m(),be("passwordRecovery",o,l,h)},Qt(Z(o)),Jt(Z(o)));w.render(l),He(o,w)}else vt(o,l)};function Pf(o,l,h,p,y,w){J.call(this,BP,{email:h,Ta:!!l},w,"passwordRecovery",{F:p,D:y}),this.l=o,this.u=l}u(Pf,J),Pf.prototype.v=function(){this.B(),this.H(this.l,this.u),xn(this.i())||this.i().focus(),Ec(this,this.i(),this.l),J.prototype.v.call(this)},Pf.prototype.o=function(){this.u=this.l=null,J.prototype.o.call(this)},he(Pf.prototype,{i:ha,w:vo,B:Cc,M:Ic,j:kc,U:mn,P:on,H:In});function k5(o,l){var h=l.j();if(h){var p=Lt(l);je(o,l.I(Q(Ge(o).sendPasswordResetEmail,Ge(o)),[h],function(){l.m();var y=new Bv(h,function(){y.m(),vt(o,p)},Qt(Z(o)),Jt(Z(o)));y.render(p),He(o,y)},function(y){Wt(l.i(),!1),Cn(l.w(),ht(y))}))}else l.i().focus()}ot.passwordRecovery=function(o,l,h,p,y){var w=new Pf(function(){k5(o,w)},p?void 0:function(){w.m(),vt(o,l)},h,Qt(Z(o)),Jt(Z(o)));w.render(l),He(o,w),y&&w.a(y)},ot.passwordSignIn=function(o,l,h,p){var y=new mf(function(){v5(o,y)},function(){var w=y.M();y.m(),be("passwordRecovery",o,l,w)},h,Qt(Z(o)),Jt(Z(o)),p);y.render(l),He(o,y)};function Ew(){return Ye(this,"firebaseui-id-name")}function xw(){return Ye(this,"firebaseui-id-name-error")}function Df(o,l,h,p,y,w,R,U,X){J.call(this,UP,{email:p,Tb:o,name:y,Ta:!!h,ia:!!U},X,"passwordSignUp",{F:w,D:R}),this.w=l,this.H=h,this.B=o}u(Df,J),Df.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(pf(this,this.i(),this.u()),pf(this,this.u(),this.l())):pf(this,this.i(),this.l()),this.w&&Ec(this,this.l(),this.w),xn(this.i())?this.B&&!xn(this.u())?this.u().focus():this.l().focus():this.i().focus(),J.prototype.v.call(this)},Df.prototype.o=function(){this.H=this.w=null,J.prototype.o.call(this)},he(Df.prototype,{i:ha,U:vo,ea:Cc,jb:Ic,j:kc,u:Ew,Bc:xw,Ja:function(){var o=Ew.call(this),l=xw.call(this);Tc(this,o,function(){bc(l)&&(Wt(o,!0),tr(l))})},M:function(){var o=Ew.call(this),l=xw.call(this),h=xn(o);return h=!/^[\s\xa0]*$/.test(h==null?"":String(h)),Wt(o,h),h?(tr(l),l=!0):(Cn(l,ze("Enter your account name").toString()),l=!1),l?fi(xn(o)):null},l:wf,ba:qv,lb:zv,ua:VD,P:$D,Nb:mn,Mb:on,pa:In});function A5(o,l){var h=eP(Z(o)),p=l.j(),y=null;h&&(y=l.M());var w=l.P();if(p){if(h)if(y)y=hs(y);else{l.u().focus();return}if(w){var R=xe.auth.EmailAuthProvider.credential(p,w);je(o,l.I(Q(o.Yb,o),[p,w],function(U){var X={user:U.user,credential:R,operationType:U.operationType,additionalUserInfo:U.additionalUserInfo};return h?(U=U.user.updateProfile({displayName:y}).then(function(){return fa(o,l,X)}),je(o,U),U):fa(o,l,X)},function(U){if(!U.name||U.name!="cancel"){var X=gf(U);switch(U=ht(X),X.code){case"auth/email-already-in-use":return P5(o,l,p,X);case"auth/too-many-requests":U=ze("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Wt(l.l(),!1),Cn(l.ba(),U);break;case"auth/admin-restricted-operation":Fu(Z(o))?(U=Lt(l),l.m(),be("handleUnauthorizedUser",o,U,p,xe.auth.EmailAuthProvider.PROVIDER_ID)):l.a(U);break;default:X="setAccountInfo: "+PA(X),Zi(X,void 0),l.a(U)}}}))}else l.l().focus()}else l.i().focus()}function P5(o,l,h,p){function y(){var R=ht(p);Wt(l.i(),!1),Cn(l.U(),R),l.i().focus()}var w=Ge(o).fetchSignInMethodsForEmail(h).then(function(R){R.length?y():(R=Lt(l),l.m(),be("passwordRecovery",o,R,h,!1,Cu().toString()))},function(){y()});return je(o,w),w}ot.passwordSignUp=function(o,l,h,p,y,w){function R(){U.m(),vt(o,l)}var U=new Df(eP(Z(o)),function(){A5(o,U)},y?void 0:R,h,p,Qt(Z(o)),Jt(Z(o)),w);U.render(l),He(o,U)};function Cw(){return Ye(this,"firebaseui-id-phone-confirmation-code")}function qD(){return Ye(this,"firebaseui-id-phone-confirmation-code-error")}function WD(){return Ye(this,"firebaseui-id-resend-countdown")}function Dc(o,l,h,p,y,w,R,U,X){J.call(this,vD,{phoneNumber:y},X,"phoneSignInFinish",{F:R,D:U}),this.jb=w,this.i=new Dv(1e3),this.B=w,this.P=o,this.l=l,this.H=h,this.M=p}u(Dc,J),Dc.prototype.v=function(){var o=this;this.U(this.jb),D(this.i,"tick",this.w,!1,this),this.i.start(),Ut(this,Ye(this,"firebaseui-id-change-phone-number-link"),function(){o.P()}),Ut(this,this.Da(),function(){o.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),J.prototype.v.call(this)},Dc.prototype.o=function(){this.M=this.H=this.l=this.P=null,Rv(this.i),S(this.i,"tick",this.w),this.i=null,J.prototype.o.call(this)},Dc.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Rv(this.i),S(this.i,"tick",this.w),this.ua(),this.lb())},he(Dc.prototype,{u:Cw,pa:qD,Ja:function(o){var l=Cw.call(this),h=qD.call(this);Tc(this,l,function(){bc(h)&&(Wt(l,!0),tr(h))}),o&&ff(this,l,function(){o()})},ba:function(){var o=fi(xn(Cw.call(this))||"");return/^\d{6}$/.test(o)?o:null},Fb:WD,U:function(o){jh(WD.call(this),ze("Resend code in "+((9<o?"0:":"0:0")+o)).toString())},ua:function(){tr(this.Fb())},Da:function(){return Ye(this,"firebaseui-id-resend-link")},lb:function(){Cn(this.Da())},Nb:mn,Mb:on,ea:In});function D5(o,l,h,p){function y(R){l.u().focus(),Wt(l.u(),!1),Cn(l.pa(),R)}var w=l.ba();w?(l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ze("Verifying...").toString()),je(o,l.I(Q(p.confirm,p),[w],function(R){l.h(),l.$("firebaseui-icon-done",ze("Verified!").toString());var U=setTimeout(function(){l.h(),l.m();var X={user:qr(o).currentUser,credential:null,operationType:R.operationType,additionalUserInfo:R.additionalUserInfo};fa(o,l,X,!0)},1e3);je(o,function(){l&&l.h(),clearTimeout(U)})},function(R){if(R.name&&R.name=="cancel")l.h();else{var U=gf(R);switch(R=ht(U),U.code){case"auth/credential-already-in-use":l.h();break;case"auth/code-expired":U=Lt(l),l.h(),l.m(),be("phoneSignInStart",o,U,h,R);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":l.h(),y(R);break;default:l.h(),l.a(R)}}}))):y(ze("Wrong code. Try again.").toString())}ot.phoneSignInFinish=function(o,l,h,p,y,w){var R=new Dc(function(){R.m(),be("phoneSignInStart",o,l,h)},function(){D5(o,R,h,y)},function(){R.m(),vt(o,l)},function(){R.m(),be("phoneSignInStart",o,l,h)},nw(h),p,Qt(Z(o)),Jt(Z(o)));R.render(l),He(o,R),w&&R.a(w)};var R5=!Dt&&!(Be("Safari")&&!(Og()||Be("Coast")||Be("Opera")||Be("Edge")||Be("Firefox")||Be("FxiOS")||Be("Silk")||Be("Android")));function Kv(o,l){return/-[a-z]/.test(l)?null:R5&&o.dataset?!Be("Android")||Og()||Be("Firefox")||Be("FxiOS")||Be("Opera")||Be("Silk")||l in o.dataset?(o=o.dataset[l],o===void 0?null:o):null:o.getAttribute("data-"+String(l).replace(/([A-Z])/g,"-$1").toLowerCase())}function O5(o,l,h){var p=this;o=bu(PP,{items:o},null,this.s),RP.call(this,o,!0,!0),h&&(h=L5(o,h))&&(h.focus(),o5(h,o)),Ut(this,o,function(y){(y=(y=Tu(y.target,"firebaseui-id-list-box-dialog-button"))&&Kv(y,"listboxid"))&&(Mv.call(p),l(y))})}function L5(o,l){o=(o||document).getElementsByTagName("BUTTON");for(var h=0;h<o.length;h++)if(Kv(o[h],"listboxid")===l)return o[h];return null}function Bu(){return Ye(this,"firebaseui-id-phone-number")}function GD(){return Ye(this,"firebaseui-id-country-selector")}function Iw(){return Ye(this,"firebaseui-id-phone-number-error")}function N5(o,l){var h=o.a,p=kw("1-US-0",h),y=null;if(l&&kw(l,h)?y=l:p?y="1-US-0":y=0<h.length?h[0].c:null,!y)throw Error("No available default country");Xv.call(this,y,o)}function kw(o,l){return o=Mu(o),!(!o||!At(l,o))}function M5(o){return o.map(function(l){return{id:l.c,Ma:"firebaseui-flag "+Aw(l),label:l.name+" "+("‎+"+l.b)}})}function Aw(o){return"firebaseui-flag-"+o.f}function F5(o){var l=this;O5.call(this,M5(o.a),function(h){Xv.call(l,h,o,!0),l.O().focus()},this.Ba)}function Xv(o,l,h){var p=Mu(o);p&&(h&&(h=fi(xn(Bu.call(this))||""),l=Cv(l,h),l.length&&l[0].b!=p.b&&(h="+"+p.b+h.substr(l[0].b.length+1),aP(Bu.call(this),h))),l=Mu(this.Ba),this.Ba=o,o=Ye(this,"firebaseui-id-country-selector-flag"),l&&ws(o,Aw(l)),bs(o,Aw(p)),jh(Ye(this,"firebaseui-id-country-selector-code"),"‎+"+p.b))}function Rf(o,l,h,p,y,w,R,U,X,ae){J.call(this,gD,{Gb:l,Aa:X||null,Va:!!h,ia:!!w},ae,"phoneSignInStart",{F:p,D:y}),this.H=U||null,this.M=l,this.l=o,this.w=h||null,this.pa=R||null}u(Rf,J),Rf.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||pf(this,this.O(),this.i()),Ec(this,this.i(),this.l),this.O().focus(),Wv(this.O(),(this.O().value||"").length),J.prototype.v.call(this)},Rf.prototype.o=function(){this.w=this.l=null,J.prototype.o.call(this)},he(Rf.prototype,{Cb:yw,O:Bu,B:Iw,ea:function(o,l,h){var p=this,y=Bu.call(this),w=GD.call(this),R=Iw.call(this),U=o||rf,X=U.a;if(X.length==0)throw Error("No available countries provided.");N5.call(p,U,l),Ut(this,w,function(){F5.call(p,U)}),Tc(this,y,function(){bc(R)&&(Wt(y,!0),tr(R));var ae=fi(xn(y)||""),Se=Mu(this.Ba),lt=Cv(U,ae);ae=kw("1-US-0",X),lt.length&&lt[0].b!=Se.b&&(Se=lt[0],Xv.call(p,Se.b=="1"&&ae?"1-US-0":Se.c,U))}),h&&ff(this,y,function(){h()})},U:function(o){var l=fi(xn(Bu.call(this))||"");o=o||rf;var h=o.a,p=Cv(rf,l);if(p.length&&!At(h,p[0]))throw aP(Bu.call(this)),Bu.call(this).focus(),Cn(Iw.call(this),ze("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return h=Mu(this.Ba),p.length&&p[0].b!=h.b&&Xv.call(this,p[0].c,o),p.length&&(l=l.substr(p[0].b.length+1)),l?new zA(this.Ba,l):null},Ja:GD,ba:function(){return Ye(this,"firebaseui-recaptcha-container")},u:function(){return Ye(this,"firebaseui-id-recaptcha-error")},i:mn,ua:on,P:In});function KD(o,l,h,p){try{var y=l.U(cw)}catch{return}y?of?(l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ze("Verifying...").toString()),je(o,l.I(Q(o.cc,o),[nw(y),h],function(w){var R=Lt(l);l.$("firebaseui-icon-done",ze("Code sent!").toString());var U=setTimeout(function(){l.h(),l.m(),be("phoneSignInFinish",o,R,y,15,w)},1e3);je(o,function(){l&&l.h(),clearTimeout(U)})},function(w){if(l.h(),!w.name||w.name!="cancel"){grecaptcha.reset(rP),of=null;var R=w&&w.message||"";if(w.code)switch(w.code){case"auth/too-many-requests":R=ze("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":l.O().focus(),Cn(l.B(),xu().toString());return;case"auth/admin-restricted-operation":if(Fu(Z(o))){w=Lt(l),l.m(),be("handleUnauthorizedUser",o,w,nw(y),xe.auth.PhoneAuthProvider.PROVIDER_ID);return}R=ht(w);break;default:R=ht(w)}l.a(R)}}))):pc?Cn(l.u(),ze("Solve the reCAPTCHA").toString()):!pc&&p&&l.i().click():(l.O().focus(),Cn(l.B(),xu().toString()))}ot.phoneSignInStart=function(o,l,h,p){var y=GV(Z(o))||{};of=null,pc=!(y&&y.size==="invisible");var w=ND(o),R=ZV(Z(o)),U=w?JV(Z(o)):null;R=h&&h.a||R&&R.c||null,h=h&&h.Aa||U,(U=iw(Z(o)))&&HA(U),cw=U?new jA(iw(Z(o))):rf;var X=new Rf(function(Se){KD(o,X,ae,!(!Se||!Se.keyCode))},pc,w?null:function(){ae.clear(),X.m(),vt(o,l)},Qt(Z(o)),Jt(Z(o)),w,cw,R,h);X.render(l),He(o,X),p&&X.a(p),y.callback=function(Se){X.u()&&tr(X.u()),of=Se,pc||KD(o,X,ae)},y["expired-callback"]=function(){of=null};var ae=new xe.auth.RecaptchaVerifier(pc?X.ba():X.i(),y,qr(o).app);je(o,X.I(Q(ae.render,ae),[],function(Se){rP=Se},function(Se){Se.name&&Se.name=="cancel"||(Se=ht(Se),X.m(),vt(o,l,void 0,Se))}))},ot.prefilledEmailSignIn=function(o,l,h){var p=new Gv;p.render(l),He(o,p),je(o,p.I(Q(Ge(o).fetchSignInMethodsForEmail,Ge(o)),[h],function(y){p.m();var w=!(!Vv(o)||!QD(o));FD(o,l,y,h,void 0,w)},function(y){y=ht(y),p.m(),be("signIn",o,l,h,y)}))};function Of(o,l,h,p,y){J.call(this,mD,{Sb:l},y,"providerSignIn",{F:h,D:p}),this.i=o}u(Of,J),Of.prototype.v=function(){this.l(this.i),J.prototype.v.call(this)},Of.prototype.o=function(){this.i=null,J.prototype.o.call(this)},he(Of.prototype,{l:function(o){function l(R){o(R)}for(var h=this.g?co("firebaseui-id-idp-button",this.g||this.s.a):[],p=0;p<h.length;p++){var y=h[p],w=Kv(y,"providerId");Ut(this,y,ie(l,w))}}}),ot.providerSignIn=function(o,l,h,p){var y=new Of(function(w){w==xe.auth.EmailAuthProvider.PROVIDER_ID?(y.m(),bw(o,l,p)):w==xe.auth.PhoneAuthProvider.PROVIDER_ID?(y.m(),be("phoneSignInStart",o,l)):w=="anonymous"?m5(o,y):vf(o,y,w,p),Qe(o),o.l.cancel()},KA(Z(o)),Qt(Z(o)),Jt(Z(o)));y.render(l),He(o,y),h&&y.a(h),j5(o)},ot.sendEmailLinkForSignIn=function(o,l,h,p){var y=new $v;y.render(l),He(o,y),Tw(o,y,h,p,function(w){y.m(),w&&w.code=="auth/admin-restricted-operation"&&Fu(Z(o))?be("handleUnauthorizedUser",o,l,h,xe.auth.EmailAuthProvider.PROVIDER_ID):(w=ht(w),be("signIn",o,l,h,w))})};function Lf(o,l,h,p,y,w,R){J.call(this,MP,{email:h,Va:!!l,ia:!!w},R,"signIn",{F:p,D:y}),this.i=o,this.u=l}u(Lf,J),Lf.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Wv(this.l(),(this.l().value||"").length),J.prototype.v.call(this)},Lf.prototype.o=function(){this.u=this.i=null,J.prototype.o.call(this)},he(Lf.prototype,{l:ha,M:vo,w:Cc,H:Ic,j:kc,U:mn,P:on,B:In}),ot.signIn=function(o,l,h,p){var y=Vv(o),w=new Lf(function(){var R=w,U=R.j()||"";U&&MD(o,R,U)},y?null:function(){w.m(),vt(o,l,h)},h,Qt(Z(o)),Jt(Z(o)),y);w.render(l),He(o,w),p&&w.a(p)};function Nf(o,l,h,p,y,w,R){J.call(this,ZP,{kc:o,yb:h,Eb:!!p},R,"unauthorizedUser",{F:y,D:w}),this.l=l,this.i=p}u(Nf,J),Nf.prototype.v=function(){var o=this,l=Ye(this,"firebaseui-id-unauthorized-user-help-link");this.i&&l&&Ut(this,l,function(){o.i()}),Ut(this,this.u(),function(){o.l()}),this.u().focus(),J.prototype.v.call(this)},Nf.prototype.o=function(){this.i=this.l=null,J.prototype.o.call(this)},he(Nf.prototype,{u:on}),ot.handleUnauthorizedUser=function(o,l,h,p){function y(){vt(o,l)}p===xe.auth.EmailAuthProvider.PROVIDER_ID?y=function(){bw(o,l)}:p===xe.auth.PhoneAuthProvider.PROVIDER_ID&&(y=function(){be("phoneSignInStart",o,l)});var w=null,R=null;p===xe.auth.EmailAuthProvider.PROVIDER_ID&&YA(Z(o))?(w=YV(Z(o)),R=QV(Z(o))):Fu(Z(o))&&(w=KV(Z(o)),R=XV(Z(o)));var U=new Nf(h,function(){U.m(),y()},w,R,Qt(Z(o)),Jt(Z(o)));U.render(l),He(o,U)};function Mf(o,l,h,p,y,w){J.call(this,eD,{email:o},w,"unsupportedProvider",{F:p,D:y}),this.l=l,this.i=h}u(Mf,J),Mf.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),J.prototype.v.call(this)},Mf.prototype.o=function(){this.i=this.l=null,J.prototype.o.call(this)},he(Mf.prototype,{u:mn,B:on,w:In}),ot.unsupportedProvider=function(o,l,h){var p=new Mf(h,function(){p.m(),be("passwordRecovery",o,l,h)},function(){p.m(),vt(o,l,h)},Qt(Z(o)),Jt(Z(o)));p.render(l),He(o,p)};function Ss(o,l){this.$=!1;var h=Pw(l);if(Ff[h])throw Error('An AuthUI instance already exists for the key "'+h+'"');Ff[h]=this,this.a=o,this.u=null,this.Y=!1,XD(this.a),this.h=xe.initializeApp({apiKey:o.app.options.apiKey,authDomain:o.app.options.authDomain},o.app.name+"-firebaseui-temp").auth(),(o=o.emulatorConfig)&&(h=o.port,this.h.useEmulator(o.protocol+"://"+o.host+(h===null?"":":"+h),o.options)),XD(this.h),this.h.setPersistence&&this.h.setPersistence(xe.auth.Auth.Persistence.SESSION),this.oa=l,this.ca=new WV,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Nb.Xa(),this.j=this.C=null,this.da=this.A=!1}function XD(o){o&&o.INTERNAL&&o.INTERNAL.logFramework&&o.INTERNAL.logFramework("FirebaseUI-web")}var Ff={};function Pw(o){return o||"[DEFAULT]"}function YD(o){return Qe(o),o.i||(o.i=pa(o,function(l){return l&&!_s(Oe(o))?qt(qr(o).getRedirectResult().then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return _o(o,h)})):qt(Ge(o).getRedirectResult().then(function(h){return Iv(Z(o))&&!h.user&&o.j&&!o.j.isAnonymous?qr(o).getRedirectResult():h}))})),o.i}function He(o,l){Qe(o),o.g=l}var Rc=null;function Ge(o){return Qe(o),o.h}function qr(o){return Qe(o),o.a}function Oe(o){return Qe(o),o.oa}function QD(o){return Qe(o),o.O?o.O.emailHint:void 0}t=Ss.prototype,t.nb=function(){return Qe(this),!!Qb(Oe(this))||JD(da())};function JD(o){return o=new Tr(o),(o.a.a.get(Pt.ub)||null)==="signIn"&&!!o.a.a.get(Pt.$a)}t.start=function(o,l){ZD(this,o,l)};function ZD(o,l,h,p){Qe(o),typeof o.a.languageCode<"u"&&(o.u=o.a.languageCode);var y="en".replace(/_/g,"-");o.a.languageCode=y,o.h.languageCode=y,o.Y=!0,typeof o.a.tenantId<"u"&&(o.h.tenantId=o.a.tenantId),o.ib(h),o.O=p||null;var w=m.document;o.C?o.C.then(function(){w.readyState=="complete"?Yv(o,l):_(window,"load",function(){Yv(o,l)})}):w.readyState=="complete"?Yv(o,l):_(window,"load",function(){Yv(o,l)})}function Yv(o,l){var h=sv(l,"Could not find the FirebaseUI widget element on the page.");if(h.setAttribute("lang","en".replace(/_/g,"-")),Rc){var p=Rc;Qe(p),_s(Oe(p))&&mo("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Rc.reset()}if(Rc=o,o.T=h,B5(o,h),xv(new Gb)&&xv(new Kb)){l=sv(l,"Could not find the FirebaseUI widget element on the page."),h=da(),p=ew(Z(o).a,"queryParameterForSignInSuccessUrl"),h=(h=jl(h,p))?Br(zl(h)).toString():null;e:{p=da();var y=ZA(Z(o));p=jl(p,y)||"";for(w in lw)if(lw[w].toLowerCase()==p.toLowerCase()){var w=lw[w];break e}w="callback"}switch(w){case"callback":h&&(w=Oe(o),cc(tf,h,w)),o.nb()?be("callback",o,l):vt(o,l,QD(o));break;case"resetPassword":be("passwordReset",o,l,yf(),ww());break;case"recoverEmail":be("emailChangeRevocation",o,l,yf());break;case"revertSecondFactorAddition":be("revertSecondFactorAddition",o,l,yf());break;case"verifyEmail":be("emailVerification",o,l,yf(),ww());break;case"verifyAndChangeEmail":be("verifyAndChangeEmail",o,l,yf(),ww());break;case"signIn":be("emailLinkSignInCallback",o,l,da()),iR();break;case"select":h&&(w=Oe(o),cc(tf,h,w)),vt(o,l);break;default:throw Error("Unhandled widget operation.")}l=Z(o),(l=af(l).uiShown||null)&&l()}else l=sv(l,"Could not find the FirebaseUI widget element on the page."),w=new OD(ze("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),w.render(l),He(o,w);l=o.g&&o.g.Ga=="blank"&&rw(Z(o)),Qb(Oe(o))&&!l&&(l=Qb(Oe(o)),nR(o,l.a),Ri(Nu,Oe(o)))}function pa(o,l){if(o.A)return l(eR(o));if(je(o,function(){o.A=!1}),Iv(Z(o))){var h=new an(function(p){je(o,o.a.onAuthStateChanged(function(y){o.j=y,o.A||(o.A=!0,p(l(eR(o))))}))});return je(o,h),h}return o.A=!0,l(null)}function eR(o){return Qe(o),Iv(Z(o))&&o.j&&o.j.isAnonymous?o.j:null}function je(o,l){if(Qe(o),l){o.s.push(l);var h=function(){xg(o.s,function(p){return p==l})};typeof l!="function"&&l.then(h,h)}}t.Db=function(){Qe(this),this.Z=!0};function U5(o){Qe(o);var l;return(l=o.Z)||(o=Z(o),o=JA(o,xe.auth.GoogleAuthProvider.PROVIDER_ID),l=!(!o||o.prompt!=="select_account")),l}function tR(o){typeof o.a.languageCode<"u"&&o.Y&&(o.Y=!1,o.a.languageCode=o.u)}function nR(o,l){o.a.tenantId=l,o.h.tenantId=l}t.reset=function(){Qe(this);var o=this;this.T&&this.T.removeAttribute("lang"),this.J&&la(this.J),tR(this),this.O=null,iR(),Ri(Nu,Oe(this)),Qe(this),this.l.cancel(),this.i=qt({user:null,credential:null}),Rc==this&&(Rc=null),this.T=null;for(var l=0;l<this.s.length;l++)typeof this.s[l]=="function"?this.s[l]():this.s[l].cancel&&this.s[l].cancel();this.s=[],Ts(Oe(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=yo(this).then(function(){o.C=null},function(){o.C=null}))};function B5(o,l){o.L=null,o.J=new Du(l),o.J.register(),D(o.J,"pageEnter",function(h){if(h=h&&h.pageId,o.L!=h){var p=Z(o);(p=af(p).uiChanged||null)&&p(o.L,h),o.L=h}})}t.ib=function(o){Qe(this);var l=this.ca,h;for(h in o)try{Zb(l.a,h,o[h])}catch{Zi('Invalid config: "'+h+'"',void 0)}io&&Zb(l.a,"popupMode",!1),iw(l),!this.da&&sw(Z(this))&&(mo("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function Z(o){return Qe(o),o.ca}t.Wb=function(){Qe(this);var o=Z(this),l=ew(o.a,"widgetUrl");o=ZA(o);for(var h=l.search(Ag),p=0,y,w=[];0<=(y=kg(l,p,o,h));)w.push(l.substring(p,y)),p=Math.min(l.indexOf("&",y)+1||h,h);w.push(l.substr(p)),l=w.join("").replace(Yi,"$1"),h="="+encodeURIComponent("select"),(o+=h)?(h=l.indexOf("#"),0>h&&(h=l.length),p=l.indexOf("?"),0>p||p>h?(p=h,y=""):y=l.substring(p+1,h),l=[l.substr(0,p),y,l.substr(h)],h=l[1],l[1]=o?h?h+"&"+o:o:h,h=l[0]+(l[1]?"?"+l[1]:"")+l[2]):h=l,Z(this).a.get("popupMode")?(o=(window.screen.availHeight-600)/2,l=(window.screen.availWidth-500)/2,h=h||"about:blank",o={width:500,height:600,top:0<o?o:0,left:0<l?l:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},o.target=o.target||h.target||"google_popup",o.width=o.width||690,o.height=o.height||500,(o=eA(h,o))&&o.focus()):lo(window.location,h)};function Qe(o){if(o.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var o=this;return Qe(this),this.h.app.delete().then(function(){var l=Pw(Oe(o));delete Ff[l],o.reset(),o.$=!0})};function j5(o){Qe(o);try{aA(o.l,XA(Z(o)),U5(o)).then(function(l){return o.g?g5(o,o.g,l):!1})}catch{}}t.Ib=function(o,l){Qe(this);var h=this,p=CV();if(!fc(Z(this)))return ec(Error("Email link sign-in should be enabled to trigger email sending."));var y=t5(Z(this)),w=new Tr(y.url);return pn(w,p),l&&l.a&&(qV(p,l,Oe(this)),Dh(w,l.a.providerId)),hb(w,e5(Z(this))),pa(this,function(R){return R&&((R=R.uid)?w.a.a.set(Pt.Pa,R):_r(w.a.a,Pt.Pa)),y.url=w.toString(),Ge(h).sendSignInLinkToEmail(o,y)}).then(function(){var R=Oe(h),U={};U.email=o,cc(uc,IA(p,JSON.stringify(U)),R)},function(R){throw Ri(nf,Oe(h)),Ri(uc,Oe(h)),R})};function V5(o,l){var h=Rg(new Tr(l));return h?(l=new an(function(p,y){var w=qr(o).onAuthStateChanged(function(R){w(),R&&R.isAnonymous&&R.uid===h?p(R):R&&R.isAnonymous&&R.uid!==h?y(Error("anonymous-user-mismatch")):y(Error("anonymous-user-not-found"))});je(o,w)}),je(o,l),l):qt(null)}function $5(o,l,h,p,y){Qe(o);var w=y||null,R=xe.auth.EmailAuthProvider.credentialWithLink(h,p);return h=w?Ge(o).signInWithEmailLink(h,p).then(function(U){return U.user.linkWithCredential(w)}).then(function(){return yo(o)}).then(function(){return _o(o,{code:"auth/email-already-in-use"},w)}):Ge(o).fetchSignInMethodsForEmail(h).then(function(U){return U.length?_o(o,{code:"auth/email-already-in-use"},R):l.linkWithCredential(R)}),je(o,h),h}function H5(o,l,h,p){Qe(o);var y=p||null,w;return l=Ge(o).signInWithEmailLink(l,h).then(function(R){if(w={user:R.user,credential:null,operationType:R.operationType,additionalUserInfo:R.additionalUserInfo},y)return R.user.linkWithCredential(y).then(function(U){w={user:U.user,credential:y,operationType:w.operationType,additionalUserInfo:U.additionalUserInfo}})}).then(function(){yo(o)}).then(function(){return qr(o).updateCurrentUser(w.user)}).then(function(){return w.user=qr(o).currentUser,w}),je(o,l),l}function iR(){var o=da();if(JD(o)){o=new Tr(o);for(var l in Pt)Pt.hasOwnProperty(l)&&_r(o.a.a,Pt[l]);l={state:"signIn",mode:"emailLink",operation:"clear"};var h=m.document.title;m.history&&m.history.replaceState&&m.history.replaceState(l,h,o.toString())}}t.bc=function(o,l){Qe(this);var h=this;return Ge(this).signInWithEmailAndPassword(o,l).then(function(p){return pa(h,function(y){return y?yo(h).then(function(){return _o(h,{code:"auth/email-already-in-use"},xe.auth.EmailAuthProvider.credential(o,l))}):p})})},t.Yb=function(o,l){Qe(this);var h=this;return pa(this,function(p){if(p){var y=xe.auth.EmailAuthProvider.credential(o,l);return p.linkWithCredential(y)}return Ge(h).createUserWithEmailAndPassword(o,l)})},t.ac=function(o){Qe(this);var l=this;return pa(this,function(h){return h?h.linkWithCredential(o).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return _o(l,p,o)}):Ge(l).signInWithCredential(o)})};function z5(o,l){return Qe(o),pa(o,function(h){return h&&!_s(Oe(o))?h.linkWithPopup(l).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return _o(o,p)}):Ge(o).signInWithPopup(l)})}t.dc=function(o){Qe(this);var l=this,h=this.i;return this.i=null,pa(this,function(p){return p&&!_s(Oe(l))?p.linkWithRedirect(o):Ge(l).signInWithRedirect(o)}).then(function(){},function(p){throw l.i=h,p})},t.cc=function(o,l){Qe(this);var h=this;return pa(this,function(p){return p?p.linkWithPhoneNumber(o,l).then(function(y){return new Fb(y,function(w){if(w.code=="auth/credential-already-in-use")return _o(h,w);throw w})}):qr(h).signInWithPhoneNumber(o,l).then(function(y){return new Fb(y)})})},t.$b=function(){return Qe(this),qr(this).signInAnonymously()};function q5(o,l){return Qe(o),pa(o,function(h){if(o.j&&!o.j.isAnonymous&&Iv(Z(o))&&!Ge(o).currentUser)return yo(o).then(function(){return l.credential.providerId=="password"&&(l.credential=null),l});if(h)return yo(o).then(function(){return h.linkWithCredential(l.credential)}).then(function(p){return l.user=p.user,l.credential=p.credential,l.operationType=p.operationType,l.additionalUserInfo=p.additionalUserInfo,l},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return _o(o,p,l.credential)});if(!l.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return yo(o).then(function(){return qr(o).updateCurrentUser(l.user)}).then(function(){return l.user=qr(o).currentUser,l.operationType="signIn",l.credential&&l.credential.providerId&&l.credential.providerId=="password"&&(l.credential=null),l})})}t.Xb=function(o,l){return Qe(this),Ge(this).signInWithEmailAndPassword(o,l)};function yo(o){return Qe(o),Ge(o).signOut()}function _o(o,l,h){if(Qe(o),l&&l.code&&(l.code=="auth/email-already-in-use"||l.code=="auth/credential-already-in-use")){var p=iP(Z(o));return qt().then(function(){return p(new ku("anonymous-upgrade-merge-conflict",null,h||l.credential))}).then(function(){throw o.g&&(o.g.m(),o.g=null),l})}return ec(l)}function Uf(o,l,h,p){J.call(this,TD,void 0,p,"providerMatchByEmail",{F:l,D:h}),this.i=o}u(Uf,J),Uf.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Wv(this.l(),(this.l().value||"").length),J.prototype.v.call(this)},Uf.prototype.o=function(){this.i=null,J.prototype.o.call(this)},he(Uf.prototype,{l:ha,H:vo,u:Cc,B:Ic,j:kc,M:mn,w:In});function Qv(o,l,h,p,y){J.call(this,_D,{ec:l},y,"selectTenant",{F:h,D:p}),this.i=o}u(Qv,J),Qv.prototype.v=function(){W5(this,this.i),J.prototype.v.call(this)},Qv.prototype.o=function(){this.i=null,J.prototype.o.call(this)};function W5(o,l){function h(U){l(U)}for(var p=o.g?co("firebaseui-id-tenant-selection-button",o.g||o.s.a):[],y=0;y<p.length;y++){var w=p[y],R=Kv(w,"tenantId");Ut(o,w,ie(h,R))}}function Dw(o){J.call(this,$P,void 0,o,"spinner")}u(Dw,J);function G5(o){this.a=new Jb,Yt(this.a,"authDomain"),Yt(this.a,"displayMode",Zv),Yt(this.a,"tenants"),Yt(this.a,"callbacks"),Yt(this.a,"tosUrl"),Yt(this.a,"privacyPolicyUrl");for(var l in o)if(o.hasOwnProperty(l))try{Zb(this.a,l,o[l])}catch{Zi('Invalid config: "'+l+'"',void 0)}}function K5(o){o=o.a.get("displayMode");for(var l in Ow)if(Ow[l]===o)return Ow[l];return Zv}function Jv(o){return o.a.get("callbacks")||{}}function rR(o){var l=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,l&&!o&&mo("Privacy Policy URL is missing, the link will not be displayed."),l&&o){if(typeof l=="function")return l;if(typeof l=="string")return function(){nc(l)}}return null}function sR(o){var l=o.a.get("tosUrl")||null,h=o.a.get("privacyPolicyUrl")||null;if(h&&!l&&mo("Terms of Service URL is missing, the link will not be displayed."),l&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){nc(h)}}return null}function Rw(o,l){if(o=o.a.get("tenants"),!o||!o.hasOwnProperty(l)&&!o.hasOwnProperty(ey))throw Error("Invalid tenant configuration!")}function aR(o,l,h){if(o=o.a.get("tenants"),!o)throw Error("Invalid tenant configuration!");var p=[];if(o=o[l]||o[ey],!o)return Zi("Invalid tenant configuration: "+(l+" is not configured!"),void 0),p;if(l=o.signInOptions,!l)throw Error("Invalid tenant configuration: signInOptions are invalid!");return l.forEach(function(y){if(typeof y=="string")p.push(y);else if(typeof y.provider=="string"){var w=y.hd;w&&h?(w instanceof RegExp?w:new RegExp("@"+w.replace(".","\\.")+"$")).test(h)&&p.push(y.provider):p.push(y.provider)}else y="Invalid tenant configuration: signInOption "+(JSON.stringify(y)+" is invalid!"),Zi(y,void 0)}),p}function X5(o,l,h){return o=Y5(o,l),(l=o.signInOptions)&&h&&(l=l.filter(function(p){return typeof p=="string"?h.includes(p):h.includes(p.provider)}),o.signInOptions=l),o}function Y5(o,l){var h=Q5,p=p===void 0?{}:p;return Rw(o,l),o=o.a.get("tenants"),IV(o[l]||o[ey],h,p)}var Q5=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Zv="optionFirst",Ow={pc:Zv,oc:"identifierFirst"},ey="*";function Wr(o,l){var h=this;this.s=sv(o),this.a={},Object.keys(l).forEach(function(p){h.a[p]=new G5(l[p])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(p){this.ob=p||null},enumerable:!1})}t=Wr.prototype,t.Ub=function(o,l){var h=this;To(this);var p=o.apiKey;return new an(function(y,w){if(h.a.hasOwnProperty(p)){var R=Jv(h.a[p]).selectTenantUiHidden||null;if(K5(h.a[p])===Zv){var U=[];l.forEach(function(Se){Se=Se||"_";var lt=h.a[p].a.get("tenants");if(!lt)throw Error("Invalid tenant configuration!");(lt=lt[Se]||lt[ey])?Se={tenantId:Se!=="_"?Se:null,V:lt.fullLabel||null,displayName:lt.displayName,za:lt.iconUrl,ta:lt.buttonColor}:(Zi("Invalid tenant configuration: "+(Se+" is not configured!"),void 0),Se=null),Se&&U.push(Se)});var X=function(Se){Se={tenantId:Se,providerIds:aR(h.a[p],Se||"_")},y(Se)};if(U.length===1){X(U[0].tenantId);return}h.g=new Qv(function(Se){To(h),R&&R(),X(Se)},U,rR(h.a[p]),sR(h.a[p]))}else h.g=new Uf(function(){var Se=h.g.j();if(Se){for(var lt=0;lt<l.length;lt++){var Gr=aR(h.a[p],l[lt]||"_",Se);if(Gr.length!==0){Se={tenantId:l[lt],providerIds:Gr,email:Se},To(h),R&&R(),y(Se);return}}h.g.a(Iu({code:"no-matching-tenant-for-email"}).toString())}},rR(h.a[p]),sR(h.a[p]));h.g.render(h.s),(w=Jv(h.a[p]).selectTenantUiShown||null)&&w()}else{var ae=Error("Invalid project configuration: API key is invalid!");ae.code="invalid-configuration",h.pb(ae),w(ae)}})},t.Pb=function(o,l){if(!this.a.hasOwnProperty(o))throw Error("Invalid project configuration: API key is invalid!");var h=l||void 0;Rw(this.a[o],l||"_");try{this.i=xe.app(h).auth()}catch{var p=this.a[o].a.get("authDomain");if(!p)throw Error("Invalid project configuration: authDomain is required!");o=xe.initializeApp({apiKey:o,authDomain:p},h),o.auth().tenantId=l,this.i=o.auth()}return this.i},t.Zb=function(o,l){var h=this;return new an(function(p,y){function w(lt,Gr){h.j=new Ss(o),ZD(h.j,h.s,lt,Gr)}var R=o.app.options.apiKey;h.a.hasOwnProperty(R)||y(Error("Invalid project configuration: API key is invalid!"));var U=X5(h.a[R],o.tenantId||"_",l&&l.providerIds);To(h),y={signInSuccessWithAuthResult:function(lt){return p(lt),!1}};var X=Jv(h.a[R]).signInUiShown||null,ae=!1;y.uiChanged=function(lt,Gr){lt===null&&Gr==="callback"?((lt=Vr("firebaseui-id-page-callback",h.s))&&tr(lt),h.h=new Dw,h.h.render(h.s)):ae||lt===null&&Gr==="spinner"||Gr==="blank"||(h.h&&(h.h.m(),h.h=null),ae=!0,X&&X(o.tenantId))},U.callbacks=y,U.credentialHelper="none";var Se;l&&l.email&&(Se={emailHint:l.email}),h.j?h.j.Wa().then(function(){w(U,Se)}):w(U,Se)})},t.reset=function(){var o=this;return qt().then(function(){o.j&&o.j.Wa()}).then(function(){o.j=null,To(o)})},t.Vb=function(){var o=this;this.h||this.A||(this.A=window.setTimeout(function(){To(o),o.h=new Dw,o.g=o.h,o.h.render(o.s),o.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return To(this),this.g=new kD,this.g.render(this.s),qt()};function To(o){o.j&&o.j.reset(),o.mb(),o.g&&o.g.m()}t.pb=function(o){var l=this,h=Iu({code:o.code}).toString()||o.message;To(this);var p;o.retry&&typeof o.retry=="function"&&(p=function(){l.reset(),o.retry()}),this.g=new RD(h,p),this.g.render(this.s)},t.Rb=function(o){var l=this;return qt().then(function(){var h=l.i&&l.i.app.options.apiKey;if(!l.a.hasOwnProperty(h))throw Error("Invalid project configuration: API key is invalid!");if(Rw(l.a[h],o.tenantId||"_"),!l.i.currentUser||l.i.currentUser.uid!==o.uid)throw Error("The user being processed does not match the signed in user!");return(h=Jv(l.a[h]).beforeSignInSuccess||null)?h(o):o}).then(function(h){if(h.uid!==o.uid)throw Error("User with mismatching UID returned.");return h})},Ie("firebaseui.auth.FirebaseUiHandler",Wr),Ie("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Wr.prototype.Ub),Ie("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Wr.prototype.Pb),Ie("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Wr.prototype.Zb),Ie("firebaseui.auth.FirebaseUiHandler.prototype.reset",Wr.prototype.reset),Ie("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Wr.prototype.Vb),Ie("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Wr.prototype.mb),Ie("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Wr.prototype.Bb),Ie("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Wr.prototype.pb),Ie("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Wr.prototype.Rb),Ie("firebaseui.auth.AuthUI",Ss),Ie("firebaseui.auth.AuthUI.getInstance",function(o){return o=Pw(o),Ff[o]?Ff[o]:null}),Ie("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Ss.prototype.Db),Ie("firebaseui.auth.AuthUI.prototype.start",Ss.prototype.start),Ie("firebaseui.auth.AuthUI.prototype.setConfig",Ss.prototype.ib),Ie("firebaseui.auth.AuthUI.prototype.signIn",Ss.prototype.Wb),Ie("firebaseui.auth.AuthUI.prototype.reset",Ss.prototype.reset),Ie("firebaseui.auth.AuthUI.prototype.delete",Ss.prototype.Wa),Ie("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Ss.prototype.nb),Ie("firebaseui.auth.AuthUIError",ku),Ie("firebaseui.auth.AuthUIError.prototype.toJSON",ku.prototype.toJSON),Ie("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",aw),Ie("firebaseui.auth.CredentialHelper.NONE",Av),Ie("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),an.prototype.catch=an.prototype.Ca,an.prototype.finally=an.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=Oee);firebaseui.auth;const Lee={apiKey:"AIzaSyDgHe90O8DH-Dxkeqi_Q3mlb8aLhzFCWd4",authDomain:"c9-firebaseintroduction.firebaseapp.com",projectId:"c9-firebaseintroduction",storageBucket:"c9-firebaseintroduction.appspot.com",messagingSenderId:"619287684344",appId:"1:619287684344:web:adc7760fe04de98749070d",measurementId:"G-JHHC4SERKR"},cg=W_(Lee),E6=bK(cg),Nee=iJ(cg),Mee=RZ(cg);console.log("auth",E6);console.log("app:",cg);const Rl=mt.exports.createContext(),Fee={firebaseApp:cg,auth:E6,db:Nee,store:Mee},Uee=({children:t})=>Je(Rl.Provider,{value:Fee,children:t}),dg=mt.exports.createContext(),Bee=({children:t})=>{const[e,n]=mt.exports.useState(null),i=mt.exports.useContext(Rl),r=i.auth,s=new es;s.setCustomParameters({prompt:"select_account"});const a=()=>v3(r,s);mt.exports.useEffect(()=>(console.log("fbcontext",i),console.log("authP auth",r),MW(r,f=>{console.log("onAuthStateChanged() - new User!!",f),n(f)})),[r]);const u=async(d,f)=>{try{let m=await r3(r,d,f);m?console.log("Logged in!!",m.user):console.log("Login failed!")}catch(m){console.log("AUTH FAILURE!",m.message)}},c=async()=>{try{await FW(r)}catch(d){console.log("logout failed",d.message)}};return Je(dg.Provider,{value:{user:e,login:u,logout:c,signInWithGoogle:a},children:t})};function jee(){const t=mt.exports.useContext(dg),e=t.login,n=t.logout,[i,r]=mt.exports.useState(""),[s,a]=mt.exports.useState("");return Ti("div",{children:[Je("input",{name:"email",value:i,onChange:u=>r(u.target.value)}),Je("br",{}),Je("input",{name:"password",value:s,onChange:u=>a(u.target.value)}),Je("br",{}),Je("button",{onClick:()=>e(i,s),children:"LOGIN"}),Je("br",{}),Je("button",{onClick:()=>n(),children:"LOG OUT"})]})}function Vee(t){const e=t.docId,n=mt.exports.useContext(Rl),i=n.db,r=n.store,[s,a]=mt.exports.useState(),[u,c]=mt.exports.useState();return Ti("div",{children:[Je("input",{type:"file",onChange:f=>{let m=f.target.files[0];a(m)}}),Je("button",{onClick:()=>{if(!s){alert("Please select a file");return}const f=DZ(r,`hero_pics/${e}`);console.log("imageRef is ",f);const m=AZ(f,s);m.on("state_changed",g=>{const E=g.bytesTransferred/g.totalBytes*100;c(E),console.log("Upload is: "+E+"% done"),console.log("snapshot.state is: "+g.state)},g=>{console.log("UPLOAD IMAGE ERROR!",g)},()=>{PZ(m.snapshot.ref).then(g=>{console.log("Hero image available at:",g);const E=R4(i,`heroes/${e}`);vJ(E,{imageUrl:g})})})},children:"UPLOAD IMAGE"}),u?Ti("div",{children:["progress: ",u,"%"]}):Je("div",{})]})}function $ee(){const t=mt.exports.useContext(Rl),{user:e}=mt.exports.useContext(dg),n=t.db,[i,r]=mt.exports.useState([]);mt.exports.useEffect(()=>{let a=EE(n,"heroes"),u=$L(a,HL("name"));return _J(u,d=>{if(d.empty)console.log("No docs found");else{let f=d.docs.map(m=>({...m.data(),DOC_ID:m.id}));r(f)}})},[e]);const s=async()=>{try{let a=EE(n,"heroes"),u=$L(a,HL("name")),c=await gJ(u);if(c.empty)console.log("No docs found");else{let d=c.docs.map(f=>({...f.data(),DOC_ID:f.id}));r(d)}}catch(a){console.log("FIRESTORE FAILURE!",a.message)}};return Ti("div",{children:[Je("button",{onClick:()=>s(),children:"GET DATA"}),Je("br",{}),i==null?void 0:i.map(a=>Ti(BN,{children:[Ti("ul",{style:{listStyleType:"none",display:"flex",justifyContent:"space-evenly"},children:[Je("li",{style:{width:"30%"},children:a.imageUrl?Je("img",{src:a.imageUrl,width:"100%"}):Je(Vee,{docId:a.DOC_ID})}),Ti("div",{style:{width:"30%"},children:[Ti("li",{children:["name: ",a.name]}),Ti("li",{children:["vehicle: ",a.vehicle]}),Ti("li",{children:["docId: ",a.DOC_ID]})]})]},a.DOC_ID),Je("hr",{})]}))]})}function Hee(){const e=mt.exports.useContext(Rl).db,[n,i]=mt.exports.useState(""),[r,s]=mt.exports.useState(""),a=async(u,c)=>{try{let d=EE(e,"heroes");await yJ(d,{name:u,vehicle:c}),i(""),s("")}catch(d){console.log("FIRESTORE ADD FAILURE!",d.message)}};return Ti("div",{children:[Je("input",{name:"name",value:n,onChange:u=>i(u.target.value)}),Je("br",{}),Je("input",{name:"vehicle",value:r,onChange:u=>s(u.target.value)}),Je("br",{}),Je("button",{onClick:()=>a(n,r),children:"ADD HERO"})]})}function zee(){const{signInWithGoogle:t}=mt.exports.useContext(dg);return mt.exports.useContext(Rl).auth,mt.exports.useState(""),mt.exports.useState(""),Ti("div",{children:[Je("h1",{children:"My App"}),Je("p",{children:"Please sign-in:"}),Ti("button",{className:"button",onClick:t,children:[Je("i",{className:"fab fa-google"}),"Sign in with google"]})]})}function qee(){mt.exports.useContext(Rl);const e=mt.exports.useContext(dg).user;return Ti(BN,{children:[Je("div",{className:"App",children:e?"you are logged in!":"not logged in!"}),e?"Logged":Je(zee,{}),Je(jee,{}),Je($ee,{}),Je(Hee,{})]})}var vp;typeof window<"u"?vp=window:typeof l0<"u"?vp=l0:typeof self<"u"?vp=self:vp={};var F=vp;const Wee={},Gee=Object.freeze(Object.defineProperty({__proto__:null,default:Wee},Symbol.toStringTag,{value:"Module"})),Kee=AN(Gee);var i2=typeof l0<"u"?l0:typeof window<"u"?window:{},Xee=Kee,yp;typeof document<"u"?yp=document:(yp=i2["__GLOBAL_DOCUMENT_CACHE@4"],yp||(yp=i2["__GLOBAL_DOCUMENT_CACHE@4"]=Xee));var de=yp;function Or(){return Or=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Or.apply(this,arguments)}const Yee=Object.freeze(Object.defineProperty({__proto__:null,default:Or},Symbol.toStringTag,{value:"Module"}));var OE={exports:{}};(function(t,e){function n(c){if(c&&typeof c=="object"){var d=c.which||c.keyCode||c.charCode;d&&(c=d)}if(typeof c=="number")return a[c];var f=String(c),m=i[f.toLowerCase()];if(m)return m;var m=r[f.toLowerCase()];if(m)return m;if(f.length===1)return f.charCodeAt(0)}n.isEventKey=function(d,f){if(d&&typeof d=="object"){var m=d.which||d.keyCode||d.charCode;if(m==null)return!1;if(typeof f=="string"){var g=i[f.toLowerCase()];if(g)return g===m;var g=r[f.toLowerCase()];if(g)return g===m}else if(typeof f=="number")return f===m;return!1}},e=t.exports=n;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(s=97;s<123;s++)i[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)i[s-48]=s;for(s=1;s<13;s++)i["f"+s]=s+111;for(s=0;s<10;s++)i["numpad "+s]=s+96;var a=e.names=e.title={};for(s in i)a[i[s]]=s;for(var u in r)i[u]=r[u]})(OE,OE.exports);const Fe=OE.exports;function Ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cm(t,e){return Cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Cm(t,e)}function fe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Cm(t,e)}var Qee=Jee;function Jee(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(r){i=r}return[i,n]}var FT={exports:{}};const Zee=AN(Yee);var ete=nte,tte=Object.prototype.toString;function nte(t){if(!t)return!1;var e=tte.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var ite=F,rte=function(e,n){return n===void 0&&(n=!1),function(i,r,s){if(i){e(i);return}if(r.statusCode>=400&&r.statusCode<=599){var a=s;if(n)if(ite.TextDecoder){var u=ste(r.headers&&r.headers["content-type"]);try{a=new TextDecoder(u).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function ste(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),r=i[0],s=i[1];return r.trim()==="charset"?s.trim():e},"utf-8")}var ate=rte,x6=F,ote=Zee,ute=ete;Hs.httpHandler=ate;var lte=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(i){var r=i.indexOf(":"),s=i.slice(0,r).trim().toLowerCase(),a=i.slice(r+1).trim();typeof n[s]>"u"?n[s]=a:Array.isArray(n[s])?n[s].push(a):n[s]=[n[s],a]}),n};FT.exports=Hs;FT.exports.default=Hs;Hs.XMLHttpRequest=x6.XMLHttpRequest||fte;Hs.XDomainRequest="withCredentials"in new Hs.XMLHttpRequest?Hs.XMLHttpRequest:x6.XDomainRequest;cte(["get","put","post","patch","head","delete"],function(t){Hs[t==="delete"?"del":t]=function(e,n,i){return n=C6(e,n,i),n.method=t.toUpperCase(),I6(n)}});function cte(t,e){for(var n=0;n<t.length;n++)e(t[n])}function dte(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function C6(t,e,n){var i=t;return ute(e)?(n=e,typeof t=="string"&&(i={uri:t})):i=ote({},e,{uri:t}),i.callback=n,i}function Hs(t,e,n){return e=C6(t,e,n),I6(e)}function I6(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,n=function(O,N,B){e||(e=!0,t.callback(O,N,B))};function i(){u.readyState===4&&setTimeout(a,0)}function r(){var P=void 0;if(u.response?P=u.response:P=u.responseText||hte(u),b)try{P=JSON.parse(P)}catch{}return P}function s(P){return clearTimeout(x),P instanceof Error||(P=new Error(""+(P||"Unknown XMLHttpRequest Error"))),P.statusCode=0,n(P,k)}function a(){if(!d){var P;clearTimeout(x),t.useXDR&&u.status===void 0?P=200:P=u.status===1223?204:u.status;var O=k,N=null;return P!==0?(O={body:r(),statusCode:P,method:m,headers:{},url:f,rawRequest:u},u.getAllResponseHeaders&&(O.headers=lte(u.getAllResponseHeaders()))):N=new Error("Internal XMLHttpRequest Error"),n(N,O,O.body)}}var u=t.xhr||null;u||(t.cors||t.useXDR?u=new Hs.XDomainRequest:u=new Hs.XMLHttpRequest);var c,d,f=u.url=t.uri||t.url,m=u.method=t.method||"GET",g=t.body||t.data,E=u.headers=t.headers||{},I=!!t.sync,b=!1,x,k={body:void 0,headers:{},statusCode:0,method:m,url:f,rawRequest:u};if("json"in t&&t.json!==!1&&(b=!0,E.accept||E.Accept||(E.Accept="application/json"),m!=="GET"&&m!=="HEAD"&&(E["content-type"]||E["Content-Type"]||(E["Content-Type"]="application/json"),g=JSON.stringify(t.json===!0?g:t.json))),u.onreadystatechange=i,u.onload=a,u.onerror=s,u.onprogress=function(){},u.onabort=function(){d=!0},u.ontimeout=s,u.open(m,f,!I,t.username,t.password),I||(u.withCredentials=!!t.withCredentials),!I&&t.timeout>0&&(x=setTimeout(function(){if(!d){d=!0,u.abort("timeout");var P=new Error("XMLHttpRequest timeout");P.code="ETIMEDOUT",s(P)}},t.timeout)),u.setRequestHeader)for(c in E)E.hasOwnProperty(c)&&u.setRequestHeader(c,E[c]);else if(t.headers&&!dte(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(u),u.send(g||null),u}function hte(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function fte(){}var LE={exports:{}},r2=de,LI=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function or(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}or.prototype=LI(Error.prototype);or.prototype.constructor=or;or.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function NI(t){function e(i,r,s,a){return(i|0)*3600+(r|0)*60+(s|0)+(a|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function Vp(){this.values=LI(null)}Vp.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function _p(t,e,n,i){var r=i?t.split(i):[t];for(var s in r)if(typeof r[s]=="string"){var a=r[s].split(n);if(a.length===2){var u=a[0].trim(),c=a[1].trim();e(u,c)}}}function pte(t,e,n){var i=t;function r(){var u=NI(t);if(u===null)throw new or(or.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),u}function s(u,c){var d=new Vp;_p(u,function(f,m){switch(f){case"region":for(var g=n.length-1;g>=0;g--)if(n[g].id===m){d.set(f,n[g].region);break}break;case"vertical":d.alt(f,m,["rl","lr"]);break;case"line":var E=m.split(","),I=E[0];d.integer(f,I),d.percent(f,I)&&d.set("snapToLines",!1),d.alt(f,I,["auto"]),E.length===2&&d.alt("lineAlign",E[1],["start","center","end"]);break;case"position":E=m.split(","),d.percent(f,E[0]),E.length===2&&d.alt("positionAlign",E[1],["start","center","end"]);break;case"size":d.percent(f,m);break;case"align":d.alt(f,m,["start","center","end","left","right"]);break}},/:/,/\s/),c.region=d.get("region",null),c.vertical=d.get("vertical","");try{c.line=d.get("line","auto")}catch{}c.lineAlign=d.get("lineAlign","start"),c.snapToLines=d.get("snapToLines",!0),c.size=d.get("size",100);try{c.align=d.get("align","center")}catch{c.align=d.get("align","middle")}try{c.position=d.get("position","auto")}catch{c.position=d.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},c.align)}c.positionAlign=d.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},c.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),t.substr(0,3)!=="-->")throw new or(or.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),a(),e.endTime=r(),a(),s(t,e)}var OS=r2.createElement&&r2.createElement("textarea"),mte={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},s2={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},gte={v:"title",lang:"lang"},a2={rt:"ruby"};function k6(t,e){function n(){if(!e)return null;function I(x){return e=e.substr(x.length),x}var b=e.match(/^([^<]*)(<[^>]*>?)?/);return I(b[1]?b[1]:b[2])}function i(I){return OS.innerHTML=I,I=OS.textContent,OS.textContent="",I}function r(I,b){return!a2[b.localName]||a2[b.localName]===I.localName}function s(I,b){var x=mte[I];if(!x)return null;var k=t.document.createElement(x),P=gte[I];return P&&b&&(k[P]=b.trim()),k}for(var a=t.document.createElement("div"),u=a,c,d=[];(c=n())!==null;){if(c[0]==="<"){if(c[1]==="/"){d.length&&d[d.length-1]===c.substr(2).replace(">","")&&(d.pop(),u=u.parentNode);continue}var f=NI(c.substr(1,c.length-2)),m;if(f){m=t.document.createProcessingInstruction("timestamp",f),u.appendChild(m);continue}var g=c.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!g||(m=s(g[1],g[3]),!m)||!r(u,m))continue;if(g[2]){var E=g[2].split(".");E.forEach(function(I){var b=/^bg_/.test(I),x=b?I.slice(3):I;if(s2.hasOwnProperty(x)){var k=b?"background-color":"color",P=s2[x];m.style[k]=P}}),m.className=E.join(" ")}d.push(g[1]),u.appendChild(m),u=m;continue}u.appendChild(t.document.createTextNode(i(c)))}return a}var o2=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function vte(t){for(var e=0;e<o2.length;e++){var n=o2[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function yte(t){var e=[],n="",i;if(!t||!t.childNodes)return"ltr";function r(u,c){for(var d=c.childNodes.length-1;d>=0;d--)u.push(c.childNodes[d])}function s(u){if(!u||!u.length)return null;var c=u.pop(),d=c.textContent||c.innerText;if(d){var f=d.match(/^.*(\n|\r)/);return f?(u.length=0,f[0]):d}if(c.tagName==="ruby")return s(u);if(c.childNodes)return r(u,c),s(u)}for(r(e,t);n=s(e);)for(var a=0;a<n.length;a++)if(i=n.charCodeAt(a),vte(i))return"rtl";return"ltr"}function _te(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)n[r].mode==="showing"&&i++;return++i*-1}function UT(){}UT.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};UT.prototype.formatStyle=function(t,e){return t===0?0:t+e};function s_(t,e,n){UT.call(this),this.cue=e,this.cueDiv=k6(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:yte(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}s_.prototype=LI(UT.prototype);s_.prototype.constructor=s_;function wi(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}wi.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};wi.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};wi.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};wi.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};wi.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};wi.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)};wi.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};wi.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r};function Tte(t,e,n,i){function r(x,k){for(var P,O=new wi(x),N=1,B=0;B<k.length;B++){for(;x.overlapsOppositeAxis(n,k[B])||x.within(n)&&x.overlapsAny(i);)x.move(k[B]);if(x.within(n))return x;var q=x.intersectPercentage(n);N>q&&(P=new wi(x),N=q),x=new wi(O)}return P||O}var s=new wi(e),a=e.cue,u=_te(a),c=[];if(a.snapToLines){var d;switch(a.vertical){case"":c=["+y","-y"],d="height";break;case"rl":c=["+x","-x"],d="width";break;case"lr":c=["-x","+x"],d="width";break}var f=s.lineHeight,m=f*Math.round(u),g=n[d]+f,E=c[0];Math.abs(m)>g&&(m=m<0?-1:1,m*=Math.ceil(g/f)*f),u<0&&(m+=a.vertical===""?n.height:n.width,c=c.reverse()),s.move(E,m)}else{var I=s.lineHeight/n.height*100;switch(a.lineAlign){case"center":u-=I/2;break;case"end":u-=I;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(u,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(u,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(u,"%")});break}c=["+y","-x","+x","-y"],s=new wi(e)}var b=r(s,c);e.move(b.toCSSCompatValues(n))}function vh(){}vh.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};vh.convertCueToDOMTree=function(t,e){return!t||!e?null:k6(t,e)};var bte=.05,wte="sans-serif",Ste="1.5%";vh.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=Ste,n.appendChild(i);function r(f){for(var m=0;m<f.length;m++)if(f[m].hasBeenReset||!f[m].displayState)return!0;return!1}if(!r(e)){for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState);return}var a=[],u=wi.getSimpleBoxPosition(i),c=Math.round(u.height*bte*100)/100,d={font:c+"px "+wte};(function(){for(var f,m,g=0;g<e.length;g++)m=e[g],f=new s_(t,m,d),i.appendChild(f.div),Tte(t,f,u,a),m.displayState=f.div,a.push(wi.getSimpleBoxPosition(f))})()};vh.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};vh.Parser.prototype={reportOrThrowError:function(t){if(t instanceof or)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var f=e.buffer,m=0;m<f.length&&f[m]!=="\r"&&f[m]!==`
`;)++m;var g=f.substr(0,m);return f[m]==="\r"&&++m,f[m]===`
`&&++m,e.buffer=f.substr(m),g}function i(f){var m=new Vp;if(_p(f,function(E,I){switch(E){case"id":m.set(E,I);break;case"width":m.percent(E,I);break;case"lines":m.integer(E,I);break;case"regionanchor":case"viewportanchor":var b=I.split(",");if(b.length!==2)break;var x=new Vp;if(x.percent("x",b[0]),x.percent("y",b[1]),!x.has("x")||!x.has("y"))break;m.set(E+"X",x.get("x")),m.set(E+"Y",x.get("y"));break;case"scroll":m.alt(E,I,["up"]);break}},/=/,/\s/),m.has("id")){var g=new(e.vttjs.VTTRegion||e.window.VTTRegion);g.width=m.get("width",100),g.lines=m.get("lines",3),g.regionAnchorX=m.get("regionanchorX",0),g.regionAnchorY=m.get("regionanchorY",100),g.viewportAnchorX=m.get("viewportanchorX",0),g.viewportAnchorY=m.get("viewportanchorY",100),g.scroll=m.get("scroll",""),e.onregion&&e.onregion(g),e.regionList.push({id:m.get("id"),region:g})}}function r(f){var m=new Vp;_p(f,function(g,E){switch(g){case"MPEGT":m.integer(g+"S",E);break;case"LOCA":m.set(g+"L",NI(E));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:m.get("MPEGTS"),LOCAL:m.get("LOCAL")})}function s(f){f.match(/X-TIMESTAMP-MAP/)?_p(f,function(m,g){switch(m){case"X-TIMESTAMP-MAP":r(g);break}},/=/):_p(f,function(m,g){switch(m){case"Region":i(g);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=n();var u=a.match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new or(or.Errors.BadSignature);e.state="HEADER"}for(var c=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(c?c=!1:a=n(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{pte(a,e.cue,e.regionList)}catch(f){e.reportOrThrowError(f),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=a.indexOf("-->")!==-1;if(!a||d&&(c=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(f){e.reportOrThrowError(f),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new or(or.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Ete=vh,xte="auto",Cte={"":1,lr:1,rl:1},Ite={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function kte(t){if(typeof t!="string")return!1;var e=Cte[t.toLowerCase()];return e?t.toLowerCase():!1}function LS(t){if(typeof t!="string")return!1;var e=Ite[t.toLowerCase()];return e?t.toLowerCase():!1}function A6(t,e,n){this.hasBeenReset=!1;var i="",r=!1,s=t,a=e,u=n,c=null,d="",f=!0,m="auto",g="start",E="auto",I="auto",b=100,x="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(k){i=""+k}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(k){r=!!k}},startTime:{enumerable:!0,get:function(){return s},set:function(k){if(typeof k!="number")throw new TypeError("Start time must be set to a number.");s=k,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(k){if(typeof k!="number")throw new TypeError("End time must be set to a number.");a=k,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(k){u=""+k,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(k){c=k,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(k){var P=kte(k);if(P===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=P,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(k){f=!!k,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return m},set:function(k){if(typeof k!="number"&&k!==xte)throw new SyntaxError("Line: an invalid number or illegal string was specified.");m=k,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return g},set:function(k){var P=LS(k);P?(g=P,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return E},set:function(k){if(k<0||k>100)throw new Error("Position must be between 0 and 100.");E=k,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return I},set:function(k){var P=LS(k);P?(I=P,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(k){if(k<0||k>100)throw new Error("Size must be between 0 and 100.");b=k,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return x},set:function(k){var P=LS(k);if(!P)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");x=P,this.hasBeenReset=!0}}}),this.displayState=void 0}A6.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Ate=A6,Pte={"":!0,up:!0};function Dte(t){if(typeof t!="string")return!1;var e=Pte[t.toLowerCase()];return e?t.toLowerCase():!1}function ep(t){return typeof t=="number"&&t>=0&&t<=100}function Rte(){var t=100,e=3,n=0,i=100,r=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(u){if(!ep(u))throw new Error("Width must be between 0 and 100.");t=u}},lines:{enumerable:!0,get:function(){return e},set:function(u){if(typeof u!="number")throw new TypeError("Lines must be set to a number.");e=u}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(u){if(!ep(u))throw new Error("RegionAnchorX must be between 0 and 100.");i=u}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(u){if(!ep(u))throw new Error("RegionAnchorY must be between 0 and 100.");n=u}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(u){if(!ep(u))throw new Error("ViewportAnchorY must be between 0 and 100.");s=u}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(u){if(!ep(u))throw new Error("ViewportAnchorX must be between 0 and 100.");r=u}},scroll:{enumerable:!0,get:function(){return a},set:function(u){var c=Dte(u);c===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=c}}})}var Ote=Rte,Ha=F,Ol=LE.exports={WebVTT:Ete,VTTCue:Ate,VTTRegion:Ote};Ha.vttjs=Ol;Ha.WebVTT=Ol.WebVTT;var Lte=Ol.VTTCue,Nte=Ol.VTTRegion,Mte=Ha.VTTCue,Fte=Ha.VTTRegion;Ol.shim=function(){Ha.VTTCue=Lte,Ha.VTTRegion=Nte};Ol.restore=function(){Ha.VTTCue=Mte,Ha.VTTRegion=Fte};Ha.VTTCue||Ol.shim();function Ute(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i0(t,e,n){return Ute()?i0=Reflect.construct.bind():i0=function(r,s,a){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(r,u),d=new c;return a&&Cm(d,a.prototype),d},i0.apply(null,arguments)}function Bte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cm(t,e)}var P6={exports:{}};(function(t,e){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,u={buildAbsoluteURL:function(c,d,f){if(f=f||{},c=c.trim(),d=d.trim(),!d){if(!f.alwaysNormalize)return c;var m=u.parseURL(c);if(!m)throw new Error("Error trying to parse base URL.");return m.path=u.normalizePath(m.path),u.buildURLFromParts(m)}var g=u.parseURL(d);if(!g)throw new Error("Error trying to parse relative URL.");if(g.scheme)return f.alwaysNormalize?(g.path=u.normalizePath(g.path),u.buildURLFromParts(g)):d;var E=u.parseURL(c);if(!E)throw new Error("Error trying to parse base URL.");if(!E.netLoc&&E.path&&E.path[0]!=="/"){var I=r.exec(E.path);E.netLoc=I[1],E.path=I[2]}E.netLoc&&!E.path&&(E.path="/");var b={scheme:E.scheme,netLoc:g.netLoc,path:null,params:g.params,query:g.query,fragment:g.fragment};if(!g.netLoc&&(b.netLoc=E.netLoc,g.path[0]!=="/"))if(!g.path)b.path=E.path,g.params||(b.params=E.params,g.query||(b.query=E.query));else{var x=E.path,k=x.substring(0,x.lastIndexOf("/")+1)+g.path;b.path=u.normalizePath(k)}return b.path===null&&(b.path=f.alwaysNormalize?u.normalizePath(g.path):g.path),u.buildURLFromParts(b)},parseURL:function(c){var d=i.exec(c);return d?{scheme:d[1]||"",netLoc:d[2]||"",path:d[3]||"",params:d[4]||"",query:d[5]||"",fragment:d[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(s,"");c.length!==(c=c.replace(a,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}};t.exports=u})()})(P6);const u2=P6.exports;var l2="http://example.com",BT=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=F.location&&F.location.href||"");var i=typeof F.URL=="function",r=/^\/\//.test(e),s=!F.location&&!/\/\//i.test(e);if(i?e=new F.URL(e,F.location||l2):/\/\//i.test(e)||(e=u2.buildAbsoluteURL(F.location&&F.location.href||"",e)),i){var a=new URL(n,e);return s?a.href.slice(l2.length):r?a.href.slice(a.protocol.length):a.href}return u2.buildAbsoluteURL(e,n)},MI=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,r){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(r)},e.off=function(i,r){if(!this.listeners[i])return!1;var s=this.listeners[i].indexOf(r);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(s,1),s>-1},e.trigger=function(i){var r=this.listeners[i];if(!!r)if(arguments.length===2)for(var s=r.length,a=0;a<s;++a)r[a].call(this,arguments[1]);else for(var u=Array.prototype.slice.call(arguments,1),c=r.length,d=0;d<c;++d)r[d].apply(this,u)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(r){i.push(r)})},t}(),jte=function(e){return F.atob?F.atob(e):Buffer.from(e,"base64").toString("binary")};function D6(t){for(var e=jte(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}var Vte=function(t){fe(e,t);function e(){var i;return i=t.call(this)||this,i.buffer="",i}var n=e.prototype;return n.push=function(r){var s;for(this.buffer+=r,s=this.buffer.indexOf(`
`);s>-1;s=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,s)),this.buffer=this.buffer.substring(s+1)},e}(MI),$te=String.fromCharCode(9),NS=function(e){var n=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return n[1]&&(i.length=parseInt(n[1],10)),n[2]&&(i.offset=parseInt(n[2],10)),i},Hte=function(){var e="[^=]*",n='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+n+")";return new RegExp("(?:^|,)("+i+")")},Xr=function(e){for(var n=e.split(Hte()),i={},r=n.length,s;r--;)n[r]!==""&&(s=/([^=]*)=(.*)/.exec(n[r]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),i[s[0]]=s[1]);return i},zte=function(t){fe(e,t);function e(){var i;return i=t.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var n=e.prototype;return n.push=function(r){var s=this,a,u;if(r=r.trim(),r.length!==0){if(r[0]!=="#"){this.trigger("data",{type:"uri",uri:r});return}var c=this.tagMappers.reduce(function(d,f){var m=f(r);return m===r?d:d.concat([m])},[r]);c.forEach(function(d){for(var f=0;f<s.customParsers.length;f++)if(s.customParsers[f].call(s,d))return;if(d.indexOf("#EXT")!==0){s.trigger("data",{type:"comment",text:d.slice(1)});return}if(d=d.replace("\r",""),a=/^#EXTM3U/.exec(d),a){s.trigger("data",{type:"tag",tagType:"m3u"});return}if(a=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(d),a){u={type:"tag",tagType:"inf"},a[1]&&(u.duration=parseFloat(a[1])),a[2]&&(u.title=a[2]),s.trigger("data",u);return}if(a=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(d),a){u={type:"tag",tagType:"targetduration"},a[1]&&(u.duration=parseInt(a[1],10)),s.trigger("data",u);return}if(a=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(d),a){u={type:"tag",tagType:"version"},a[1]&&(u.version=parseInt(a[1],10)),s.trigger("data",u);return}if(a=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(d),a){u={type:"tag",tagType:"media-sequence"},a[1]&&(u.number=parseInt(a[1],10)),s.trigger("data",u);return}if(a=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(d),a){u={type:"tag",tagType:"discontinuity-sequence"},a[1]&&(u.number=parseInt(a[1],10)),s.trigger("data",u);return}if(a=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(d),a){u={type:"tag",tagType:"playlist-type"},a[1]&&(u.playlistType=a[1]),s.trigger("data",u);return}if(a=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(d),a){u=Or(NS(a[1]),{type:"tag",tagType:"byterange"}),s.trigger("data",u);return}if(a=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(d),a){u={type:"tag",tagType:"allow-cache"},a[1]&&(u.allowed=!/NO/.test(a[1])),s.trigger("data",u);return}if(a=/^#EXT-X-MAP:?(.*)$/.exec(d),a){if(u={type:"tag",tagType:"map"},a[1]){var m=Xr(a[1]);m.URI&&(u.uri=m.URI),m.BYTERANGE&&(u.byterange=NS(m.BYTERANGE))}s.trigger("data",u);return}if(a=/^#EXT-X-STREAM-INF:?(.*)$/.exec(d),a){if(u={type:"tag",tagType:"stream-inf"},a[1]){if(u.attributes=Xr(a[1]),u.attributes.RESOLUTION){var g=u.attributes.RESOLUTION.split("x"),E={};g[0]&&(E.width=parseInt(g[0],10)),g[1]&&(E.height=parseInt(g[1],10)),u.attributes.RESOLUTION=E}u.attributes.BANDWIDTH&&(u.attributes.BANDWIDTH=parseInt(u.attributes.BANDWIDTH,10)),u.attributes["PROGRAM-ID"]&&(u.attributes["PROGRAM-ID"]=parseInt(u.attributes["PROGRAM-ID"],10))}s.trigger("data",u);return}if(a=/^#EXT-X-MEDIA:?(.*)$/.exec(d),a){u={type:"tag",tagType:"media"},a[1]&&(u.attributes=Xr(a[1])),s.trigger("data",u);return}if(a=/^#EXT-X-ENDLIST/.exec(d),a){s.trigger("data",{type:"tag",tagType:"endlist"});return}if(a=/^#EXT-X-DISCONTINUITY/.exec(d),a){s.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(a=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(d),a){u={type:"tag",tagType:"program-date-time"},a[1]&&(u.dateTimeString=a[1],u.dateTimeObject=new Date(a[1])),s.trigger("data",u);return}if(a=/^#EXT-X-KEY:?(.*)$/.exec(d),a){u={type:"tag",tagType:"key"},a[1]&&(u.attributes=Xr(a[1]),u.attributes.IV&&(u.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(u.attributes.IV=u.attributes.IV.substring(2)),u.attributes.IV=u.attributes.IV.match(/.{8}/g),u.attributes.IV[0]=parseInt(u.attributes.IV[0],16),u.attributes.IV[1]=parseInt(u.attributes.IV[1],16),u.attributes.IV[2]=parseInt(u.attributes.IV[2],16),u.attributes.IV[3]=parseInt(u.attributes.IV[3],16),u.attributes.IV=new Uint32Array(u.attributes.IV))),s.trigger("data",u);return}if(a=/^#EXT-X-START:?(.*)$/.exec(d),a){u={type:"tag",tagType:"start"},a[1]&&(u.attributes=Xr(a[1]),u.attributes["TIME-OFFSET"]=parseFloat(u.attributes["TIME-OFFSET"]),u.attributes.PRECISE=/YES/.test(u.attributes.PRECISE)),s.trigger("data",u);return}if(a=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(d),a){u={type:"tag",tagType:"cue-out-cont"},a[1]?u.data=a[1]:u.data="",s.trigger("data",u);return}if(a=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(d),a){u={type:"tag",tagType:"cue-out"},a[1]?u.data=a[1]:u.data="",s.trigger("data",u);return}if(a=/^#EXT-X-CUE-IN:?(.*)?$/.exec(d),a){u={type:"tag",tagType:"cue-in"},a[1]?u.data=a[1]:u.data="",s.trigger("data",u);return}if(a=/^#EXT-X-SKIP:(.*)$/.exec(d),a&&a[1]){u={type:"tag",tagType:"skip"},u.attributes=Xr(a[1]),u.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(u.attributes["SKIPPED-SEGMENTS"]=parseInt(u.attributes["SKIPPED-SEGMENTS"],10)),u.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(u.attributes["RECENTLY-REMOVED-DATERANGES"]=u.attributes["RECENTLY-REMOVED-DATERANGES"].split($te)),s.trigger("data",u);return}if(a=/^#EXT-X-PART:(.*)$/.exec(d),a&&a[1]){u={type:"tag",tagType:"part"},u.attributes=Xr(a[1]),["DURATION"].forEach(function(I){u.attributes.hasOwnProperty(I)&&(u.attributes[I]=parseFloat(u.attributes[I]))}),["INDEPENDENT","GAP"].forEach(function(I){u.attributes.hasOwnProperty(I)&&(u.attributes[I]=/YES/.test(u.attributes[I]))}),u.attributes.hasOwnProperty("BYTERANGE")&&(u.attributes.byterange=NS(u.attributes.BYTERANGE)),s.trigger("data",u);return}if(a=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(d),a&&a[1]){u={type:"tag",tagType:"server-control"},u.attributes=Xr(a[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(I){u.attributes.hasOwnProperty(I)&&(u.attributes[I]=parseFloat(u.attributes[I]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(I){u.attributes.hasOwnProperty(I)&&(u.attributes[I]=/YES/.test(u.attributes[I]))}),s.trigger("data",u);return}if(a=/^#EXT-X-PART-INF:(.*)$/.exec(d),a&&a[1]){u={type:"tag",tagType:"part-inf"},u.attributes=Xr(a[1]),["PART-TARGET"].forEach(function(I){u.attributes.hasOwnProperty(I)&&(u.attributes[I]=parseFloat(u.attributes[I]))}),s.trigger("data",u);return}if(a=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(d),a&&a[1]){u={type:"tag",tagType:"preload-hint"},u.attributes=Xr(a[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(I){if(u.attributes.hasOwnProperty(I)){u.attributes[I]=parseInt(u.attributes[I],10);var b=I==="BYTERANGE-LENGTH"?"length":"offset";u.attributes.byterange=u.attributes.byterange||{},u.attributes.byterange[b]=u.attributes[I],delete u.attributes[I]}}),s.trigger("data",u);return}if(a=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(d),a&&a[1]){u={type:"tag",tagType:"rendition-report"},u.attributes=Xr(a[1]),["LAST-MSN","LAST-PART"].forEach(function(I){u.attributes.hasOwnProperty(I)&&(u.attributes[I]=parseInt(u.attributes[I],10))}),s.trigger("data",u);return}s.trigger("data",{type:"tag",data:d.slice(4)})})}},n.addParser=function(r){var s=this,a=r.expression,u=r.customType,c=r.dataParser,d=r.segment;typeof c!="function"&&(c=function(m){return m}),this.customParsers.push(function(f){var m=a.exec(f);if(m)return s.trigger("data",{type:"custom",data:c(f),customType:u,segment:d}),!0})},n.addTagMapper=function(r){var s=r.expression,a=r.map,u=function(d){return s.test(d)?a(d):d};this.tagMappers.push(u)},e}(MI),qte=function(e){return e.toLowerCase().replace(/-(\w)/g,function(n){return n[1].toUpperCase()})},Mc=function(e){var n={};return Object.keys(e).forEach(function(i){n[qte(i)]=e[i]}),n},MS=function(e){var n=e.serverControl,i=e.targetDuration,r=e.partTargetDuration;if(!!n){var s="#EXT-X-SERVER-CONTROL",a="holdBack",u="partHoldBack",c=i&&i*3,d=r&&r*2;i&&!n.hasOwnProperty(a)&&(n[a]=c,this.trigger("info",{message:s+" defaulting HOLD-BACK to targetDuration * 3 ("+c+")."})),c&&n[a]<c&&(this.trigger("warn",{message:s+" clamping HOLD-BACK ("+n[a]+") to targetDuration * 3 ("+c+")"}),n[a]=c),r&&!n.hasOwnProperty(u)&&(n[u]=r*3,this.trigger("info",{message:s+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+n[u]+")."})),r&&n[u]<d&&(this.trigger("warn",{message:s+" clamping PART-HOLD-BACK ("+n[u]+") to partTargetDuration * 2 ("+d+")."}),n[u]=d)}},Wte=function(t){fe(e,t);function e(){var i;i=t.call(this)||this,i.lineStream=new Vte,i.parseStream=new zte,i.lineStream.pipe(i.parseStream);var r=Ne(i),s=[],a={},u,c,d=!1,f=function(){},m={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},g="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",E=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var I=0,b=0;return i.on("end",function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&u&&(a.map=u),!a.key&&c&&(a.key=c),!a.timeline&&typeof E=="number"&&(a.timeline=E),i.manifest.preloadSegment=a)}),i.parseStream.on("data",function(x){var k,P;({tag:function(){({version:function(){x.version&&(this.manifest.version=x.version)},"allow-cache":function(){this.manifest.allowCache=x.allowed,"allowed"in x||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var B={};"length"in x&&(a.byterange=B,B.length=x.length,"offset"in x||(x.offset=I)),"offset"in x&&(a.byterange=B,B.offset=x.offset),I=B.offset+B.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),x.duration>0&&(a.duration=x.duration),x.duration===0&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(!x.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(x.attributes.METHOD==="NONE"){c=null;return}if(!x.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(x.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:x.attributes};return}if(x.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:x.attributes.URI};return}if(x.attributes.KEYFORMAT===g){var B=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(B.indexOf(x.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(x.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),x.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(x.attributes.KEYID&&x.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:x.attributes.KEYFORMAT,keyId:x.attributes.KEYID.substring(2)},pssh:D6(x.attributes.URI.split(",")[1])};return}x.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),c={method:x.attributes.METHOD||"AES-128",uri:x.attributes.URI},typeof x.attributes.IV<"u"&&(c.iv=x.attributes.IV)},"media-sequence":function(){if(!isFinite(x.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+x.number});return}this.manifest.mediaSequence=x.number},"discontinuity-sequence":function(){if(!isFinite(x.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+x.number});return}this.manifest.discontinuitySequence=x.number,E=x.number},"playlist-type":function(){if(!/VOD|EVENT/.test(x.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+x.playlist});return}this.manifest.playlistType=x.playlistType},map:function(){u={},x.uri&&(u.uri=x.uri),x.byterange&&(u.byterange=x.byterange),c&&(u.key=c)},"stream-inf":function(){if(this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||m,!x.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}a.attributes||(a.attributes={}),Or(a.attributes,x.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||m,!(x.attributes&&x.attributes.TYPE&&x.attributes["GROUP-ID"]&&x.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var B=this.manifest.mediaGroups[x.attributes.TYPE];B[x.attributes["GROUP-ID"]]=B[x.attributes["GROUP-ID"]]||{},k=B[x.attributes["GROUP-ID"]],P={default:/yes/i.test(x.attributes.DEFAULT)},P.default?P.autoselect=!0:P.autoselect=/yes/i.test(x.attributes.AUTOSELECT),x.attributes.LANGUAGE&&(P.language=x.attributes.LANGUAGE),x.attributes.URI&&(P.uri=x.attributes.URI),x.attributes["INSTREAM-ID"]&&(P.instreamId=x.attributes["INSTREAM-ID"]),x.attributes.CHARACTERISTICS&&(P.characteristics=x.attributes.CHARACTERISTICS),x.attributes.FORCED&&(P.forced=/yes/i.test(x.attributes.FORCED)),k[x.attributes.NAME]=P},discontinuity:function(){E+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=x.dateTimeString,this.manifest.dateTimeObject=x.dateTimeObject),a.dateTimeString=x.dateTimeString,a.dateTimeObject=x.dateTimeObject},targetduration:function(){if(!isFinite(x.duration)||x.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+x.duration});return}this.manifest.targetDuration=x.duration,MS.call(this,this.manifest)},start:function(){if(!x.attributes||isNaN(x.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:x.attributes["TIME-OFFSET"],precise:x.attributes.PRECISE}},"cue-out":function(){a.cueOut=x.data},"cue-out-cont":function(){a.cueOutCont=x.data},"cue-in":function(){a.cueIn=x.data},skip:function(){this.manifest.skip=Mc(x.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",x.attributes,["SKIPPED-SEGMENTS"])},part:function(){var B=this;d=!0;var q=this.manifest.segments.length,$=Mc(x.attributes);a.parts=a.parts||[],a.parts.push($),$.byterange&&($.byterange.hasOwnProperty("offset")||($.byterange.offset=b),b=$.byterange.offset+$.byterange.length);var H=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+H+" for segment #"+q,x.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(K,G){K.hasOwnProperty("lastPart")||B.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+G+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var B=this.manifest.serverControl=Mc(x.attributes);B.hasOwnProperty("canBlockReload")||(B.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),MS.call(this,this.manifest),B.canSkipDateranges&&!B.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var B=this.manifest.segments.length,q=Mc(x.attributes),$=q.type&&q.type==="PART";a.preloadHints=a.preloadHints||[],a.preloadHints.push(q),q.byterange&&(q.byterange.hasOwnProperty("offset")||(q.byterange.offset=$?b:0,$&&(b=q.byterange.offset+q.byterange.length)));var H=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+H+" for segment #"+B,x.attributes,["TYPE","URI"]),!!q.type)for(var K=0;K<a.preloadHints.length-1;K++){var G=a.preloadHints[K];!G.type||G.type===q.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+H+" for segment #"+B+" has the same TYPE "+q.type+" as preload hint #"+K})}},"rendition-report":function(){var B=Mc(x.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(B);var q=this.manifest.renditionReports.length-1,$=["LAST-MSN","URI"];d&&$.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+q,x.attributes,$)},"part-inf":function(){this.manifest.partInf=Mc(x.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",x.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),MS.call(this,this.manifest)}}[x.tagType]||f).call(r)},uri:function(){a.uri=x.uri,s.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),c&&(a.key=c),a.timeline=E,u&&(a.map=u),b=0,a={}},comment:function(){},custom:function(){x.segment?(a.custom=a.custom||{},a.custom[x.customType]=x.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[x.customType]=x.data)}})[x.type].call(r)}),i}var n=e.prototype;return n.warnOnMissingAttributes_=function(r,s,a){var u=[];a.forEach(function(c){s.hasOwnProperty(c)||u.push(c)}),u.length&&this.trigger("warn",{message:r+" lacks required attribute(s): "+u.join(", ")})},n.push=function(r){this.lineStream.push(r)},n.end=function(){this.lineStream.push(`
`),this.trigger("end")},n.addParser=function(r){this.parseStream.addParser(r)},n.addTagMapper=function(r){this.parseStream.addTagMapper(r)},e}(MI),ll={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Gte=["video","audio","text"],c2=["Video","Audio","Text"],R6=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,r){var s=("00"+Number(i).toString(16)).slice(-2),a=("00"+Number(r).toString(16)).slice(-2);return"avc1."+s+"00"+a})},Cs=function(e){e===void 0&&(e="");var n=e.split(","),i=[];return n.forEach(function(r){r=r.trim();var s;Gte.forEach(function(a){var u=ll[a].exec(r.toLowerCase());if(!(!u||u.length<=1)){s=a;var c=r.substring(0,u[1].length),d=r.replace(c,"");i.push({type:c,details:d,mediaType:a})}}),s||i.push({type:r,details:"",mediaType:"unknown"})}),i},Kte=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var i=e.mediaGroups.AUDIO[n];if(!i)return null;for(var r in i){var s=i[r];if(s.default&&s.playlists)return Cs(s.playlists[0].attributes.CODECS)}return null},O6=function(e){return e===void 0&&(e=""),ll.audio.test(e.trim().toLowerCase())},Xte=function(e){return e===void 0&&(e=""),ll.text.test(e.trim().toLowerCase())},Im=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(s){return R6(s.trim())}),i="video";n.length===1&&O6(n[0])?i="audio":n.length===1&&Xte(n[0])&&(i="application");var r="mp4";return n.every(function(s){return ll.mp4.test(s)})?r="mp4":n.every(function(s){return ll.webm.test(s)})?r="webm":n.every(function(s){return ll.ogg.test(s)})&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},r0=function(e){return e===void 0&&(e=""),F.MediaSource&&F.MediaSource.isTypeSupported&&F.MediaSource.isTypeSupported(Im(e))||!1},FS=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<c2.length;i++){var r=c2[i];if(ll["muxer"+r].test(n))return!0}return!1})},d2="mp4a.40.2",Yte="avc1.4d400d",Qte=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Jte=/^application\/dash\+xml/i,L6=function(e){return Qte.test(e)?"hls":Jte.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},Zte=function(e){return e.toString(2).length},ene=function(e){return Math.ceil(Zte(e)/8)},N6=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},tne=function(e){return N6(e)},Ae=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!tne(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},zn=F.BigInt||Number,NE=[zn("0x1"),zn("0x100"),zn("0x10000"),zn("0x1000000"),zn("0x100000000"),zn("0x10000000000"),zn("0x1000000000000"),zn("0x100000000000000"),zn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var nne=function(e,n){var i=n===void 0?{}:n,r=i.signed,s=r===void 0?!1:r,a=i.le,u=a===void 0?!1:a;e=Ae(e);var c=u?"reduce":"reduceRight",d=e[c]?e[c]:Array.prototype[c],f=d.call(e,function(g,E,I){var b=u?I:Math.abs(I+1-e.length);return g+zn(E)*NE[b]},zn(0));if(s){var m=NE[e.length]/zn(2)-zn(1);f=zn(f),f>m&&(f-=m,f-=m,f-=zn(2))}return Number(f)},ine=function(e,n){var i=n===void 0?{}:n,r=i.le,s=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=zn(e);for(var a=ene(e),u=new Uint8Array(new ArrayBuffer(a)),c=0;c<a;c++){var d=s?c:Math.abs(c+1-u.length);u[d]=Number(e/NE[c]&zn(255)),e<0&&(u[d]=Math.abs(~u[d]),u[d]-=c===0?1:2)}return u},M6=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i},rne=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(u){return u&&(u.byteLength||u.length)&&typeof u!="string"}),n.length<=1)return Ae(n[0]);var r=n.reduce(function(u,c,d){return u+(c.byteLength||c.length)},0),s=new Uint8Array(r),a=0;return n.forEach(function(u){u=Ae(u),s.set(u,a),a+=u.byteLength}),s},Nt=function(e,n,i){var r=i===void 0?{}:i,s=r.offset,a=s===void 0?0:s,u=r.mask,c=u===void 0?[]:u;e=Ae(e),n=Ae(n);var d=n.every?n.every:Array.prototype.every;return n.length&&e.length-a>=n.length&&d.call(n,function(f,m){var g=c[m]?c[m]&e[a+m]:e[a+m];return f===g})},sne=function(e,n,i){n.forEach(function(r){for(var s in e.mediaGroups[r])for(var a in e.mediaGroups[r][s]){var u=e.mediaGroups[r][s][a];i(u,r,s,a)}})},cu={},du={};function ane(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if(e.call(void 0,r,i,t))return r}}function FI(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var F6=FI({HTML:"text/html",isHTML:function(t){return t===F6.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),U6=FI({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===U6.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});du.find=ane;du.freeze=FI;du.MIME_TYPE=F6;du.NAMESPACE=U6;var B6=du,zs=B6.find,km=B6.NAMESPACE;function one(t){return t!==""}function une(t){return t?t.split(/[\t\n\f\r ]+/).filter(one):[]}function lne(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function h2(t){if(!t)return[];var e=une(t);return Object.keys(e.reduce(lne,{}))}function cne(t){return function(e){return t&&t.indexOf(e)!==-1}}function hg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function Gi(t,e){var n=t.prototype;if(!(n instanceof e)){let r=function(){};var i=r;r.prototype=e.prototype,r=new r,hg(n,r),t.prototype=n=r}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var Ki={},rs=Ki.ELEMENT_NODE=1,qd=Ki.ATTRIBUTE_NODE=2,a_=Ki.TEXT_NODE=3,j6=Ki.CDATA_SECTION_NODE=4,V6=Ki.ENTITY_REFERENCE_NODE=5,dne=Ki.ENTITY_NODE=6,$6=Ki.PROCESSING_INSTRUCTION_NODE=7,H6=Ki.COMMENT_NODE=8,z6=Ki.DOCUMENT_NODE=9,q6=Ki.DOCUMENT_TYPE_NODE=10,za=Ki.DOCUMENT_FRAGMENT_NODE=11,hne=Ki.NOTATION_NODE=12,hi={},Fn={};hi.INDEX_SIZE_ERR=(Fn[1]="Index size error",1);hi.DOMSTRING_SIZE_ERR=(Fn[2]="DOMString size error",2);var Ui=hi.HIERARCHY_REQUEST_ERR=(Fn[3]="Hierarchy request error",3);hi.WRONG_DOCUMENT_ERR=(Fn[4]="Wrong document",4);hi.INVALID_CHARACTER_ERR=(Fn[5]="Invalid character",5);hi.NO_DATA_ALLOWED_ERR=(Fn[6]="No data allowed",6);hi.NO_MODIFICATION_ALLOWED_ERR=(Fn[7]="No modification allowed",7);var W6=hi.NOT_FOUND_ERR=(Fn[8]="Not found",8);hi.NOT_SUPPORTED_ERR=(Fn[9]="Not supported",9);var f2=hi.INUSE_ATTRIBUTE_ERR=(Fn[10]="Attribute in use",10);hi.INVALID_STATE_ERR=(Fn[11]="Invalid state",11);hi.SYNTAX_ERR=(Fn[12]="Syntax error",12);hi.INVALID_MODIFICATION_ERR=(Fn[13]="Invalid modification",13);hi.NAMESPACE_ERR=(Fn[14]="Invalid namespace",14);hi.INVALID_ACCESS_ERR=(Fn[15]="Invalid access",15);function nn(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Fn[t]),this.message=Fn[t],Error.captureStackTrace&&Error.captureStackTrace(this,nn);return n.code=t,e&&(this.message=this.message+": "+e),n}nn.prototype=Error.prototype;hg(hi,nn);function Da(){}Da.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)od(this[i],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Wd(t,e){this._node=t,this._refresh=e,UI(this)}function UI(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);r8(t,"length",n.length),hg(n,t),t._inc=e}}Wd.prototype.item=function(t){return UI(this),this[t]};Gi(Wd,Da);function o_(){}function G6(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function p2(t,e,n,i){if(i?e[G6(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&Y6(r,t,i),fne(r,t,n))}}function m2(t,e,n){var i=G6(e,n);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var s=t.ownerDocument;s&&(Y6(s,t,n),n.ownerElement=null)}}else throw new nn(W6,new Error(t.tagName+"@"+n))}o_.prototype={length:0,item:Da.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new nn(f2);var n=this.getNamedItem(t.nodeName);return p2(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new nn(f2);return n=this.getNamedItemNS(t.namespaceURI,t.localName),p2(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return m2(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return m2(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function K6(){}K6.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new fg;if(i.implementation=this,i.childNodes=new Da,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new jT;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}};function pt(){}pt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return u_(this,t,e)},replaceChild:function(t,e){u_(this,t,e,J6),e&&this.removeChild(e)},removeChild:function(t){return Q6(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return ME(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==a_&&t.nodeType==a_?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===t)return i}e=e.nodeType==qd?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==qd?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function X6(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}hg(Ki,pt);hg(Ki,pt.prototype);function Am(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Am(t,e))return!0;while(t=t.nextSibling)}function fg(){this.ownerDocument=this}function fne(t,e,n){t&&t._inc++;var i=n.namespaceURI;i===km.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function Y6(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;r===km.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function BI(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,s=0;r;)i[s++]=r,r=r.nextSibling;i.length=s,delete i[i.length]}}}function Q6(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,BI(t.ownerDocument,t),e}function pne(t){return t&&(t.nodeType===pt.DOCUMENT_NODE||t.nodeType===pt.DOCUMENT_FRAGMENT_NODE||t.nodeType===pt.ELEMENT_NODE)}function mne(t){return t&&(qs(t)||jI(t)||qa(t)||t.nodeType===pt.DOCUMENT_FRAGMENT_NODE||t.nodeType===pt.COMMENT_NODE||t.nodeType===pt.PROCESSING_INSTRUCTION_NODE)}function qa(t){return t&&t.nodeType===pt.DOCUMENT_TYPE_NODE}function qs(t){return t&&t.nodeType===pt.ELEMENT_NODE}function jI(t){return t&&t.nodeType===pt.TEXT_NODE}function g2(t,e){var n=t.childNodes||[];if(zs(n,qs)||qa(e))return!1;var i=zs(n,qa);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function v2(t,e){var n=t.childNodes||[];function i(s){return qs(s)&&s!==e}if(zs(n,i))return!1;var r=zs(n,qa);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function gne(t,e,n){if(!pne(t))throw new nn(Ui,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new nn(W6,"child not in parent");if(!mne(e)||qa(e)&&t.nodeType!==pt.DOCUMENT_NODE)throw new nn(Ui,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function vne(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===pt.DOCUMENT_FRAGMENT_NODE){var s=r.filter(qs);if(s.length>1||zs(r,jI))throw new nn(Ui,"More than one element or text in fragment");if(s.length===1&&!g2(t,n))throw new nn(Ui,"Element in fragment can not be inserted before doctype")}if(qs(e)&&!g2(t,n))throw new nn(Ui,"Only one element can be added and only after doctype");if(qa(e)){if(zs(i,qa))throw new nn(Ui,"Only one doctype is allowed");var a=zs(i,qs);if(n&&i.indexOf(a)<i.indexOf(n))throw new nn(Ui,"Doctype can only be inserted before an element");if(!n&&a)throw new nn(Ui,"Doctype can not be appended since element is present")}}function J6(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===pt.DOCUMENT_FRAGMENT_NODE){var s=r.filter(qs);if(s.length>1||zs(r,jI))throw new nn(Ui,"More than one element or text in fragment");if(s.length===1&&!v2(t,n))throw new nn(Ui,"Element in fragment can not be inserted before doctype")}if(qs(e)&&!v2(t,n))throw new nn(Ui,"Only one element can be added and only after doctype");if(qa(e)){let c=function(d){return qa(d)&&d!==n};var u=c;if(zs(i,c))throw new nn(Ui,"Only one doctype is allowed");var a=zs(i,qs);if(n&&i.indexOf(a)<i.indexOf(n))throw new nn(Ui,"Doctype can only be inserted before an element")}}function u_(t,e,n,i){gne(t,e,n),t.nodeType===pt.DOCUMENT_NODE&&(i||vne)(t,e,n);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===za){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var u=n?n.previousSibling:t.lastChild;s.previousSibling=u,a.nextSibling=n,u?u.nextSibling=s:t.firstChild=s,n==null?t.lastChild=a:n.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return BI(t.ownerDocument||t,t),e.nodeType==za&&(e.firstChild=e.lastChild=null),e}function yne(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,BI(t.ownerDocument,t,e),e}fg.prototype={nodeName:"#document",nodeType:z6,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==za){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return u_(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===rs&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Q6(this,t)},replaceChild:function(t,e){u_(this,t,e,J6),t.ownerDocument=this,e&&this.removeChild(e),qs(t)&&(this.documentElement=t)},importNode:function(t,e){return i8(this,t,e)},getElementById:function(t){var e=null;return Am(this.documentElement,function(n){if(n.nodeType==rs&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=h2(t);return new Wd(this,function(n){var i=[];return e.length>0&&Am(n.documentElement,function(r){if(r!==n&&r.nodeType===rs){var s=r.getAttribute("class");if(s){var a=t===s;if(!a){var u=h2(s);a=e.every(cne(u))}a&&i.push(r)}}}),i})},createElement:function(t){var e=new xl;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Da;var n=e.attributes=new o_;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new VT;return t.ownerDocument=this,t.childNodes=new Da,t},createTextNode:function(t){var e=new VI;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new $I;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new HI;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new qI;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new l_;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new zI;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new xl,i=e.split(":"),r=n.attributes=new o_;return n.childNodes=new Da,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new l_,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};Gi(fg,pt);function xl(){this._nsMap={}}xl.prototype={nodeType:rs,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===za?this.insertBefore(t,null):yne(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Wd(this,function(e){var n=[];return Am(e,function(i){i!==e&&i.nodeType==rs&&(t==="*"||i.tagName==t)&&n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new Wd(this,function(n){var i=[];return Am(n,function(r){r!==n&&r.nodeType===rs&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};fg.prototype.getElementsByTagName=xl.prototype.getElementsByTagName;fg.prototype.getElementsByTagNameNS=xl.prototype.getElementsByTagNameNS;Gi(xl,pt);function l_(){}l_.prototype.nodeType=qd;Gi(l_,pt);function pg(){}pg.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Fn[Ui])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}};Gi(pg,pt);function VI(){}VI.prototype={nodeName:"#text",nodeType:a_,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};Gi(VI,pg);function $I(){}$I.prototype={nodeName:"#comment",nodeType:H6};Gi($I,pg);function HI(){}HI.prototype={nodeName:"#cdata-section",nodeType:j6};Gi(HI,pg);function jT(){}jT.prototype.nodeType=q6;Gi(jT,pt);function Z6(){}Z6.prototype.nodeType=hne;Gi(Z6,pt);function e8(){}e8.prototype.nodeType=dne;Gi(e8,pt);function zI(){}zI.prototype.nodeType=V6;Gi(zI,pt);function VT(){}VT.prototype.nodeName="#document-fragment";VT.prototype.nodeType=za;Gi(VT,pt);function qI(){}qI.prototype.nodeType=$6;Gi(qI,pt);function t8(){}t8.prototype.serializeToString=function(t,e,n){return n8.call(t,e,n)};pt.prototype.toString=n8;function n8(t,e){var n=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,s=i.namespaceURI;if(s&&r==null){var r=i.lookupPrefix(s);if(r==null)var a=[{namespace:s,prefix:null}]}return od(this,n,t,e,a),n.join("")}function y2(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r||i==="xml"&&r===km.XML||r===km.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===i)return a.namespace!==r}return!0}function US(t,e,n){t.push(" ",e,'="',n.replace(/[<&"]/g,X6),'"')}function od(t,e,n,i,r){if(r||(r=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case rs:var s=t.attributes,a=s.length,k=t.firstChild,u=t.tagName;n=km.isHTML(t.namespaceURI)||n;var c=u;if(!n&&!t.prefix&&t.namespaceURI){for(var d,f=0;f<s.length;f++)if(s.item(f).name==="xmlns"){d=s.item(f).value;break}if(!d)for(var m=r.length-1;m>=0;m--){var g=r[m];if(g.prefix===""&&g.namespace===t.namespaceURI){d=g.namespace;break}}if(d!==t.namespaceURI)for(var m=r.length-1;m>=0;m--){var g=r[m];if(g.namespace===t.namespaceURI){g.prefix&&(c=g.prefix+":"+u);break}}}e.push("<",c);for(var E=0;E<a;E++){var I=s.item(E);I.prefix=="xmlns"?r.push({prefix:I.localName,namespace:I.value}):I.nodeName=="xmlns"&&r.push({prefix:"",namespace:I.value})}for(var E=0;E<a;E++){var I=s.item(E);if(y2(I,n,r)){var b=I.prefix||"",x=I.namespaceURI;US(e,b?"xmlns:"+b:"xmlns",x),r.push({prefix:b,namespace:x})}od(I,e,n,i,r)}if(u===c&&y2(t,n,r)){var b=t.prefix||"",x=t.namespaceURI;US(e,b?"xmlns:"+b:"xmlns",x),r.push({prefix:b,namespace:x})}if(k||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),n&&/^script$/i.test(u))for(;k;)k.data?e.push(k.data):od(k,e,n,i,r.slice()),k=k.nextSibling;else for(;k;)od(k,e,n,i,r.slice()),k=k.nextSibling;e.push("</",c,">")}else e.push("/>");return;case z6:case za:for(var k=t.firstChild;k;)od(k,e,n,i,r.slice()),k=k.nextSibling;return;case qd:return US(e,t.name,t.value);case a_:return e.push(t.data.replace(/[<&]/g,X6).replace(/]]>/g,"]]&gt;"));case j6:return e.push("<![CDATA[",t.data,"]]>");case H6:return e.push("<!--",t.data,"-->");case q6:var P=t.publicId,O=t.systemId;if(e.push("<!DOCTYPE ",t.name),P)e.push(" PUBLIC ",P),O&&O!="."&&e.push(" ",O),e.push(">");else if(O&&O!=".")e.push(" SYSTEM ",O,">");else{var N=t.internalSubset;N&&e.push(" [",N,"]"),e.push(">")}return;case $6:return e.push("<?",t.target," ",t.data,"?>");case V6:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function i8(t,e,n){var i;switch(e.nodeType){case rs:i=e.cloneNode(!1),i.ownerDocument=t;case za:break;case qd:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(i8(t,r,n)),r=r.nextSibling;return i}function ME(t,e,n){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s!="object"&&s!=i[r]&&(i[r]=s)}switch(e.childNodes&&(i.childNodes=new Da),i.ownerDocument=t,i.nodeType){case rs:var a=e.attributes,u=i.attributes=new o_,c=a.length;u._ownerElement=i;for(var d=0;d<c;d++)i.setAttributeNode(ME(t,a.item(d),!0));break;case qd:n=!0}if(n)for(var f=e.firstChild;f;)i.appendChild(ME(t,f,n)),f=f.nextSibling;return i}function r8(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case rs:case za:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};var getTextContent=t;Object.defineProperty(Wd.prototype,"length",{get:function(){return UI(this),this.$$length}}),Object.defineProperty(pt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case rs:case za:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),r8=function(e,n,i){e["$$"+n]=i}}}catch{}cu.DocumentType=jT;cu.DOMException=nn;cu.DOMImplementation=K6;cu.Element=xl;cu.Node=pt;cu.NodeList=Da;cu.XMLSerializer=t8;var mg={},s8={};(function(t){var e=du.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES})(s8);var WI={},Pm=du.NAMESPACE,FE=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_2=new RegExp("[\\-\\.0-9"+FE.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),T2=new RegExp("^"+FE.source+_2.source+"*(?::"+FE.source+_2.source+"*)?$"),tp=0,So=1,Fc=2,np=3,Uc=4,Bc=5,ip=6,Iy=7;function Gd(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Gd)}Gd.prototype=new Error;Gd.prototype.name=Gd.name;function a8(){}a8.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),o8(e,e={}),_ne(t,e,n,i,this.errorHandler),i.endDocument()}};function _ne(t,e,n,i,r){function s(ce){if(ce>65535){ce-=65536;var De=55296+(ce>>10),se=56320+(ce&1023);return String.fromCharCode(De,se)}else return String.fromCharCode(ce)}function a(ce){var De=ce.slice(1,-1);return De in n?n[De]:De.charAt(0)==="#"?s(parseInt(De.substr(1).replace("x","0x"))):(r.error("entity not found:"+ce),ce)}function u(ce){if(ce>b){var De=t.substring(b,ce).replace(/&#?\w+;/g,a);g&&c(b),i.characters(De,0,ce-b),b=ce}}function c(ce,De){for(;ce>=f&&(De=m.exec(t));)d=De.index,f=d+De[0].length,g.lineNumber++;g.columnNumber=ce-d+1}for(var d=0,f=0,m=/.*(?:\r\n?|\n)|.*$/g,g=i.locator,E=[{currentNSMap:e}],I={},b=0;;){try{var x=t.indexOf("<",b);if(x<0){if(!t.substr(b).match(/^\s*$/)){var k=i.doc,P=k.createTextNode(t.substr(b));k.appendChild(P),i.currentElement=P}return}switch(x>b&&u(x),t.charAt(x+1)){case"/":var Q=t.indexOf(">",x+3),O=t.substring(x+2,Q).replace(/[ \t\n\r]+$/g,""),N=E.pop();Q<0?(O=t.substring(x+2).replace(/[\s<].*/,""),r.error("end tag name: "+O+" is not complete:"+N.tagName),Q=x+1+O.length):O.match(/\s</)&&(O=O.replace(/[\s<].*/,""),r.error("end tag name: "+O+" maybe not complete"),Q=x+1+O.length);var B=N.localNSMap,q=N.tagName==O,$=q||N.tagName&&N.tagName.toLowerCase()==O.toLowerCase();if($){if(i.endElement(N.uri,N.localName,O),B)for(var H in B)Object.prototype.hasOwnProperty.call(B,H)&&i.endPrefixMapping(H);q||r.fatalError("end tag name: "+O+" is not match the current start tagName:"+N.tagName)}else E.push(N);Q++;break;case"?":g&&c(x),Q=Ene(t,x,i);break;case"!":g&&c(x),Q=Sne(t,x,i,r);break;default:g&&c(x);var K=new u8,G=E[E.length-1].currentNSMap,Q=Tne(t,x,K,G,a,r),ie=K.length;if(!K.closed&&wne(t,Q,K.tagName,I)&&(K.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),g&&ie){for(var he=b2(g,{}),$e=0;$e<ie;$e++){var Ie=K[$e];c(Ie.offset),Ie.locator=b2(g,{})}i.locator=he,w2(K,i,G)&&E.push(K),i.locator=g}else w2(K,i,G)&&E.push(K);Pm.isHTML(K.uri)&&!K.closed?Q=bne(t,Q,K.tagName,a,i):Q++}}catch(ce){if(ce instanceof Gd)throw ce;r.error("element parse error: "+ce),Q=-1}Q>b?b=Q:u(Math.max(x,b)+1)}}function b2(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function Tne(t,e,n,i,r,s){function a(g,E,I){n.attributeNames.hasOwnProperty(g)&&s.fatalError("Attribute "+g+" redefined"),n.addValue(g,E,I)}for(var u,c,d=++e,f=tp;;){var m=t.charAt(d);switch(m){case"=":if(f===So)u=t.slice(e,d),f=np;else if(f===Fc)f=np;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===np||f===So)if(f===So&&(s.warning('attribute value must after "="'),u=t.slice(e,d)),e=d+1,d=t.indexOf(m,e),d>0)c=t.slice(e,d).replace(/&#?\w+;/g,r),a(u,c,e-1),f=Bc;else throw new Error("attribute value no end '"+m+"' match");else if(f==Uc)c=t.slice(e,d).replace(/&#?\w+;/g,r),a(u,c,e),s.warning('attribute "'+u+'" missed start quot('+m+")!!"),e=d+1,f=Bc;else throw new Error('attribute value must after "="');break;case"/":switch(f){case tp:n.setTagName(t.slice(e,d));case Bc:case ip:case Iy:f=Iy,n.closed=!0;case Uc:case So:case Fc:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),f==tp&&n.setTagName(t.slice(e,d)),d;case">":switch(f){case tp:n.setTagName(t.slice(e,d));case Bc:case ip:case Iy:break;case Uc:case So:c=t.slice(e,d),c.slice(-1)==="/"&&(n.closed=!0,c=c.slice(0,-1));case Fc:f===Fc&&(c=u),f==Uc?(s.warning('attribute "'+c+'" missed quot(")!'),a(u,c.replace(/&#?\w+;/g,r),e)):((!Pm.isHTML(i[""])||!c.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),a(c,c,e));break;case np:throw new Error("attribute value missed!!")}return d;case"":m=" ";default:if(m<=" ")switch(f){case tp:n.setTagName(t.slice(e,d)),f=ip;break;case So:u=t.slice(e,d),f=Fc;break;case Uc:var c=t.slice(e,d).replace(/&#?\w+;/g,r);s.warning('attribute "'+c+'" missed quot(")!!'),a(u,c,e);case Bc:f=ip;break}else switch(f){case Fc:n.tagName,(!Pm.isHTML(i[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),a(u,u,e),e=d,f=So;break;case Bc:s.warning('attribute space is required"'+u+'"!!');case ip:f=So,e=d;break;case np:f=Uc,e=d;break;case Iy:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function w2(t,e,n){for(var i=t.tagName,r=null,m=t.length;m--;){var s=t[m],a=s.qName,u=s.value,g=a.indexOf(":");if(g>0)var c=s.prefix=a.slice(0,g),d=a.slice(g+1),f=c==="xmlns"&&d;else d=a,c=null,f=a==="xmlns"&&"";s.localName=d,f!==!1&&(r==null&&(r={},o8(n,n={})),n[f]=r[f]=u,s.uri=Pm.XMLNS,e.startPrefixMapping(f,u))}for(var m=t.length;m--;){s=t[m];var c=s.prefix;c&&(c==="xml"&&(s.uri=Pm.XML),c!=="xmlns"&&(s.uri=n[c||""]))}var g=i.indexOf(":");g>0?(c=t.prefix=i.slice(0,g),d=t.localName=i.slice(g+1)):(c=null,d=t.localName=i);var E=t.uri=n[c||""];if(e.startElement(E,d,i,t),t.closed){if(e.endElement(E,d,i),r)for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&e.endPrefixMapping(c)}else return t.currentNSMap=n,t.localNSMap=r,!0}function bne(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),s)}return e+1}function wne(t,e,n,i){var r=i[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function o8(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function Sne(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var a=xne(t,e),u=a.length;if(u>1&&/!doctype/i.test(a[0][0])){var c=a[1][0],d=!1,f=!1;u>3&&(/^public$/i.test(a[2][0])?(d=a[3][0],f=u>4&&a[4][0]):/^system$/i.test(a[2][0])&&(f=a[3][0]));var m=a[u-1];return n.startDTD(c,d,f),n.endDTD(),m.index+m[0].length}}return-1}function Ene(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function u8(){this.attributeNames={}}u8.prototype={setTagName:function(t){if(!T2.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!T2.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function xne(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}WI.XMLReader=a8;WI.ParseError=Gd;var Cne=du,GI=cu,S2=s8,l8=WI,Ine=GI.DOMImplementation,E2=Cne.NAMESPACE,kne=l8.ParseError,Ane=l8.XMLReader;function c8(t){this.options=t||{locator:{}}}c8.prototype.parseFromString=function(t,e){var n=this.options,i=new Ane,r=n.domBuilder||new gg,s=n.errorHandler,a=n.locator,u=n.xmlns||{},c=/\/x?html?$/.test(e),d=c?S2.HTML_ENTITIES:S2.XML_ENTITIES;return a&&r.setDocumentLocator(a),i.errorHandler=Pne(s,r,a),i.domBuilder=n.domBuilder||r,c&&(u[""]=E2.HTML),u.xml=u.xml||E2.XML,t&&typeof t=="string"?i.parse(t,u,d):i.errorHandler.error("invalid doc source"),r.doc};function Pne(t,e,n){if(!t){if(e instanceof gg)return e;t=e}var i={},r=t instanceof Function;n=n||{};function s(a){var u=t[a];!u&&r&&(u=t.length==2?function(c){t(a,c)}:t),i[a]=u&&function(c){u("[xmldom "+a+"]	"+c+UE(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),i}function gg(){this.cdata=!1}function jc(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}gg.prototype={startDocument:function(){this.doc=new Ine().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,s=r.createElementNS(t,n||e),a=i.length;ky(this,s),this.currentElement=s,this.locator&&jc(this.locator,s);for(var u=0;u<a;u++){var t=i.getURI(u),c=i.getValue(u),n=i.getQName(u),d=r.createAttributeNS(t,n);this.locator&&jc(i.getLocator(u),d),d.value=d.nodeValue=c,s.setAttributeNode(d)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&jc(this.locator,n),ky(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=x2.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&jc(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=x2.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&jc(this.locator,i),ky(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&jc(this.locator,r),ky(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,UE(this.locator))},error:function(t){console.error("[xmldom error]	"+t,UE(this.locator))},fatalError:function(t){throw new kne(t,this.locator)}};function UE(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function x2(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){gg.prototype[t]=function(){return null}});function ky(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}mg.__DOMHandler=gg;mg.DOMParser=c8;mg.DOMImplementation=GI.DOMImplementation;mg.XMLSerializer=GI.XMLSerializer;var Dne=mg.DOMParser;var C2=function(e){return!!e&&typeof e=="object"},Si=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce(function(r,s){return typeof s!="object"||Object.keys(s).forEach(function(a){Array.isArray(r[a])&&Array.isArray(s[a])?r[a]=r[a].concat(s[a]):C2(r[a])&&C2(s[a])?r[a]=t(r[a],s[a]):r[a]=s[a]}),r},{})},d8=function(e){return Object.keys(e).map(function(n){return e[n]})},Rne=function(e,n){for(var i=[],r=e;r<n;r++)i.push(r);return i},$T=function(e){return e.reduce(function(n,i){return n.concat(i)},[])},h8=function(e){if(!e.length)return[];for(var n=[],i=0;i<e.length;i++)n.push(e[i]);return n},One=function(e,n){return e.reduce(function(i,r,s){return r[n]&&i.push(s),i},[])},BE=function(e,n){for(var i=0;i<e.length;i++)if(n(e[i]))return i;return-1},Lne=function(e,n){return d8(e.reduce(function(i,r){return r.forEach(function(s){i[n(s)]=s}),i},{}))},Kd={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Dm=function(e){var n=e.baseUrl,i=n===void 0?"":n,r=e.source,s=r===void 0?"":r,a=e.range,u=a===void 0?"":a,c=e.indexRange,d=c===void 0?"":c,f={uri:s,resolvedUri:BT(i||"",s)};if(u||d){var m=u||d,g=m.split("-"),E=F.BigInt?F.BigInt(g[0]):parseInt(g[0],10),I=F.BigInt?F.BigInt(g[1]):parseInt(g[1],10);E<Number.MAX_SAFE_INTEGER&&typeof E=="bigint"&&(E=Number(E)),I<Number.MAX_SAFE_INTEGER&&typeof I=="bigint"&&(I=Number(I));var b;typeof I=="bigint"||typeof E=="bigint"?b=F.BigInt(I)-F.BigInt(E)+F.BigInt(1):b=I-E+1,typeof b=="bigint"&&b<Number.MAX_SAFE_INTEGER&&(b=Number(b)),f.byterange={length:b,offset:E}}return f},Nne=function(e){var n;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=F.BigInt(e.offset)+F.BigInt(e.length)-F.BigInt(1):n=e.offset+e.length-1,e.offset+"-"+n},I2=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},Mne={static:function(e){var n=e.duration,i=e.timescale,r=i===void 0?1:i,s=e.sourceDuration,a=e.periodDuration,u=I2(e.endNumber),c=n/r;return typeof u=="number"?{start:0,end:u}:typeof a=="number"?{start:0,end:a/c}:{start:0,end:s/c}},dynamic:function(e){var n=e.NOW,i=e.clientOffset,r=e.availabilityStartTime,s=e.timescale,a=s===void 0?1:s,u=e.duration,c=e.periodStart,d=c===void 0?0:c,f=e.minimumUpdatePeriod,m=f===void 0?0:f,g=e.timeShiftBufferDepth,E=g===void 0?1/0:g,I=I2(e.endNumber),b=(n+i)/1e3,x=r+d,k=b+m,P=k-x,O=Math.ceil(P*a/u),N=Math.floor((b-x-E)*a/u),B=Math.floor((b-x)*a/u);return{start:Math.max(0,N),end:typeof I=="number"?I:Math.min(O,B)}}},Fne=function(e){return function(n){var i=e.duration,r=e.timescale,s=r===void 0?1:r,a=e.periodStart,u=e.startNumber,c=u===void 0?1:u;return{number:c+n,duration:i/s,timeline:a,time:n*i}}},KI=function(e){var n=e.type,i=e.duration,r=e.timescale,s=r===void 0?1:r,a=e.periodDuration,u=e.sourceDuration,c=Mne[n](e),d=c.start,f=c.end,m=Rne(d,f).map(Fne(e));if(n==="static"){var g=m.length-1,E=typeof a=="number"?a:u;m[g].duration=E-i/s*g}return m},f8=function(e){var n=e.baseUrl,i=e.initialization,r=i===void 0?{}:i,s=e.sourceDuration,a=e.indexRange,u=a===void 0?"":a,c=e.periodStart,d=e.presentationTime,f=e.number,m=f===void 0?0:f,g=e.duration;if(!n)throw new Error(Kd.NO_BASE_URL);var E=Dm({baseUrl:n,source:r.sourceURL,range:r.range}),I=Dm({baseUrl:n,source:n,indexRange:u});if(I.map=E,g){var b=KI(e);b.length&&(I.duration=b[0].duration,I.timeline=b[0].timeline)}else s&&(I.duration=s,I.timeline=c);return I.presentationTime=d||c,I.number=m,[I]},XI=function(e,n,i){var r=e.sidx.map?e.sidx.map:null,s=e.sidx.duration,a=e.timeline||0,u=e.sidx.byterange,c=u.offset+u.length,d=n.timescale,f=n.references.filter(function(K){return K.referenceType!==1}),m=[],g=e.endList?"static":"dynamic",E=e.sidx.timeline,I=E,b=e.mediaSequence||0,x;typeof n.firstOffset=="bigint"?x=F.BigInt(c)+n.firstOffset:x=c+n.firstOffset;for(var k=0;k<f.length;k++){var P=n.references[k],O=P.referencedSize,N=P.subsegmentDuration,B=void 0;typeof x=="bigint"?B=x+F.BigInt(O)-F.BigInt(1):B=x+O-1;var q=x+"-"+B,$={baseUrl:i,timescale:d,timeline:a,periodStart:E,presentationTime:I,number:b,duration:N,sourceDuration:s,indexRange:q,type:g},H=f8($)[0];r&&(H.map=r),m.push(H),typeof x=="bigint"?x+=F.BigInt(O):x+=O,I+=N/d,b++}return e.segments=m,e},Une=["AUDIO","SUBTITLES"],Bne=1/60,p8=function(e){return Lne(e,function(n){var i=n.timeline;return i}).sort(function(n,i){return n.timeline>i.timeline?1:-1})},jne=function(e,n){for(var i=0;i<e.length;i++)if(e[i].attributes.NAME===n)return e[i];return null},k2=function(e){var n=[];return sne(e,Une,function(i,r,s,a){n=n.concat(i.playlists||[])}),n},A2=function(e){var n=e.playlist,i=e.mediaSequence;n.mediaSequence=i,n.segments.forEach(function(r,s){r.number=n.mediaSequence+s})},Vne=function(e){var n=e.oldPlaylists,i=e.newPlaylists,r=e.timelineStarts;i.forEach(function(s){s.discontinuitySequence=BE(r,function(f){var m=f.timeline;return m===s.timeline});var a=jne(n,s.attributes.NAME);if(!!a&&!s.sidx){var u=s.segments[0],c=BE(a.segments,function(f){return Math.abs(f.presentationTime-u.presentationTime)<Bne});if(c===-1){A2({playlist:s,mediaSequence:a.mediaSequence+a.segments.length}),s.segments[0].discontinuity=!0,s.discontinuityStarts.unshift(0),(!a.segments.length&&s.timeline>a.timeline||a.segments.length&&s.timeline>a.segments[a.segments.length-1].timeline)&&s.discontinuitySequence--;return}var d=a.segments[c];d.discontinuity&&!u.discontinuity&&(u.discontinuity=!0,s.discontinuityStarts.unshift(0),s.discontinuitySequence--),A2({playlist:s,mediaSequence:a.segments[c].number})}})},$ne=function(e){var n=e.oldManifest,i=e.newManifest,r=n.playlists.concat(k2(n)),s=i.playlists.concat(k2(i));return i.timelineStarts=p8([n.timelineStarts,i.timelineStarts]),Vne({oldPlaylists:r,newPlaylists:s,timelineStarts:i.timelineStarts}),i},HT=function(e){return e&&e.uri+"-"+Nne(e.byterange)},BS=function(e){var n=d8(e.reduce(function(i,r){var s=r.attributes.id+(r.attributes.lang||"");if(!i[s])i[s]=r,i[s].attributes.timelineStarts=[];else{if(r.segments){var a;r.segments[0]&&(r.segments[0].discontinuity=!0),(a=i[s].segments).push.apply(a,r.segments)}r.attributes.contentProtection&&(i[s].attributes.contentProtection=r.attributes.contentProtection)}return i[s].attributes.timelineStarts.push({start:r.attributes.periodStart,timeline:r.attributes.periodStart}),i},{}));return n.map(function(i){return i.discontinuityStarts=One(i.segments||[],"discontinuity"),i})},YI=function(e,n){var i=HT(e.sidx),r=i&&n[i]&&n[i].sidx;return r&&XI(e,r,e.sidx.resolvedUri),e},Hne=function(e,n){if(n===void 0&&(n={}),!Object.keys(n).length)return e;for(var i in e)e[i]=YI(e[i],n);return e},zne=function(e,n){var i,r=e.attributes,s=e.segments,a=e.sidx,u=e.mediaSequence,c=e.discontinuitySequence,d=e.discontinuityStarts,f={attributes:(i={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuitySequence:c,discontinuityStarts:d,timelineStarts:r.timelineStarts,mediaSequence:u,segments:s};return r.contentProtection&&(f.contentProtection=r.contentProtection),a&&(f.sidx=a),n&&(f.attributes.AUDIO="audio",f.attributes.SUBTITLES="subs"),f},qne=function(e){var n,i=e.attributes,r=e.segments,s=e.mediaSequence,a=e.discontinuityStarts,u=e.discontinuitySequence;typeof r>"u"&&(r=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var c=(n={NAME:i.id,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n);return i.codecs&&(c.CODECS=i.codecs),{attributes:c,uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:a,discontinuitySequence:u,mediaSequence:s,segments:r}},Wne=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=!1);var r,s=e.reduce(function(u,c){var d=c.attributes.role&&c.attributes.role.value||"",f=c.attributes.lang||"",m=c.attributes.label||"main";if(f&&!c.attributes.label){var g=d?" ("+d+")":"";m=""+c.attributes.lang+g}u[m]||(u[m]={language:f,autoselect:!0,default:d==="main",playlists:[],uri:""});var E=YI(zne(c,i),n);return u[m].playlists.push(E),typeof r>"u"&&d==="main"&&(r=c,r.default=!0),u},{});if(!r){var a=Object.keys(s)[0];s[a].default=!0}return s},Gne=function(e,n){return n===void 0&&(n={}),e.reduce(function(i,r){var s=r.attributes.lang||"text";return i[s]||(i[s]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),i[s].playlists.push(YI(qne(r),n)),i},{})},Kne=function(e){return e.reduce(function(n,i){return i&&i.forEach(function(r){var s=r.channel,a=r.language;n[a]={autoselect:!1,default:!1,instreamId:s,language:a},r.hasOwnProperty("aspectRatio")&&(n[a].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(n[a].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(n[a]["3D"]=r["3D"])}),n},{})},Xne=function(e){var n,i=e.attributes,r=e.segments,s=e.sidx,a=e.discontinuityStarts,u={attributes:(n={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:a,timelineStarts:i.timelineStarts,segments:r};return i.contentProtection&&(u.contentProtection=i.contentProtection),s&&(u.sidx=s),u},Yne=function(e){var n=e.attributes;return n.mimeType==="video/mp4"||n.mimeType==="video/webm"||n.contentType==="video"},Qne=function(e){var n=e.attributes;return n.mimeType==="audio/mp4"||n.mimeType==="audio/webm"||n.contentType==="audio"},Jne=function(e){var n=e.attributes;return n.mimeType==="text/vtt"||n.contentType==="text"},Zne=function(e,n){e.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=BE(n,function(r){var s=r.timeline;return s===i.timeline}),i.segments&&i.segments.forEach(function(r,s){r.number=s})})},P2=function(e){return e?Object.keys(e).reduce(function(n,i){var r=e[i];return n.concat(r.playlists)},[]):[]},eie=function(e){var n,i=e.dashPlaylists,r=e.locations,s=e.sidxMapping,a=s===void 0?{}:s,u=e.previousManifest;if(!i.length)return{};var c=i[0].attributes,d=c.sourceDuration,f=c.type,m=c.suggestedPresentationDelay,g=c.minimumUpdatePeriod,E=BS(i.filter(Yne)).map(Xne),I=BS(i.filter(Qne)),b=BS(i.filter(Jne)),x=i.map(function($){return $.attributes.captionServices}).filter(Boolean),k={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:d,playlists:Hne(E,a)};g>=0&&(k.minimumUpdatePeriod=g*1e3),r&&(k.locations=r),f==="dynamic"&&(k.suggestedPresentationDelay=m);var P=k.playlists.length===0,O=I.length?Wne(I,a,P):null,N=b.length?Gne(b,a):null,B=E.concat(P2(O),P2(N)),q=B.map(function($){var H=$.timelineStarts;return H});return k.timelineStarts=p8(q),Zne(B,k.timelineStarts),O&&(k.mediaGroups.AUDIO.audio=O),N&&(k.mediaGroups.SUBTITLES.subs=N),x.length&&(k.mediaGroups["CLOSED-CAPTIONS"].cc=Kne(x)),u?$ne({oldManifest:u,newManifest:k}):k},tie=function(e,n,i){var r=e.NOW,s=e.clientOffset,a=e.availabilityStartTime,u=e.timescale,c=u===void 0?1:u,d=e.periodStart,f=d===void 0?0:d,m=e.minimumUpdatePeriod,g=m===void 0?0:m,E=(r+s)/1e3,I=a+f,b=E+g,x=b-I;return Math.ceil((x*c-n)/i)},m8=function(e,n){for(var i=e.type,r=e.minimumUpdatePeriod,s=r===void 0?0:r,a=e.media,u=a===void 0?"":a,c=e.sourceDuration,d=e.timescale,f=d===void 0?1:d,m=e.startNumber,g=m===void 0?1:m,E=e.periodStart,I=[],b=-1,x=0;x<n.length;x++){var k=n[x],P=k.d,O=k.r||0,N=k.t||0;b<0&&(b=N),N&&N>b&&(b=N);var B=void 0;if(O<0){var q=x+1;q===n.length?i==="dynamic"&&s>0&&u.indexOf("$Number$")>0?B=tie(e,b,P):B=(c*f-b)/P:B=(n[q].t-b)/P}else B=O+1;for(var $=g+I.length+B,H=g+I.length;H<$;)I.push({number:H,duration:P/f,time:b,timeline:E}),b+=P,H++}return I},nie=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,iie=function(e){return function(n,i,r,s){if(n==="$$")return"$";if(typeof e[i]>"u")return n;var a=""+e[i];return i==="RepresentationID"||(r?s=parseInt(s,10):s=1,a.length>=s)?a:""+new Array(s-a.length+1).join("0")+a}},D2=function(e,n){return e.replace(nie,iie(n))},rie=function(e,n){return!e.duration&&!n?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?KI(e):m8(e,n)},sie=function(e,n){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,s=r===void 0?{sourceURL:"",range:""}:r,a=Dm({baseUrl:e.baseUrl,source:D2(s.sourceURL,i),range:s.range}),u=rie(e,n);return u.map(function(c){i.Number=c.number,i.Time=c.time;var d=D2(e.media||"",i),f=e.timescale||1,m=e.presentationTimeOffset||0,g=e.periodStart+(c.time-m)/f,E={uri:d,timeline:c.timeline,duration:c.duration,resolvedUri:BT(e.baseUrl||"",d),map:a,number:c.number,presentationTime:g};return E})},aie=function(e,n){var i=e.baseUrl,r=e.initialization,s=r===void 0?{}:r,a=Dm({baseUrl:i,source:s.sourceURL,range:s.range}),u=Dm({baseUrl:i,source:n.media,range:n.mediaRange});return u.map=a,u},oie=function(e,n){var i=e.duration,r=e.segmentUrls,s=r===void 0?[]:r,a=e.periodStart;if(!i&&!n||i&&n)throw new Error(Kd.SEGMENT_TIME_UNSPECIFIED);var u=s.map(function(f){return aie(e,f)}),c;i&&(c=KI(e)),n&&(c=m8(e,n));var d=c.map(function(f,m){if(u[m]){var g=u[m],E=e.timescale||1,I=e.presentationTimeOffset||0;return g.timeline=f.timeline,g.duration=f.duration,g.number=f.number,g.presentationTime=a+(f.time-I)/E,g}}).filter(function(f){return f});return d},uie=function(e){var n=e.attributes,i=e.segmentInfo,r,s;i.template?(s=sie,r=Si(n,i.template)):i.base?(s=f8,r=Si(n,i.base)):i.list&&(s=oie,r=Si(n,i.list));var a={attributes:n};if(!s)return a;var u=s(r,i.segmentTimeline);if(r.duration){var c=r,d=c.duration,f=c.timescale,m=f===void 0?1:f;r.duration=d/m}else u.length?r.duration=u.reduce(function(g,E){return Math.max(g,Math.ceil(E.duration))},0):r.duration=0;return a.attributes=r,a.segments=u,i.base&&r.indexRange&&(a.sidx=u[0],a.segments=[]),a},lie=function(e){return e.map(uie)},Zt=function(e,n){return h8(e.childNodes).filter(function(i){var r=i.tagName;return r===n})},QI=function(e){return e.textContent.trim()},Vc=function(e){var n=31536e3,i=30*24*60*60,r=24*60*60,s=60*60,a=60,u=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,c=u.exec(e);if(!c)return 0;var d=c.slice(1),f=d[0],m=d[1],g=d[2],E=d[3],I=d[4],b=d[5];return parseFloat(f||0)*n+parseFloat(m||0)*i+parseFloat(g||0)*r+parseFloat(E||0)*s+parseFloat(I||0)*a+parseFloat(b||0)},cie=function(e){var n=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return n.test(e)&&(e+="Z"),Date.parse(e)},R2={mediaPresentationDuration:function(e){return Vc(e)},availabilityStartTime:function(e){return cie(e)/1e3},minimumUpdatePeriod:function(e){return Vc(e)},suggestedPresentationDelay:function(e){return Vc(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Vc(e)},start:function(e){return Vc(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var n=parseInt(e,10);return isNaN(n)?Vc(e):n},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},ii=function(e){return e&&e.attributes?h8(e.attributes).reduce(function(n,i){var r=R2[i.name]||R2.DEFAULT;return n[i.name]=r(i.value),n},{}):{}},die={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},zT=function(e,n){return n.length?$T(e.map(function(i){return n.map(function(r){return BT(i,QI(r))})})):e},JI=function(e){var n=Zt(e,"SegmentTemplate")[0],i=Zt(e,"SegmentList")[0],r=i&&Zt(i,"SegmentURL").map(function(g){return Si({tag:"SegmentURL"},ii(g))}),s=Zt(e,"SegmentBase")[0],a=i||n,u=a&&Zt(a,"SegmentTimeline")[0],c=i||s||n,d=c&&Zt(c,"Initialization")[0],f=n&&ii(n);f&&d?f.initialization=d&&ii(d):f&&f.initialization&&(f.initialization={sourceURL:f.initialization});var m={template:f,segmentTimeline:u&&Zt(u,"S").map(function(g){return ii(g)}),list:i&&Si(ii(i),{segmentUrls:r,initialization:ii(d)}),base:s&&Si(ii(s),{initialization:ii(d)})};return Object.keys(m).forEach(function(g){m[g]||delete m[g]}),m},hie=function(e,n,i){return function(r){var s=Zt(r,"BaseURL"),a=zT(n,s),u=Si(e,ii(r)),c=JI(r);return a.map(function(d){return{segmentInfo:Si(i,c),attributes:Si(u,{baseUrl:d})}})}},fie=function(e){return e.reduce(function(n,i){var r=ii(i);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());var s=die[r.schemeIdUri];if(s){n[s]={attributes:r};var a=Zt(i,"cenc:pssh")[0];if(a){var u=QI(a);n[s].pssh=u&&D6(u)}}return n},{})},pie=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(r){var s,a;if(a=r,/^CC\d=/.test(r)){var u=r.split("=");s=u[0],a=u[1]}else/^CC\d$/.test(r)&&(s=r);return{channel:s,language:a}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(r){var s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){var a=r.split("="),u=a[0],c=a[1],d=c===void 0?"":c;s.channel=u,s.language=r,d.split(",").forEach(function(f){var m=f.split(":"),g=m[0],E=m[1];g==="lang"?s.language=E:g==="er"?s.easyReader=Number(E):g==="war"?s.aspectRatio=Number(E):g==="3D"&&(s["3D"]=Number(E))})}else s.language=r;return s.channel&&(s.channel="SERVICE"+s.channel),s})}},mie=function(e,n,i){return function(r){var s=ii(r),a=zT(n,Zt(r,"BaseURL")),u=Zt(r,"Role")[0],c={role:ii(u)},d=Si(e,s,c),f=Zt(r,"Accessibility")[0],m=pie(ii(f));m&&(d=Si(d,{captionServices:m}));var g=Zt(r,"Label")[0];if(g&&g.childNodes.length){var E=g.childNodes[0].nodeValue.trim();d=Si(d,{label:E})}var I=fie(Zt(r,"ContentProtection"));Object.keys(I).length&&(d=Si(d,{contentProtection:I}));var b=JI(r),x=Zt(r,"Representation"),k=Si(i,b);return $T(x.map(hie(d,a,k)))}},gie=function(e,n){return function(i,r){var s=zT(n,Zt(i.node,"BaseURL")),a=Si(e,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(a.periodDuration=i.attributes.duration);var u=Zt(i.node,"AdaptationSet"),c=JI(i.node);return $T(u.map(mie(a,s,c)))}},vie=function(e){var n=e.attributes,i=e.priorPeriodAttributes,r=e.mpdType;return typeof n.start=="number"?n.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&r==="static"?0:null},yie=function(e,n){n===void 0&&(n={});var i=n,r=i.manifestUri,s=r===void 0?"":r,a=i.NOW,u=a===void 0?Date.now():a,c=i.clientOffset,d=c===void 0?0:c,f=Zt(e,"Period");if(!f.length)throw new Error(Kd.INVALID_NUMBER_OF_PERIOD);var m=Zt(e,"Location"),g=ii(e),E=zT([s],Zt(e,"BaseURL"));g.type=g.type||"static",g.sourceDuration=g.mediaPresentationDuration||0,g.NOW=u,g.clientOffset=d,m.length&&(g.locations=m.map(QI));var I=[];return f.forEach(function(b,x){var k=ii(b),P=I[x-1];k.start=vie({attributes:k,priorPeriodAttributes:P?P.attributes:null,mpdType:g.type}),I.push({node:b,attributes:k})}),{locations:g.locations,representationInfo:$T(I.map(gie(g,E)))}},g8=function(e){if(e==="")throw new Error(Kd.DASH_EMPTY_MANIFEST);var n=new Dne,i,r;try{i=n.parseFromString(e,"application/xml"),r=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(Kd.DASH_INVALID_XML);return r},_ie=function(e){var n=Zt(e,"UTCTiming")[0];if(!n)return null;var i=ii(n);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Kd.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},Tie=function(e,n){n===void 0&&(n={});var i=yie(g8(e),n),r=lie(i.representationInfo);return eie({dashPlaylists:r,locations:i.locations,sidxMapping:n.sidxMapping,previousManifest:n.previousManifest})},bie=function(e){return _ie(g8(e))},v8=Math.pow(2,32),wie=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*v8+e.getUint32(4)},Sie={getUint64:wie,MAX_UINT32:v8},O2=Sie.getUint64,Eie=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=O2(t.subarray(i)),n.firstOffset=O2(t.subarray(i+8)),i+=16),i+=2;var r=e.getUint16(i);for(i+=2;r>0;i+=12,r--)n.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},xie=Eie,Cie=Ae([73,68,51]),Iie=function(e,n){n===void 0&&(n=0),e=Ae(e);var i=e[n+5],r=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],s=(i&16)>>4;return s?r+20:r+10},Tp=function t(e,n){return n===void 0&&(n=0),e=Ae(e),e.length-n<10||!Nt(e,Cie,{offset:n})?n:(n+=Iie(e,n),t(e,n))},L2=function(e){return typeof e=="string"?M6(e):e},kie=function(e){return Array.isArray(e)?e.map(function(n){return L2(n)}):[L2(e)]},Aie=function t(e,n,i){i===void 0&&(i=!1),n=kie(n),e=Ae(e);var r=[];if(!n.length)return r;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,u=e.subarray(s+4,s+8);if(a===0)break;var c=s+a;if(c>e.length){if(i)break;c=e.length}var d=e.subarray(s+8,c);Nt(u,n[0])&&(n.length===1?r.push(d):r.push.apply(r,t(d,n.slice(1),i))),s=c}return r},Ay={EBML:Ae([26,69,223,163]),DocType:Ae([66,130]),Segment:Ae([24,83,128,103]),SegmentInfo:Ae([21,73,169,102]),Tracks:Ae([22,84,174,107]),Track:Ae([174]),TrackNumber:Ae([215]),DefaultDuration:Ae([35,227,131]),TrackEntry:Ae([174]),TrackType:Ae([131]),FlagDefault:Ae([136]),CodecID:Ae([134]),CodecPrivate:Ae([99,162]),VideoTrack:Ae([224]),AudioTrack:Ae([225]),Cluster:Ae([31,67,182,117]),Timestamp:Ae([231]),TimestampScale:Ae([42,215,177]),BlockGroup:Ae([160]),BlockDuration:Ae([155]),Block:Ae([161]),SimpleBlock:Ae([163])},jE=[128,64,32,16,8,4,2,1],Pie=function(e){for(var n=1,i=0;i<jE.length&&!(e&jE[i]);i++)n++;return n},c_=function(e,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var s=Pie(e[n]),a=e.subarray(n,n+s);return i&&(a=Array.prototype.slice.call(e,n,n+s),a[0]^=jE[s-1]),{length:s,value:nne(a,{signed:r}),bytes:a}},N2=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?ine(e):e},Die=function(e){return Array.isArray(e)?e.map(function(n){return N2(n)}):[N2(e)]},Rie=function t(e,n,i){if(i>=n.length)return n.length;var r=c_(n,i,!1);if(Nt(e.bytes,r.bytes))return i;var s=c_(n,i+r.length);return t(e,n,i+s.length+s.value+r.length)},M2=function t(e,n){n=Die(n),e=Ae(e);var i=[];if(!n.length)return i;for(var r=0;r<e.length;){var s=c_(e,r,!1),a=c_(e,r+s.length),u=r+s.length+a.length;a.value===127&&(a.value=Rie(s,e,u),a.value!==e.length&&(a.value-=u));var c=u+a.value>e.length?e.length:u+a.value,d=e.subarray(u,c);Nt(n[0],s.bytes)&&(n.length===1?i.push(d):i=i.concat(t(d,n.slice(1))));var f=s.length+a.length+d.length;r+=f}return i},Oie=Ae([0,0,0,1]),Lie=Ae([0,0,1]),Nie=Ae([0,0,3]),Mie=function(e){for(var n=[],i=1;i<e.length-2;)Nt(e.subarray(i,i+3),Nie)&&(n.push(i+2),i++),i++;if(n.length===0)return e;var r=e.length-n.length,s=new Uint8Array(r),a=0;for(i=0;i<r;a++,i++)a===n[0]&&(a++,n.shift()),s[i]=e[a];return s},y8=function(e,n,i,r){r===void 0&&(r=1/0),e=Ae(e),i=[].concat(i);for(var s=0,a,u=0;s<e.length&&(u<r||a);){var c=void 0;if(Nt(e.subarray(s),Oie)?c=4:Nt(e.subarray(s),Lie)&&(c=3),!c){s++;continue}if(u++,a)return Mie(e.subarray(a,s));var d=void 0;n==="h264"?d=e[s+c]&31:n==="h265"&&(d=e[s+c]>>1&63),i.indexOf(d)!==-1&&(a=s+c),s+=c+(n==="h264"?1:2)}return e.subarray(0,0)},Fie=function(e,n,i){return y8(e,"h264",n,i)},Uie=function(e,n,i){return y8(e,"h265",n,i)},yi={webm:Ae([119,101,98,109]),matroska:Ae([109,97,116,114,111,115,107,97]),flac:Ae([102,76,97,67]),ogg:Ae([79,103,103,83]),ac3:Ae([11,119]),riff:Ae([82,73,70,70]),avi:Ae([65,86,73]),wav:Ae([87,65,86,69]),"3gp":Ae([102,116,121,112,51,103]),mp4:Ae([102,116,121,112]),fmp4:Ae([115,116,121,112]),mov:Ae([102,116,121,112,113,116]),moov:Ae([109,111,111,118]),moof:Ae([109,111,111,102])},Xd={aac:function(e){var n=Tp(e);return Nt(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=Tp(e);return Nt(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=M2(e,[Ay.EBML,Ay.DocType])[0];return Nt(n,yi.webm)},mkv:function(e){var n=M2(e,[Ay.EBML,Ay.DocType])[0];return Nt(n,yi.matroska)},mp4:function(e){if(Xd["3gp"](e)||Xd.mov(e))return!1;if(Nt(e,yi.mp4,{offset:4})||Nt(e,yi.fmp4,{offset:4})||Nt(e,yi.moof,{offset:4})||Nt(e,yi.moov,{offset:4}))return!0},mov:function(e){return Nt(e,yi.mov,{offset:4})},"3gp":function(e){return Nt(e,yi["3gp"],{offset:4})},ac3:function(e){var n=Tp(e);return Nt(e,yi.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=Tp(e);return Nt(e,yi.flac,{offset:n})},ogg:function(e){return Nt(e,yi.ogg)},avi:function(e){return Nt(e,yi.riff)&&Nt(e,yi.avi,{offset:8})},wav:function(e){return Nt(e,yi.riff)&&Nt(e,yi.wav,{offset:8})},h264:function(e){return Fie(e,7,3).length},h265:function(e){return Uie(e,[32,33],3).length}},VE=Object.keys(Xd).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);VE.forEach(function(t){var e=Xd[t];Xd[t]=function(n){return e(Ae(n))}});var Bie=Xd,ZI=function(e){e=Ae(e);for(var n=0;n<VE.length;n++){var i=VE[n];if(Bie[i](e))return i}return""},jie=function(e){return Aie(e,["moof"]).length>0},ek=9e4,tk,nk,qT,ik,_8,T8,b8;tk=function(t){return t*ek};nk=function(t,e){return t*e};qT=function(t){return t/ek};ik=function(t,e){return t/e};_8=function(t,e){return tk(ik(t,e))};T8=function(t,e){return nk(qT(t),e)};b8=function(t,e,n){return qT(n?t:t-e)};var d_={ONE_SECOND_IN_TS:ek,secondsToVideoTs:tk,secondsToAudioTs:nk,videoTsToSeconds:qT,audioTsToSeconds:ik,audioTsToVideoTs:_8,videoTsToAudioTs:T8,metadataTsToSeconds:b8};var w8="7.20.3",_a={},Qo=function(e,n){return _a[e]=_a[e]||[],n&&(_a[e]=_a[e].concat(n)),_a[e]},Vie=function(e,n){Qo(e,n)},S8=function(e,n){var i=Qo(e).indexOf(n);return i<=-1?!1:(_a[e]=_a[e].slice(),_a[e].splice(i,1),!0)},$ie=function(e,n){Qo(e,[].concat(n).map(function(i){var r=function s(){return S8(e,s),i.apply(void 0,arguments)};return r}))},h_={prefixed:!0},s0=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],F2=s0[0],bp;for(var Py=0;Py<s0.length;Py++)if(s0[Py][1]in de){bp=s0[Py];break}if(bp){for(var Dy=0;Dy<bp.length;Dy++)h_[F2[Dy]]=bp[Dy];h_.prefixed=bp[0]!==F2[0]}var Li=[],Hie=function(e,n){return function(i,r,s){var a=n.levels[r],u=new RegExp("^("+a+")$");if(i!=="log"&&s.unshift(i.toUpperCase()+":"),s.unshift(e+":"),Li){Li.push([].concat(s));var c=Li.length-1e3;Li.splice(0,c>0?c:0)}if(!!F.console){var d=F.console[i];!d&&i==="debug"&&(d=F.console.info||F.console.log),!(!d||!a||!u.test(i))&&d[Array.isArray(s)?"apply":"call"](F.console,s)}}};function E8(t){var e="info",n,i=function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];n("log",e,a)};return n=Hie(t,i),i.createLogger=function(r){return E8(t+": "+r)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(r){if(typeof r=="string"){if(!i.levels.hasOwnProperty(r))throw new Error('"'+r+'" in not a valid log level');e=r}return e},i.history=function(){return Li?[].concat(Li):[]},i.history.filter=function(r){return(Li||[]).filter(function(s){return new RegExp(".*"+r+".*").test(s[0])})},i.history.clear=function(){Li&&(Li.length=0)},i.history.disable=function(){Li!==null&&(Li.length=0,Li=null)},i.history.enable=function(){Li===null&&(Li=[])},i.error=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n("error",e,s)},i.warn=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n("warn",e,s)},i.debug=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n("debug",e,s)},i}var qe=E8("VIDEOJS"),x8=qe.createLogger,zie=Object.prototype.toString,C8=function(e){return Wa(e)?Object.keys(e):[]};function Sd(t,e){C8(t).forEach(function(n){return e(t[n],n)})}function qie(t,e,n){return n===void 0&&(n=0),C8(t).reduce(function(i,r){return e(i,t[r],r)},n)}function Kt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?Or.apply(void 0,[t].concat(n)):(n.forEach(function(r){!r||Sd(r,function(s,a){t[a]=s})}),t)}function Wa(t){return!!t&&typeof t=="object"}function Rm(t){return Wa(t)&&zie.call(t)==="[object Object]"&&t.constructor===Object}function Om(t,e){if(!t||!e)return"";if(typeof F.getComputedStyle=="function"){var n;try{n=F.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}var On=F.navigator&&F.navigator.userAgent||"",U2=/AppleWebKit\/([\d.]+)/i.exec(On),Wie=U2?parseFloat(U2.pop()):null,I8=/iPod/i.test(On),Gie=function(){var t=On.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Ja=/Android/i.test(On),rk=function(){var t=On.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),k8=Ja&&rk<5&&Wie<537,A8=/Firefox/i.test(On),vg=/Edg/i.test(On),Za=!vg&&(/Chrome/i.test(On)||/CriOS/i.test(On)),P8=function(){var t=On.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),yg=function(){var t=/MSIE\s(\d+)\.\d/.exec(On),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(On)&&/rv:11.0/.test(On)&&(e=11),e}(),sk=/Safari/i.test(On)&&!Za&&!Ja&&!vg,D8=/Windows/i.test(On),Yd=Boolean(yh()&&("ontouchstart"in F||F.navigator.maxTouchPoints||F.DocumentTouch&&F.document instanceof F.DocumentTouch)),ak=/iPad/i.test(On)||sk&&Yd&&!/iPhone/i.test(On),ok=/iPhone/i.test(On)&&!ak,ki=ok||ak||I8,WT=(sk||ki)&&!Za,Kie=Object.freeze({__proto__:null,IS_IPOD:I8,IOS_VERSION:Gie,IS_ANDROID:Ja,ANDROID_VERSION:rk,IS_NATIVE_ANDROID:k8,IS_FIREFOX:A8,IS_EDGE:vg,IS_CHROME:Za,CHROME_VERSION:P8,IE_VERSION:yg,IS_SAFARI:sk,IS_WINDOWS:D8,TOUCH_ENABLED:Yd,IS_IPAD:ak,IS_IPHONE:ok,IS_IOS:ki,IS_ANY_SAFARI:WT});function B2(t){return typeof t=="string"&&Boolean(t.trim())}function R8(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Xie(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function yh(){return de===F.document}function _h(t){return Wa(t)&&t.nodeType===1}function O8(){try{return F.parent!==F.self}catch{return!0}}function L8(t){return function(e,n){if(!B2(e))return de[t](null);B2(n)&&(n=de.querySelector(n));var i=_h(n)?n:de;return i[t]&&i[t](e)}}function tt(t,e,n,i){t===void 0&&(t="div"),e===void 0&&(e={}),n===void 0&&(n={});var r=de.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){var a=e[s];s.indexOf("aria-")!==-1||s==="role"||s==="type"?(qe.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+s+" to "+a+".")),r.setAttribute(s,a)):s==="textContent"?Ll(r,a):(r[s]!==a||s==="tabIndex")&&(r[s]=a)}),Object.getOwnPropertyNames(n).forEach(function(s){r.setAttribute(s,n[s])}),i&&lk(r,i),r}function Ll(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function $E(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function cl(t,e){return R8(e),t.classList?t.classList.contains(e):Xie(e).test(t.className)}function Ra(t,e){return t.classList?t.classList.add(e):cl(t,e)||(t.className=(t.className+" "+e).trim()),t}function _g(t,e){return t?(t.classList?t.classList.remove(e):(R8(e),t.className=t.className.split(/\s+/).filter(function(n){return n!==e}).join(" ")),t):(qe.warn("removeClass was called with an element that doesn't exist"),null)}function N8(t,e,n){var i=cl(t,e);if(typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=!i),n!==i)return n?Ra(t,e):_g(t,e),t}function M8(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];i===null||typeof i>"u"||i===!1?t.removeAttribute(n):t.setAttribute(n,i===!0?"":i)})}function va(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var s=i[r].name,a=i[r].value;(typeof t[s]=="boolean"||n.indexOf(","+s+",")!==-1)&&(a=a!==null),e[s]=a}return e}function F8(t,e){return t.getAttribute(e)}function Qd(t,e,n){t.setAttribute(e,n)}function GT(t,e){t.removeAttribute(e)}function U8(){de.body.focus(),de.onselectstart=function(){return!1}}function B8(){de.onselectstart=function(){return!0}}function Jd(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(Om(t,"height"))),n.width||(n.width=parseFloat(Om(t,"width"))),n}}function Lm(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,n=t.offsetHeight,i=0,r=0;t.offsetParent&&t!==de[h_.fullscreenElement];)i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:i,top:r,width:e,height:n}}function KT(t,e){var n={x:0,y:0};if(ki)for(var i=t;i&&i.nodeName.toLowerCase()!=="html";){var r=Om(i,"transform");if(/^matrix/.test(r)){var s=r.slice(7,-1).split(/,\s/).map(Number);n.x+=s[4],n.y+=s[5]}else if(/^matrix3d/.test(r)){var a=r.slice(9,-1).split(/,\s/).map(Number);n.x+=a[12],n.y+=a[13]}i=i.parentNode}var u={},c=Lm(e.target),d=Lm(t),f=d.width,m=d.height,g=e.offsetY-(d.top-c.top),E=e.offsetX-(d.left-c.left);return e.changedTouches&&(E=e.changedTouches[0].pageX-d.left,g=e.changedTouches[0].pageY+d.top,ki&&(E-=n.x,g-=n.y)),u.y=1-Math.max(0,Math.min(1,g/m)),u.x=Math.max(0,Math.min(1,E/f)),u}function j8(t){return Wa(t)&&t.nodeType===3}function uk(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function V8(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),_h(e)||j8(e))return e;if(typeof e=="string"&&/\S/.test(e))return de.createTextNode(e)}).filter(function(e){return e})}function lk(t,e){return V8(e).forEach(function(n){return t.appendChild(n)}),t}function $8(t,e){return lk(uk(t),e)}function Nm(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var Jo=L8("querySelector"),H8=L8("querySelectorAll"),z8=Object.freeze({__proto__:null,isReal:yh,isEl:_h,isInFrame:O8,createEl:tt,textContent:Ll,prependTo:$E,hasClass:cl,addClass:Ra,removeClass:_g,toggleClass:N8,setAttributes:M8,getAttributes:va,getAttribute:F8,setAttribute:Qd,removeAttribute:GT,blockTextSelection:U8,unblockTextSelection:B8,getBoundingClientRect:Jd,findPosition:Lm,getPointerPosition:KT,isTextNode:j8,emptyEl:uk,normalizeContent:V8,appendContent:lk,insertContent:$8,isSingleLeftClick:Nm,$:Jo,$$:H8}),q8=!1,HE,Yie=function(){if(HE.options.autoSetup!==!1){var e=Array.prototype.slice.call(de.getElementsByTagName("video")),n=Array.prototype.slice.call(de.getElementsByTagName("audio")),i=Array.prototype.slice.call(de.getElementsByTagName("video-js")),r=e.concat(n,i);if(r&&r.length>0)for(var s=0,a=r.length;s<a;s++){var u=r[s];if(u&&u.getAttribute){if(u.player===void 0){var c=u.getAttribute("data-setup");c!==null&&HE(u)}}else{zE(1);break}}else q8||zE(1)}};function zE(t,e){!yh()||(e&&(HE=e),F.setTimeout(Yie,t))}function qE(){q8=!0,F.removeEventListener("load",qE)}yh()&&(de.readyState==="complete"?qE():F.addEventListener("load",qE));var W8=function(e){var n=de.createElement("style");return n.className=e,n},G8=function(e,n){e.styleSheet?e.styleSheet.cssText=n:e.textContent=n},Qie=3,Jie=Qie;function eo(){return Jie++}var K8;F.WeakMap||(K8=function(){function t(){this.vdata="vdata"+Math.floor(F.performance&&F.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(i,r){var s=i[this.vdata]||eo();return i[this.vdata]||(i[this.vdata]=s),this.data[s]=r,this},e.get=function(i){var r=i[this.vdata];if(r)return this.data[r];qe("We have no data for this element",i)},e.has=function(i){var r=i[this.vdata];return r in this.data},e.delete=function(i){var r=i[this.vdata];r&&(delete this.data[r],delete i[this.vdata])},t}());var Ei=F.WeakMap?new WeakMap:new K8;function j2(t,e){if(!!Ei.has(t)){var n=Ei.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Ei.delete(t)}}function ck(t,e,n,i){n.forEach(function(r){t(e,r,i)})}function XT(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var i=t||F.event;t={};for(var r in i)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&r!=="path"&&(r==="returnValue"&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||de),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){var s=de.documentElement,a=de.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var Ry,Zie=function(){if(typeof Ry!="boolean"){Ry=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Ry=!0}});F.addEventListener("test",null,e),F.removeEventListener("test",null,e)}catch{}}return Ry},ere=["touchstart","touchmove"];function gr(t,e,n){if(Array.isArray(e))return ck(gr,t,e,n);Ei.has(t)||Ei.set(t,{});var i=Ei.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=eo()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(s,a){if(!i.disabled){s=XT(s);var u=i.handlers[s.type];if(u)for(var c=u.slice(0),d=0,f=c.length;d<f&&!s.isImmediatePropagationStopped();d++)try{c[d].call(t,s,a)}catch(m){qe.error(m)}}}),i.handlers[e].length===1)if(t.addEventListener){var r=!1;Zie()&&ere.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function li(t,e,n){if(!!Ei.has(t)){var i=Ei.get(t);if(!!i.handlers){if(Array.isArray(e))return ck(li,t,e,n);var r=function(d,f){i.handlers[f]=[],j2(d,f)};if(e===void 0){for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(t,s);return}var a=i.handlers[e];if(!!a){if(!n){r(t,e);return}if(n.guid)for(var u=0;u<a.length;u++)a[u].guid===n.guid&&a.splice(u--,1);j2(t,e)}}}}function Th(t,e,n){var i=Ei.has(t)?Ei.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=XT(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)Th.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Ei.has(e.target)||Ei.set(e.target,{});var s=Ei.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function YT(t,e,n){if(Array.isArray(e))return ck(YT,t,e,n);var i=function r(){li(t,e,r),n.apply(this,arguments)};i.guid=n.guid=n.guid||eo(),gr(t,e,i)}function X8(t,e,n){var i=function r(){li(t,e,r),n.apply(this,arguments)};i.guid=n.guid=n.guid||eo(),gr(t,e,i)}var tre=Object.freeze({__proto__:null,fixEvent:XT,on:gr,off:li,trigger:Th,one:YT,any:X8}),ls=30,It=function(e,n,i){n.guid||(n.guid=eo());var r=n.bind(e);return r.guid=i?i+"_"+n.guid:n.guid,r},Ga=function(e,n){var i=F.performance.now(),r=function(){var a=F.performance.now();a-i>=n&&(e.apply(void 0,arguments),i=a)};return r},nre=function(e,n,i,r){r===void 0&&(r=F);var s,a=function(){r.clearTimeout(s),s=null},u=function(){var d=this,f=arguments,m=function(){s=null,m=null,i||e.apply(d,f)};!s&&i&&e.apply(d,f),r.clearTimeout(s),s=r.setTimeout(m,n)};return u.cancel=a,u},Un=function(){};Un.prototype.allowedEvents_={};Un.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},gr(this,t,e),this.addEventListener=n};Un.prototype.addEventListener=Un.prototype.on;Un.prototype.off=function(t,e){li(this,t,e)};Un.prototype.removeEventListener=Un.prototype.off;Un.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},YT(this,t,e),this.addEventListener=n};Un.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},X8(this,t,e),this.addEventListener=n};Un.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=XT(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Th(this,t)};Un.prototype.dispatchEvent=Un.prototype.trigger;var rp;Un.prototype.queueTrigger=function(t){var e=this;rp||(rp=new Map);var n=t.type||t,i=rp.get(this);i||(i=new Map,rp.set(this,i));var r=i.get(n);i.delete(n),F.clearTimeout(r);var s=F.setTimeout(function(){i.size===0&&(i=null,rp.delete(e)),e.trigger(t)},0);i.set(n,s)};var QT=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},Oa=function(e){return e instanceof Un||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(n){return typeof e[n]=="function"})},ire=function(e,n){Oa(e)?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))},WE=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},f_=function(e,n,i){if(!e||!e.nodeName&&!Oa(e))throw new Error("Invalid target for "+QT(n)+"#"+i+"; must be a DOM node or evented object.")},Y8=function(e,n,i){if(!WE(e))throw new Error("Invalid event type for "+QT(n)+"#"+i+"; must be a non-empty string or array.")},Q8=function(e,n,i){if(typeof e!="function")throw new Error("Invalid listener for "+QT(n)+"#"+i+"; must be a function.")},jS=function(e,n,i){var r=n.length<3||n[0]===e||n[0]===e.eventBusEl_,s,a,u;return r?(s=e.eventBusEl_,n.length>=3&&n.shift(),a=n[0],u=n[1]):(s=n[0],a=n[1],u=n[2]),f_(s,e,i),Y8(a,e,i),Q8(u,e,i),u=It(e,u),{isTargetingSelf:r,target:s,type:a,listener:u}},ju=function(e,n,i,r){f_(e,e,n),e.nodeName?tre[n](e,i,r):e[n](i,r)},rre={on:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=jS(this,i,"on"),a=s.isTargetingSelf,u=s.target,c=s.type,d=s.listener;if(ju(u,"on",c,d),!a){var f=function(){return e.off(u,c,d)};f.guid=d.guid;var m=function(){return e.off("dispose",f)};m.guid=d.guid,ju(this,"on","dispose",f),ju(u,"on","dispose",m)}},one:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=jS(this,i,"one"),a=s.isTargetingSelf,u=s.target,c=s.type,d=s.listener;if(a)ju(u,"one",c,d);else{var f=function m(){e.off(u,c,m);for(var g=arguments.length,E=new Array(g),I=0;I<g;I++)E[I]=arguments[I];d.apply(null,E)};f.guid=d.guid,ju(u,"one",c,f)}},any:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=jS(this,i,"any"),a=s.isTargetingSelf,u=s.target,c=s.type,d=s.listener;if(a)ju(u,"any",c,d);else{var f=function m(){e.off(u,c,m);for(var g=arguments.length,E=new Array(g),I=0;I<g;I++)E[I]=arguments[I];d.apply(null,E)};f.guid=d.guid,ju(u,"any",c,f)}},off:function(e,n,i){if(!e||WE(e))li(this.eventBusEl_,e,n);else{var r=e,s=n;f_(r,this,"off"),Y8(s,this,"off"),Q8(i,this,"off"),i=It(this,i),this.off("dispose",i),r.nodeName?(li(r,s,i),li(r,"dispose",i)):Oa(r)&&(r.off(s,i),r.off("dispose",i))}},trigger:function(e,n){f_(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!WE(i)){var r="Invalid event type for "+QT(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||qe).error(r);else throw new Error(r)}return Th(this.eventBusEl_,e,n)}};function dk(t,e){e===void 0&&(e={});var n=e,i=n.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=tt("span",{className:"vjs-event-bus"});return Kt(t,rre),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(r){r()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&Ei.has(r)&&Ei.delete(r)}),F.setTimeout(function(){t.eventBusEl_=null},0)}),t}var sre={state:{},setState:function(e){var n=this;typeof e=="function"&&(e=e());var i;return Sd(e,function(r,s){n.state[s]!==r&&(i=i||{},i[s]={from:n.state[s],to:r}),n.state[s]=r}),i&&Oa(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function J8(t,e){return Kt(t,sre),t.state=Kt({},t.state,e),typeof t.handleStateChanged=="function"&&Oa(t)&&t.on("statechanged",t.handleStateChanged),t}var a0=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toLowerCase()})},en=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},are=function(e,n){return en(e)===en(n)};function xt(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(r){!r||Sd(r,function(s,a){if(!Rm(s)){t[a]=s;return}Rm(t[a])||(t[a]={}),t[a]=xt(t[a],s)})}),t}var ore=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var r=this.has(i);return delete this.map_[i],r},e.set=function(i,r){return this.map_[i]=r,this},e.forEach=function(i,r){for(var s in this.map_)i.call(r,this.map_[s],s,this)},t}(),ure=F.Map?F.Map:ore,lre=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var r=this.has(i);return delete this.set_[i],r},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,r){for(var s in this.set_)i.call(r,s,s,this)},t}(),VS=F.Set?F.Set:lre,ne=function(){function t(n,i,r){var s=this;if(!n&&this.play?this.player_=n=this:this.player_=n,this.isDisposed_=!1,this.parentComponent_=null,this.options_=xt({},this.options_),i=this.options_=xt(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var a=n&&n.id&&n.id()||"no_player";this.id_=a+"_component_"+eo()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(function(u){return s.addClass(u)}),i.evented!==!1&&(dk(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),J8(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new VS,this.setIntervalIds_=new VS,this.rafIds_=new VS,this.namedRafs_=new ure,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(r),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(i){if(i===void 0&&(i={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(i.restoreEl?this.el_.parentNode.replaceChild(i.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=xt(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,r,s){return tt(i,r,s)},e.localize=function(i,r,s){s===void 0&&(s=i);var a=this.player_.language&&this.player_.language(),u=this.player_.languages&&this.player_.languages(),c=u&&u[a],d=a&&a.split("-")[0],f=u&&u[d],m=s;return c&&c[i]?m=c[i]:f&&f[i]&&(m=f[i]),r&&(m=m.replace(/\{(\d+)\}/g,function(g,E){var I=r[E-1],b=I;return typeof I>"u"&&(b=g),b})),m},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(!!i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r=r.reduce(function(c,d){return c.concat(d)},[]);for(var a=this,u=0;u<r.length;u++)if(a=a.getChild(r[u]),!a||!a.getChild)return;return a},e.addChild=function(i,r,s){r===void 0&&(r={}),s===void 0&&(s=this.children_.length);var a,u;if(typeof i=="string"){u=en(i);var c=r.componentClass||u;r.name=u;var d=t.getComponent(c);if(!d)throw new Error("Component "+c+" does not exist");if(typeof d!="function")return null;a=new d(this.player_||this,r)}else a=i;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(s,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),u=u||a.name&&en(a.name()),u&&(this.childNameIndex_[u]=a,this.childNameIndex_[a0(u)]=a),typeof a.el=="function"&&a.el()){var f=null;this.children_[s+1]&&(this.children_[s+1].el_?f=this.children_[s+1].el_:_h(this.children_[s+1])&&(f=this.children_[s+1])),this.contentEl().insertBefore(a.el(),f)}return a},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var r=!1,s=this.children_.length-1;s>=0;s--)if(this.children_[s]===i){r=!0,this.children_.splice(s,1);break}if(!!r){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[en(i.name())]=null,this.childNameIndex_[a0(i.name())]=null;var a=i.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,r=this.options_.children;if(r){var s=this.options_,a=function(f){var m=f.name,g=f.opts;if(s[m]!==void 0&&(g=s[m]),g!==!1){g===!0&&(g={}),g.playerOptions=i.options_.playerOptions;var E=i.addChild(m,g);E&&(i[m]=E)}},u,c=t.getComponent("Tech");Array.isArray(r)?u=r:u=Object.keys(r),u.concat(Object.keys(this.options_).filter(function(d){return!u.some(function(f){return typeof f=="string"?d===f:d===f.name})})).map(function(d){var f,m;return typeof d=="string"?(f=d,m=r[f]||i.options_[f]||{}):(f=d.name,m=d),{name:f,opts:m}}).filter(function(d){var f=t.getComponent(d.opts.componentClass||en(d.name));return f&&!c.isTech(f)}).forEach(a)}},e.buildCSSClass=function(){return""},e.ready=function(i,r){if(r===void 0&&(r=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}r?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)},e.$=function(i,r){return Jo(i,r||this.contentEl())},e.$$=function(i,r){return H8(i,r||this.contentEl())},e.hasClass=function(i){return cl(this.el_,i)},e.addClass=function(i){Ra(this.el_,i)},e.removeClass=function(i){_g(this.el_,i)},e.toggleClass=function(i,r){N8(this.el_,i,r)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return F8(this.el_,i)},e.setAttribute=function(i,r){Qd(this.el_,i,r)},e.removeAttribute=function(i){GT(this.el_,i)},e.width=function(i,r){return this.dimension("width",i,r)},e.height=function(i,r){return this.dimension("height",i,r)},e.dimensions=function(i,r){this.width(i,!0),this.height(r)},e.dimension=function(i,r,s){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[i]=r:r==="auto"?this.el_.style[i]="":this.el_.style[i]=r+"px",s||this.trigger("componentresize");return}if(!this.el_)return 0;var a=this.el_.style[i],u=a.indexOf("px");return parseInt(u!==-1?a.slice(0,u):this.el_["offset"+en(i)],10)},e.currentDimension=function(i){var r=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Om(this.el_,i),r=parseFloat(r),r===0||isNaN(r)){var s="offset"+en(i);r=this.el_[s]}return r},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(Fe.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,r=null,s=10,a=200,u;this.on("touchstart",function(d){d.touches.length===1&&(r={pageX:d.touches[0].pageX,pageY:d.touches[0].pageY},i=F.performance.now(),u=!0)}),this.on("touchmove",function(d){if(d.touches.length>1)u=!1;else if(r){var f=d.touches[0].pageX-r.pageX,m=d.touches[0].pageY-r.pageY,g=Math.sqrt(f*f+m*m);g>s&&(u=!1)}});var c=function(){u=!1};this.on("touchleave",c),this.on("touchcancel",c),this.on("touchend",function(d){if(r=null,u===!0){var f=F.performance.now()-i;f<a&&(d.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=It(this.player(),this.player().reportUserActivity),r;this.on("touchstart",function(){i(),this.clearInterval(r),r=this.setInterval(i,250)});var s=function(u){i(),this.clearInterval(r)};this.on("touchmove",i),this.on("touchend",s),this.on("touchcancel",s)}},e.setTimeout=function(i,r){var s=this,a;return i=It(this,i),this.clearTimersOnDispose_(),a=F.setTimeout(function(){s.setTimeoutIds_.has(a)&&s.setTimeoutIds_.delete(a),i()},r),this.setTimeoutIds_.add(a),a},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),F.clearTimeout(i)),i},e.setInterval=function(i,r){i=It(this,i),this.clearTimersOnDispose_();var s=F.setInterval(i,r);return this.setIntervalIds_.add(s),s},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),F.clearInterval(i)),i},e.requestAnimationFrame=function(i){var r=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var s;return i=It(this,i),s=F.requestAnimationFrame(function(){r.rafIds_.has(s)&&r.rafIds_.delete(s),i()}),this.rafIds_.add(s),s},e.requestNamedAnimationFrame=function(i,r){var s=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),r=It(this,r);var a=this.requestAnimationFrame(function(){r(),s.namedRafs_.has(i)&&s.namedRafs_.delete(i)});return this.namedRafs_.set(i,a),i}},e.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),F.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(r){var s=r[0],a=r[1];i[s].forEach(function(u,c){return i[a](c)})}),i.clearingTimersOnDispose_=!1}))},t.registerComponent=function(i,r){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var s=t.getComponent("Tech"),a=s&&s.isTech(r),u=t===r||t.prototype.isPrototypeOf(r.prototype);if(a||!u){var c;throw a?c="techs must be registered using Tech.registerTech()":c="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+c+".")}i=en(i),t.components_||(t.components_={});var d=t.getComponent("Player");if(i==="Player"&&d&&d.players){var f=d.players,m=Object.keys(f);if(f&&m.length>0&&m.map(function(g){return f[g]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[i]=r,t.components_[a0(i)]=r,r},t.getComponent=function(i){if(!(!i||!t.components_))return t.components_[i]},t}();ne.prototype.supportsRaf_=typeof F.requestAnimationFrame=="function"&&typeof F.cancelAnimationFrame=="function";ne.registerComponent("Component",ne);function cre(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function V2(t,e,n,i){return cre(t,i,n.length-1),n[i][e]}function $S(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:V2.bind(null,"start",0,t),end:V2.bind(null,"end",1,t)},F.Symbol&&F.Symbol.iterator&&(e[F.Symbol.iterator]=function(){return(t||[]).values()}),e}function dl(t,e){return Array.isArray(t)?$S(t):t===void 0||e===void 0?$S():$S([[t,e]])}function Z8(t,e){var n=0,i,r;if(!e)return 0;(!t||!t.length)&&(t=dl(0,0));for(var s=0;s<t.length;s++)i=t.start(s),r=t.end(s),r>e&&(r=e),n+=r-i;return n/e}function xi(t){if(t instanceof xi)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Wa(t)&&(typeof t.code=="number"&&(this.code=t.code),Kt(this,t)),this.message||(this.message=xi.defaultMessages[this.code]||"")}xi.prototype.code=0;xi.prototype.message="";xi.prototype.status=null;xi.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];xi.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var $c=0;$c<xi.errorTypes.length;$c++)xi[xi.errorTypes[$c]]=$c,xi.prototype[xi.errorTypes[$c]]=$c;function $p(t){return t!=null&&typeof t.then=="function"}function Ns(t){$p(t)&&t.then(null,function(e){})}var GE=function(e){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,r,s){return e[r]&&(i[r]=e[r]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return n},dre=function(e){var n=e.$$("track"),i=Array.prototype.map.call(n,function(s){return s.track}),r=Array.prototype.map.call(n,function(s){var a=GE(s.track);return s.src&&(a.src=s.src),a});return r.concat(Array.prototype.filter.call(e.textTracks(),function(s){return i.indexOf(s)===-1}).map(GE))},hre=function(e,n){return e.forEach(function(i){var r=n.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(s){return r.addCue(s)})}),n.textTracks()},$2={textTracksToJson:dre,jsonToTextTracks:hre,trackToJson_:GE},HS="vjs-modal-dialog",bh=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.close_=function(a){return s.close(a)},s.opened_=s.hasBeenOpened_=s.hasBeenFilled_=!1,s.closeable(!s.options_.uncloseable),s.content(s.options_.content),s.contentEl_=tt("div",{className:HS+"-content"},{role:"document"}),s.descEl_=tt("p",{className:HS+"-description vjs-control-text",id:s.el().getAttribute("aria-describedby")}),Ll(s.descEl_,s.description()),s.el_.appendChild(s.descEl_),s.el_.appendChild(s.contentEl_),s}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return HS+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var r=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(r+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),r},n.open=function(){if(!this.opened_){var r=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!r.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&r.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=r.controls(),r.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(r){return typeof r=="boolean"&&this[r?"open":"close"](),this.opened_},n.close=function(){if(!!this.opened_){var r=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&r.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&r.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(r){if(typeof r=="boolean"){var s=this.closeable_=!!r,a=this.getChild("closeButton");if(s&&!a){var u=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=u,this.on(a,"close",this.close_)}!s&&a&&(this.off(a,"close",this.close_),this.removeChild(a),a.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(r){var s=this.contentEl(),a=s.parentNode,u=s.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(s),this.empty(),$8(s,r),this.trigger("modalfill"),u?a.insertBefore(s,u):a.appendChild(s);var c=this.getChild("closeButton");c&&a.appendChild(c.el_)},n.empty=function(){this.trigger("beforemodalempty"),uk(this.contentEl()),this.trigger("modalempty")},n.content=function(r){return typeof r<"u"&&(this.content_=r),this.content_},n.conditionalFocus_=function(){var r=de.activeElement,s=this.player_.el_;this.previouslyActiveEl_=null,(s.contains(r)||s===r)&&(this.previouslyActiveEl_=r,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(r){if(r.stopPropagation(),Fe.isEventKey(r,"Escape")&&this.closeable()){r.preventDefault(),this.close();return}if(!!Fe.isEventKey(r,"Tab")){for(var s=this.focusableEls_(),a=this.el_.querySelector(":focus"),u,c=0;c<s.length;c++)if(a===s[c]){u=c;break}de.activeElement===this.el_&&(u=0),r.shiftKey&&u===0?(s[s.length-1].focus(),r.preventDefault()):!r.shiftKey&&u===s.length-1&&(s[0].focus(),r.preventDefault())}},n.focusableEls_=function(){var r=this.el_.querySelectorAll("*");return Array.prototype.filter.call(r,function(s){return(s instanceof F.HTMLAnchorElement||s instanceof F.HTMLAreaElement)&&s.hasAttribute("href")||(s instanceof F.HTMLInputElement||s instanceof F.HTMLSelectElement||s instanceof F.HTMLTextAreaElement||s instanceof F.HTMLButtonElement)&&!s.hasAttribute("disabled")||s instanceof F.HTMLIFrameElement||s instanceof F.HTMLObjectElement||s instanceof F.HTMLEmbedElement||s.hasAttribute("tabindex")&&s.getAttribute("tabindex")!==-1||s.hasAttribute("contenteditable")})},e}(ne);bh.prototype.options_={pauseOnOpen:!0,temporary:!0};ne.registerComponent("ModalDialog",bh);var Zd=function(t){fe(e,t);function e(i){var r;i===void 0&&(i=[]),r=t.call(this)||this,r.tracks_=[],Object.defineProperty(Ne(r),"length",{get:function(){return this.tracks_.length}});for(var s=0;s<i.length;s++)r.addTrack(i[s]);return r}var n=e.prototype;return n.addTrack=function(r){var s=this,a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(r)===-1&&(this.tracks_.push(r),this.trigger({track:r,type:"addtrack",target:this})),r.labelchange_=function(){s.trigger({track:r,type:"labelchange",target:s})},Oa(r)&&r.addEventListener("labelchange",r.labelchange_)},n.removeTrack=function(r){for(var s,a=0,u=this.length;a<u;a++)if(this[a]===r){s=this[a],s.off&&s.off(),this.tracks_.splice(a,1);break}!s||this.trigger({track:s,type:"removetrack",target:this})},n.getTrackById=function(r){for(var s=null,a=0,u=this.length;a<u;a++){var c=this[a];if(c.id===r){s=c;break}}return s},e}(Un);Zd.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var fre in Zd.prototype.allowedEvents_)Zd.prototype["on"+fre]=null;var zS=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].enabled=!1)},pre=function(t){fe(e,t);function e(i){var r;i===void 0&&(i=[]);for(var s=i.length-1;s>=0;s--)if(i[s].enabled){zS(i,i[s]);break}return r=t.call(this,i)||this,r.changing_=!1,r}var n=e.prototype;return n.addTrack=function(r){var s=this;r.enabled&&zS(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.enabledChange_=function(){s.changing_||(s.changing_=!0,zS(s,r),s.changing_=!1,s.trigger("change"))},r.addEventListener("enabledchange",r.enabledChange_))},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.enabledChange_&&(r.removeEventListener("enabledchange",r.enabledChange_),r.enabledChange_=null)},e}(Zd),qS=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].selected=!1)},mre=function(t){fe(e,t);function e(i){var r;i===void 0&&(i=[]);for(var s=i.length-1;s>=0;s--)if(i[s].selected){qS(i,i[s]);break}return r=t.call(this,i)||this,r.changing_=!1,Object.defineProperty(Ne(r),"selectedIndex",{get:function(){for(var u=0;u<this.length;u++)if(this[u].selected)return u;return-1},set:function(){}}),r}var n=e.prototype;return n.addTrack=function(r){var s=this;r.selected&&qS(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.selectedChange_=function(){s.changing_||(s.changing_=!0,qS(s,r),s.changing_=!1,s.trigger("change"))},r.addEventListener("selectedchange",r.selectedChange_))},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.selectedChange_&&(r.removeEventListener("selectedchange",r.selectedChange_),r.selectedChange_=null)},e}(Zd),ej=function(t){fe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.addTrack=function(r){var s=this;t.prototype.addTrack.call(this,r),this.queueChange_||(this.queueChange_=function(){return s.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return s.trigger("selectedlanguagechange")}),r.addEventListener("modechange",this.queueChange_);var a=["metadata","chapters"];a.indexOf(r.kind)===-1&&r.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&(this.queueChange_&&r.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&r.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Zd),gre=function(){function t(n){n===void 0&&(n=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,r=n.length;i<r;i++)this.addTrackElement_(n[i])}var e=t.prototype;return e.addTrackElement_=function(i){var r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.trackElements_[r]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var r,s=0,a=this.trackElements_.length;s<a;s++)if(i===this.trackElements_[s].track){r=this.trackElements_[s];break}return r},e.removeTrackElement_=function(i){for(var r=0,s=this.trackElements_.length;r<s;r++)if(i===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}},t}(),H2=function(){function t(n){t.prototype.setCues_.call(this,n),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(i){var r=this.length||0,s=0,a=i.length;this.cues_=i,this.length_=i.length;var u=function(d){""+d in this||Object.defineProperty(this,""+d,{get:function(){return this.cues_[d]}})};if(r<a)for(s=r;s<a;s++)u.call(this,s)},e.getCueById=function(i){for(var r=null,s=0,a=this.length;s<a;s++){var u=this[s];if(u.id===i){r=u;break}}return r},t}(),vre={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},yre={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},_re={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},z2={disabled:"disabled",hidden:"hidden",showing:"showing"},hk=function(t){fe(e,t);function e(n){var i;n===void 0&&(n={}),i=t.call(this)||this;var r={id:n.id||"vjs_track_"+eo(),kind:n.kind||"",language:n.language||""},s=n.label||"",a=function(d){Object.defineProperty(Ne(i),d,{get:function(){return r[d]},set:function(){}})};for(var u in r)a(u);return Object.defineProperty(Ne(i),"label",{get:function(){return s},set:function(d){d!==s&&(s=d,this.trigger("labelchange"))}}),i}return e}(Un),fk=function(e){var n=["protocol","hostname","port","pathname","search","hash","host"],i=de.createElement("a");i.href=e;for(var r={},s=0;s<n.length;s++)r[n[s]]=i[n[s]];return r.protocol==="http:"&&(r.host=r.host.replace(/:80$/,"")),r.protocol==="https:"&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=F.location.protocol),r.host||(r.host=F.location.host),r},tj=function(e){if(!e.match(/^https?:\/\//)){var n=de.createElement("a");n.href=e,e=n.href}return e},pk=function(e){if(typeof e=="string"){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=n.exec(e);if(i)return i.pop().toLowerCase()}return""},JT=function(e,n){n===void 0&&(n=F.location);var i=fk(e),r=i.protocol===":"?n.protocol:i.protocol,s=r+i.host!==n.protocol+n.host;return s},Tre=Object.freeze({__proto__:null,parseUrl:fk,getAbsoluteURL:tj,getFileExtension:pk,isCrossOrigin:JT}),q2=function(e,n){var i=new F.WebVTT.Parser(F,F.vttjs,F.WebVTT.StringDecoder()),r=[];i.oncue=function(s){n.addCue(s)},i.onparsingerror=function(s){r.push(s)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),r.length>0&&(F.console&&F.console.groupCollapsed&&F.console.groupCollapsed("Text Track parsing errors for "+n.src),r.forEach(function(s){return qe.error(s)}),F.console&&F.console.groupEnd&&F.console.groupEnd()),i.flush()},W2=function(e,n){var i={uri:e},r=JT(e);r&&(i.cors=r);var s=n.tech_.crossOrigin()==="use-credentials";s&&(i.withCredentials=s),FT.exports(i,It(this,function(a,u,c){if(a)return qe.error(a,u);n.loaded_=!0,typeof F.WebVTT!="function"?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(d){if(d.type==="vttjserror"){qe.error("vttjs failed to load, stopping trying to process "+n.src);return}return q2(c,n)}):q2(c,n)}))},Tg=function(t){fe(e,t);function e(i){var r;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var s=xt(i,{kind:_re[i.kind]||"subtitles",language:i.language||i.srclang||""}),a=z2[s.mode]||"disabled",u=s.default;(s.kind==="metadata"||s.kind==="chapters")&&(a="hidden"),r=t.call(this,s)||this,r.tech_=s.tech,r.cues_=[],r.activeCues_=[],r.preload_=r.tech_.preloadTextTracks!==!1;var c=new H2(r.cues_),d=new H2(r.activeCues_),f=!1;r.timeupdateHandler=It(Ne(r),function(g){if(g===void 0&&(g={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){g.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,f&&(this.trigger("cuechange"),f=!1),g.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var m=function(){r.stopTracking()};return r.tech_.one("dispose",m),a!=="disabled"&&r.startTracking(),Object.defineProperties(Ne(r),{default:{get:function(){return u},set:function(){}},mode:{get:function(){return a},set:function(E){!z2[E]||a!==E&&(a=E,!this.preload_&&a!=="disabled"&&this.cues.length===0&&W2(this.src,this),this.stopTracking(),a!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?c:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return d;for(var E=this.tech_.currentTime(),I=[],b=0,x=this.cues.length;b<x;b++){var k=this.cues[b];(k.startTime<=E&&k.endTime>=E||k.startTime===k.endTime&&k.startTime<=E&&k.startTime+.5>=E)&&I.push(k)}if(f=!1,I.length!==this.activeCues_.length)f=!0;else for(var P=0;P<I.length;P++)this.activeCues_.indexOf(I[P])===-1&&(f=!0);return this.activeCues_=I,d.setCues_(this.activeCues_),d},set:function(){}}}),s.src?(r.src=s.src,r.preload_||(r.loaded_=!0),(r.preload_||s.kind!=="subtitles"&&s.kind!=="captions")&&W2(r.src,Ne(r))):r.loaded_=!0,r}var n=e.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},n.addCue=function(r){var s=r;if(F.vttjs&&!(r instanceof F.vttjs.VTTCue)){s=new F.vttjs.VTTCue(r.startTime,r.endTime,r.text);for(var a in r)a in s||(s[a]=r[a]);s.id=r.id,s.originalCue_=r}for(var u=this.tech_.textTracks(),c=0;c<u.length;c++)u[c]!==this&&u[c].removeCue(s);this.cues_.push(s),this.cues.setCues_(this.cues_)},n.removeCue=function(r){for(var s=this.cues_.length;s--;){var a=this.cues_[s];if(a===r||a.originalCue_&&a.originalCue_===r){this.cues_.splice(s,1),this.cues.setCues_(this.cues_);break}}},e}(hk);Tg.prototype.allowedEvents_={cuechange:"cuechange"};var nj=function(t){fe(e,t);function e(n){var i;n===void 0&&(n={});var r=xt(n,{kind:yre[n.kind]||""});i=t.call(this,r)||this;var s=!1;return Object.defineProperty(Ne(i),"enabled",{get:function(){return s},set:function(u){typeof u!="boolean"||u===s||(s=u,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return e}(hk),ij=function(t){fe(e,t);function e(n){var i;n===void 0&&(n={});var r=xt(n,{kind:vre[n.kind]||""});i=t.call(this,r)||this;var s=!1;return Object.defineProperty(Ne(i),"selected",{get:function(){return s},set:function(u){typeof u!="boolean"||u===s||(s=u,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),i}return e}(hk),rj=0,bre=1,sj=2,wre=3,wh=function(t){fe(e,t);function e(n){var i;n===void 0&&(n={}),i=t.call(this)||this;var r,s=new Tg(n);return i.kind=s.kind,i.src=s.src,i.srclang=s.language,i.label=s.label,i.default=s.default,Object.defineProperties(Ne(i),{readyState:{get:function(){return r}},track:{get:function(){return s}}}),r=rj,s.addEventListener("loadeddata",function(){r=sj,i.trigger({type:"load",target:Ne(i)})}),i}return e}(Un);wh.prototype.allowedEvents_={load:"load"};wh.NONE=rj;wh.LOADING=bre;wh.LOADED=sj;wh.ERROR=wre;var Ar={audio:{ListClass:pre,TrackClass:nj,capitalName:"Audio"},video:{ListClass:mre,TrackClass:ij,capitalName:"Video"},text:{ListClass:ej,TrackClass:Tg,capitalName:"Text"}};Object.keys(Ar).forEach(function(t){Ar[t].getterName=t+"Tracks",Ar[t].privateName=t+"Tracks_"});var eh={remoteText:{ListClass:ej,TrackClass:Tg,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:gre,TrackClass:wh,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},bi=Or({},Ar,eh);eh.names=Object.keys(eh);Ar.names=Object.keys(Ar);bi.names=[].concat(eh.names).concat(Ar.names);function Sre(t,e,n,i,r){r===void 0&&(r={});var s=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var a=new bi.text.TrackClass(r);return s.addTrack(a),a}var yt=function(t){fe(e,t);function e(i,r){var s;return i===void 0&&(i={}),r===void 0&&(r=function(){}),i.reportTouchActivity=!1,s=t.call(this,null,i,r)||this,s.onDurationChange_=function(a){return s.onDurationChange(a)},s.trackProgress_=function(a){return s.trackProgress(a)},s.trackCurrentTime_=function(a){return s.trackCurrentTime(a)},s.stopTrackingCurrentTime_=function(a){return s.stopTrackingCurrentTime(a)},s.disposeSourceHandler_=function(a){return s.disposeSourceHandler(a)},s.queuedHanders_=new Set,s.hasStarted_=!1,s.on("playing",function(){this.hasStarted_=!0}),s.on("loadstart",function(){this.hasStarted_=!1}),bi.names.forEach(function(a){var u=bi[a];i&&i[u.getterName]&&(s[u.privateName]=i[u.getterName])}),s.featuresProgressEvents||s.manualProgressOn(),s.featuresTimeupdateEvents||s.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(a){i["native"+a+"Tracks"]===!1&&(s["featuresNative"+a+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?s.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(s.featuresNativeTextTracks=!0),s.featuresNativeTextTracks||s.emulateTextTracks(),s.preloadTextTracks=i.preloadTextTracks!==!1,s.autoRemoteTextTracks_=new bi.text.ListClass,s.initTrackListeners(),i.nativeControlsForTouch||s.emitTapEvents(),s.constructor&&(s.name_=s.constructor.name||"Unknown Tech"),s}var n=e.prototype;return n.triggerSourceset=function(r){var s=this;this.isReady_||this.one("ready",function(){return s.setTimeout(function(){return s.triggerSourceset(r)},1)}),this.trigger({src:r,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(r){this.stopTrackingProgress(),this.progressInterval=this.setInterval(It(this,function(){var s=this.bufferedPercent();this.bufferedPercent_!==s&&this.trigger("progress"),this.bufferedPercent_=s,s===1&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(r){this.duration_=this.duration()},n.buffered=function(){return dl(0,0)},n.bufferedPercent=function(){return Z8(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Ar.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.clearTracks=function(r){var s=this;r=[].concat(r),r.forEach(function(a){for(var u=s[a+"Tracks"]()||[],c=u.length;c--;){var d=u[c];a==="text"&&s.removeRemoteTextTrack(d),u.removeTrack(d)}})},n.cleanupAutoTextTracks=function(){for(var r=this.autoRemoteTextTracks_||[],s=r.length;s--;){var a=r[s];this.removeRemoteTextTrack(a)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(r){return r!==void 0&&(this.error_=new xi(r),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?dl(0,0):dl()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var r=this;Ar.names.forEach(function(s){var a=Ar[s],u=function(){r.trigger(s+"trackchange")},c=r[a.getterName]();c.addEventListener("removetrack",u),c.addEventListener("addtrack",u),r.on("dispose",function(){c.removeEventListener("removetrack",u),c.removeEventListener("addtrack",u)})})},n.addWebVttScript_=function(){var r=this;if(!F.WebVTT)if(de.body.contains(this.el())){if(!this.options_["vtt.js"]&&Rm(LE.exports)&&Object.keys(LE.exports).length>0){this.trigger("vttjsloaded");return}var s=de.createElement("script");s.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",s.onload=function(){r.trigger("vttjsloaded")},s.onerror=function(){r.trigger("vttjserror")},this.on("dispose",function(){s.onload=null,s.onerror=null}),F.WebVTT=!0,this.el().parentNode.appendChild(s)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var r=this,s=this.textTracks(),a=this.remoteTextTracks(),u=function(g){return s.addTrack(g.track)},c=function(g){return s.removeTrack(g.track)};a.on("addtrack",u),a.on("removetrack",c),this.addWebVttScript_();var d=function(){return r.trigger("texttrackchange")},f=function(){d();for(var g=0;g<s.length;g++){var E=s[g];E.removeEventListener("cuechange",d),E.mode==="showing"&&E.addEventListener("cuechange",d)}};f(),s.addEventListener("change",f),s.addEventListener("addtrack",f),s.addEventListener("removetrack",f),this.on("dispose",function(){a.off("addtrack",u),a.off("removetrack",c),s.removeEventListener("change",f),s.removeEventListener("addtrack",f),s.removeEventListener("removetrack",f);for(var m=0;m<s.length;m++){var g=s[m];g.removeEventListener("cuechange",d)}})},n.addTextTrack=function(r,s,a){if(!r)throw new Error("TextTrack kind is required but was not provided");return Sre(this,r,s,a)},n.createRemoteTextTrack=function(r){var s=xt(r,{tech:this});return new eh.remoteTextEl.TrackClass(s)},n.addRemoteTextTrack=function(r,s){var a=this;r===void 0&&(r={});var u=this.createRemoteTextTrack(r);return s!==!0&&s!==!1&&(qe.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),s=!0),this.remoteTextTrackEls().addTrackElement_(u),this.remoteTextTracks().addTrack(u.track),s!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(u.track)}),u},n.removeRemoteTextTrack=function(r){var s=this.remoteTextTrackEls().getTrackElementByTrack_(r);this.remoteTextTrackEls().removeTrackElement_(s),this.remoteTextTracks().removeTrack(r),this.autoRemoteTextTracks_.removeTrack(r)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var r=this.options_.Promise||F.Promise;if(r)return r.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(r){var s=this,a=eo();return!this.isReady_||this.paused()?(this.queuedHanders_.add(a),this.one("playing",function(){s.queuedHanders_.has(a)&&(s.queuedHanders_.delete(a),r())})):this.requestNamedAnimationFrame(a,r),a},n.cancelVideoFrameCallback=function(r){this.queuedHanders_.has(r)?this.queuedHanders_.delete(r):this.cancelNamedAnimationFrame(r)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(r,s){return e.canPlayType(r.type)},e.isTech=function(r){return r.prototype instanceof e||r instanceof e||r===e},e.registerTech=function(r,s){if(e.techs_||(e.techs_={}),!e.isTech(s))throw new Error("Tech "+r+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return r=en(r),e.techs_[r]=s,e.techs_[a0(r)]=s,r!=="Tech"&&e.defaultTechOrder_.push(r),s},e.getTech=function(r){if(!!r){if(e.techs_&&e.techs_[r])return e.techs_[r];if(r=en(r),F&&F.videojs&&F.videojs[r])return qe.warn("The "+r+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),F.videojs[r]}},e}(ne);bi.names.forEach(function(t){var e=bi[t];yt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});yt.prototype.featuresVolumeControl=!0;yt.prototype.featuresMuteControl=!0;yt.prototype.featuresFullscreenResize=!1;yt.prototype.featuresPlaybackRate=!1;yt.prototype.featuresProgressEvents=!1;yt.prototype.featuresSourceset=!1;yt.prototype.featuresTimeupdateEvents=!1;yt.prototype.featuresNativeTextTracks=!1;yt.prototype.featuresVideoFrameCallback=!1;yt.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),i===void 0&&(i=r.length),r.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],r,s=0;s<i.length;s++)if(r=i[s].canPlayType(n),r)return r;return""},t.selectSourceHandler=function(n,i){for(var r=t.sourceHandlers||[],s,a=0;a<r.length;a++)if(s=r[a].canHandleSource(n,i),s)return r[a];return null},t.canPlaySource=function(n,i){var r=t.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""};var e=["seekable","seeking","duration"];e.forEach(function(n){var i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:qe.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};ne.registerComponent("Tech",yt);yt.registerTech("Tech",yt);yt.defaultTechOrder_=[];var hl={},KE={},p_={};function Ere(t,e){hl[t]=hl[t]||[],hl[t].push(e)}function xre(t,e,n){t.setTimeout(function(){return zu(e,hl[e.type],n,t)},1)}function Cre(t,e){t.forEach(function(n){return n.setTech&&n.setTech(e)})}function Ire(t,e,n){return t.reduceRight(mk(n),e[n]())}function kre(t,e,n,i){return e[n](t.reduce(mk(n),i))}function G2(t,e,n,i){i===void 0&&(i=null);var r="call"+en(n),s=t.reduce(mk(r),i),a=s===p_,u=a?null:e[n](s);return Dre(t,n,u,a),u}var Are={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Pre={setCurrentTime:1,setMuted:1,setVolume:1},K2={play:1,pause:1};function mk(t){return function(e,n){return e===p_?p_:n[t]?n[t](e):e}}function Dre(t,e,n,i){for(var r=t.length-1;r>=0;r--){var s=t[r];s[e]&&s[e](i,n)}}function Rre(t){KE[t.id()]=null}function Ore(t,e){var n=KE[t.id()],i=null;if(n==null)return i=e(t),KE[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var s=n[r],a=s[0],u=s[1];a===e&&(i=u)}return i===null&&(i=e(t),n.push([e,i])),i}function zu(t,e,n,i,r,s){t===void 0&&(t={}),e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s=!1);var a=e,u=a[0],c=a.slice(1);if(typeof u=="string")zu(t,hl[u],n,i,r,s);else if(u){var d=Ore(i,u);if(!d.setSource)return r.push(d),zu(t,c,n,i,r,s);d.setSource(Kt({},t),function(f,m){if(f)return zu(t,c,n,i,r,s);r.push(d),zu(m,t.type===m.type?c:hl[m.type],n,i,r,s)})}else c.length?zu(t,c,n,i,r,s):s?n(t,r):zu(t,hl["*"],n,i,r,!0)}var Lre={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},m_=function(e){e===void 0&&(e="");var n=pk(e),i=Lre[n.toLowerCase()];return i||""},Nre=function(e,n){if(!n)return"";if(e.cache_.source.src===n&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(u){return u.src===n});if(i.length)return i[0].type;for(var r=e.$$("source"),s=0;s<r.length;s++){var a=r[s];if(a.type&&a.src&&a.src===n)return a.type}return m_(n)},Mre=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(i){i=t(i),Array.isArray(i)?n=n.concat(i):Wa(i)&&n.push(i)}),e=n}else typeof e=="string"&&e.trim()?e=[X2({src:e})]:Wa(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[X2(e)]:e=[];return e};function X2(t){if(!t.type){var e=m_(t.src);e&&(t.type=e)}return t}var Fre=function(t){fe(e,t);function e(n,i,r){var s,a=xt({createEl:!1},i);if(s=t.call(this,n,a,r)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var u=0,c=i.playerOptions.techOrder;u<c.length;u++){var d=en(c[u]),f=yt.getTech(d);if(d||(f=ne.getComponent(d)),f&&f.isSupported()){n.loadTech_(d);break}}else n.src(i.playerOptions.sources);return s}return e}(ne);ne.registerComponent("MediaLoader",Fre);var ZT=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.options_.controlText&&s.controlText(s.options_.controlText),s.handleMouseOver_=function(a){return s.handleMouseOver(a)},s.handleMouseOut_=function(a){return s.handleMouseOut(a)},s.handleClick_=function(a){return s.handleClick(a)},s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.emitTapEvents(),s.enable(),s}var n=e.prototype;return n.createEl=function(r,s,a){r===void 0&&(r="div"),s===void 0&&(s={}),a===void 0&&(a={}),s=Kt({className:this.buildCSSClass(),tabIndex:0},s),r==="button"&&qe.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead."),a=Kt({role:"button"},a),this.tabIndex_=s.tabIndex;var u=tt(r,s,a);return u.appendChild(tt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(u),u},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(r){return this.controlTextEl_=tt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),r&&r.appendChild(this.controlTextEl_),this.controlText(this.controlText_,r),this.controlTextEl_},n.controlText=function(r,s){if(s===void 0&&(s=this.el()),r===void 0)return this.controlText_||"Need Text";var a=this.localize(r);this.controlText_=r,Ll(this.controlTextEl_,a),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&s.setAttribute("title",a)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(r){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(r){Fe.isEventKey(r,"Space")||Fe.isEventKey(r,"Enter")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(ne);ne.registerComponent("ClickableComponent",ZT);var Ure=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.update(),s.update_=function(a){return s.update(a)},i.on("posterchange",s.update_),s}var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},n.createEl=function(){var r=tt("div",{className:"vjs-poster",tabIndex:-1});return r},n.update=function(r){var s=this.player().poster();this.setSrc(s),s?this.show():this.hide()},n.setSrc=function(r){var s="";r&&(s='url("'+r+'")'),this.el_.style.backgroundImage=s},n.handleClick=function(r){if(!!this.player_.controls()){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((yg||vg)&&s)&&this.player_.tech(!0).focus(),this.player_.paused()?Ns(this.player_.play()):this.player_.pause()}},e}(ZT);ne.registerComponent("PosterImage",Ure);var Sr="#222",Y2="#ccc",Bre={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function WS(t,e){var n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function GS(t,e,n){try{t.style[e]=n}catch{return}}var jre=function(t){fe(e,t);function e(i,r,s){var a;a=t.call(this,i,r,s)||this;var u=function(d){return a.updateDisplay(d)};return i.on("loadstart",function(c){return a.toggleDisplay(c)}),i.on("texttrackchange",u),i.on("loadedmetadata",function(c){return a.preselectTrack(c)}),i.ready(It(Ne(a),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",u),i.on("playerresize",u),F.addEventListener("orientationchange",u),i.on("dispose",function(){return F.removeEventListener("orientationchange",u)});for(var c=this.options_.playerOptions.tracks||[],d=0;d<c.length;d++)this.player_.addRemoteTextTrack(c[d],!0);this.preselectTrack()})),a}var n=e.prototype;return n.preselectTrack=function(){for(var r={captions:1,subtitles:1},s=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,u,c,d,f=0;f<s.length;f++){var m=s[f];a&&a.enabled&&a.language&&a.language===m.language&&m.kind in r?m.kind===a.kind?d=m:d||(d=m):a&&!a.enabled?(d=null,u=null,c=null):m.default&&(m.kind==="descriptions"&&!u?u=m:m.kind in r&&!c&&(c=m))}d?d.mode="showing":c?c.mode="showing":u&&(u.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){typeof F.WebVTT=="function"&&F.WebVTT.processCues(F,[],this.el_)},n.updateDisplay=function(){var r=this.player_.textTracks(),s=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),s){for(var a=[],u=0;u<r.length;++u){var c=r[u];c.mode==="showing"&&a.push(c)}this.updateForTrack(a);return}for(var d=null,f=null,m=r.length;m--;){var g=r[m];g.mode==="showing"&&(g.kind==="descriptions"?d=g:f=g)}f?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(f)):d&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(d))},n.updateDisplayState=function(r){for(var s=this.player_.textTrackSettings.getValues(),a=r.activeCues,u=a.length;u--;){var c=a[u];if(!!c){var d=c.displayState;if(s.color&&(d.firstChild.style.color=s.color),s.textOpacity&&GS(d.firstChild,"color",WS(s.color||"#fff",s.textOpacity)),s.backgroundColor&&(d.firstChild.style.backgroundColor=s.backgroundColor),s.backgroundOpacity&&GS(d.firstChild,"backgroundColor",WS(s.backgroundColor||"#000",s.backgroundOpacity)),s.windowColor&&(s.windowOpacity?GS(d,"backgroundColor",WS(s.windowColor,s.windowOpacity)):d.style.backgroundColor=s.windowColor),s.edgeStyle&&(s.edgeStyle==="dropshadow"?d.firstChild.style.textShadow="2px 2px 3px "+Sr+", 2px 2px 4px "+Sr+", 2px 2px 5px "+Sr:s.edgeStyle==="raised"?d.firstChild.style.textShadow="1px 1px "+Sr+", 2px 2px "+Sr+", 3px 3px "+Sr:s.edgeStyle==="depressed"?d.firstChild.style.textShadow="1px 1px "+Y2+", 0 1px "+Y2+", -1px -1px "+Sr+", 0 -1px "+Sr:s.edgeStyle==="uniform"&&(d.firstChild.style.textShadow="0 0 4px "+Sr+", 0 0 4px "+Sr+", 0 0 4px "+Sr+", 0 0 4px "+Sr)),s.fontPercent&&s.fontPercent!==1){var f=F.parseFloat(d.style.fontSize);d.style.fontSize=f*s.fontPercent+"px",d.style.height="auto",d.style.top="auto"}s.fontFamily&&s.fontFamily!=="default"&&(s.fontFamily==="small-caps"?d.firstChild.style.fontVariant="small-caps":d.firstChild.style.fontFamily=Bre[s.fontFamily])}}},n.updateForTrack=function(r){if(Array.isArray(r)||(r=[r]),!(typeof F.WebVTT!="function"||r.every(function(E){return!E.activeCues}))){for(var s=[],a=0;a<r.length;++a)for(var u=r[a],c=0;c<u.activeCues.length;++c)s.push(u.activeCues[c]);F.WebVTT.processCues(F,s,this.el_);for(var d=0;d<r.length;++d){for(var f=r[d],m=0;m<f.activeCues.length;++m){var g=f.activeCues[m].displayState;Ra(g,"vjs-text-track-cue"),Ra(g,"vjs-text-track-cue-"+(f.language?f.language:d)),f.language&&Qd(g,"lang",f.language)}this.player_.textTrackSettings&&this.updateDisplayState(f)}}},e}(ne);ne.registerComponent("TextTrackDisplay",jre);var Vre=function(t){fe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=this.player_.isAudio(),s=this.localize(r?"Audio Player":"Video Player"),a=tt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[s])}),u=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return u.appendChild(a),u},e}(ne);ne.registerComponent("LoadingSpinner",Vre);var ss=function(t){fe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(r,s,a){s===void 0&&(s={}),a===void 0&&(a={}),r="button",s=Kt({className:this.buildCSSClass()},s),a=Kt({type:"button"},a);var u=tt(r,s,a);return u.appendChild(tt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(u),u},n.addChild=function(r,s){s===void 0&&(s={});var a=this.constructor.name;return qe.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),ne.prototype.addChild.call(this,r,s)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(r){if(Fe.isEventKey(r,"Space")||Fe.isEventKey(r,"Enter")){r.stopPropagation();return}t.prototype.handleKeyDown.call(this,r)},e}(ZT);ne.registerComponent("Button",ss);var aj=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.mouseused_=!1,s.on("mousedown",function(a){return s.handleMouseDown(a)}),s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(r){var s=this.player_.play();if(this.mouseused_&&r.clientX&&r.clientY){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Ns(s),this.player_.tech(!0)&&!((yg||vg)&&a)&&this.player_.tech(!0).focus();return}var u=this.player_.getChild("controlBar"),c=u&&u.getChild("playToggle");if(!c){this.player_.tech(!0).focus();return}var d=function(){return c.focus()};$p(s)?s.then(d,function(){}):this.setTimeout(d,1)},n.handleKeyDown=function(r){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,r)},n.handleMouseDown=function(r){this.mouseused_=!0},e}(ss);aj.prototype.controlText_="Play Video";ne.registerComponent("BigPlayButton",aj);var $re=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.controlText(r&&r.controlText||s.localize("Close")),s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(r){Fe.isEventKey(r,"Esc")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(ss);ne.registerComponent("CloseButton",$re);var oj=function(t){fe(e,t);function e(i,r){var s;return r===void 0&&(r={}),s=t.call(this,i,r)||this,r.replay=r.replay===void 0||r.replay,s.on(i,"play",function(a){return s.handlePlay(a)}),s.on(i,"pause",function(a){return s.handlePause(a)}),r.replay&&s.on(i,"ended",function(a){return s.handleEnded(a)}),s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){this.player_.paused()?Ns(this.player_.play()):this.player_.pause()},n.handleSeeked=function(r){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(r):this.handlePlay(r)},n.handlePlay=function(r){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(r){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(r){var s=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(a){return s.handleSeeked(a)})},e}(ss);oj.prototype.controlText_="Play";ne.registerComponent("PlayToggle",oj);var uj=function(e,n){e=e<0?0:e;var i=Math.floor(e%60),r=Math.floor(e/60%60),s=Math.floor(e/3600),a=Math.floor(n/60%60),u=Math.floor(n/3600);return(isNaN(e)||e===1/0)&&(s=r=i="-"),s=s>0||u>0?s+":":"",r=((s||a>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,s+r+i},gk=uj;function Hre(t){gk=t}function zre(){gk=uj}function th(t,e){return e===void 0&&(e=t),gk(t,e)}var Sh=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.on(i,["timeupdate","ended"],function(a){return s.updateContent(a)}),s.updateTextNode_(),s}var n=e.prototype;return n.createEl=function(){var r=this.buildCSSClass(),s=t.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control"}),a=tt("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return s.appendChild(a),this.contentEl_=tt("span",{className:r+"-display"},{"aria-live":"off",role:"presentation"}),s.appendChild(this.contentEl_),s},n.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},n.updateTextNode_=function(r){var s=this;r===void 0&&(r=0),r=th(r),this.formattedTime_!==r&&(this.formattedTime_=r,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!s.contentEl_){var a=s.textNode_;a&&s.contentEl_.firstChild!==a&&(a=null,qe.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),s.textNode_=de.createTextNode(s.formattedTime_),s.textNode_&&(a?s.contentEl_.replaceChild(s.textNode_,a):s.contentEl_.appendChild(s.textNode_))}}))},n.updateContent=function(r){},e}(ne);Sh.prototype.labelText_="Time";Sh.prototype.controlText_="Time";ne.registerComponent("TimeDisplay",Sh);var vk=function(t){fe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(r){var s;this.player_.ended()?s=this.player_.duration():s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(s)},e}(Sh);vk.prototype.labelText_="Current Time";vk.prototype.controlText_="Current Time";ne.registerComponent("CurrentTimeDisplay",vk);var yk=function(t){fe(e,t);function e(i,r){var s;s=t.call(this,i,r)||this;var a=function(c){return s.updateContent(c)};return s.on(i,"durationchange",a),s.on(i,"loadstart",a),s.on(i,"loadedmetadata",a),s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(r){var s=this.player_.duration();this.updateTextNode_(s)},e}(Sh);yk.prototype.labelText_="Duration";yk.prototype.controlText_="Duration";ne.registerComponent("DurationDisplay",yk);var qre=function(t){fe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),s=t.prototype.createEl.call(this,"div"),a=t.prototype.createEl.call(this,"span",{textContent:"/"});return s.appendChild(a),r.appendChild(s),r},e}(ne);ne.registerComponent("TimeDivider",qre);var _k=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.on(i,"durationchange",function(a){return s.updateContent(a)}),s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var r=t.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&r.insertBefore(tt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),r},n.updateContent=function(r){if(typeof this.player_.duration()=="number"){var s;this.player_.ended()?s=0:this.player_.remainingTimeDisplay?s=this.player_.remainingTimeDisplay():s=this.player_.remainingTime(),this.updateTextNode_(s)}},e}(Sh);_k.prototype.labelText_="Remaining Time";_k.prototype.controlText_="Remaining Time";ne.registerComponent("RemainingTimeDisplay",_k);var Wre=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.updateShowing(),s.on(s.player(),"durationchange",function(a){return s.updateShowing(a)}),s}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=tt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(tt("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(de.createTextNode(this.localize("LIVE"))),r.appendChild(this.contentEl_),r},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(r){this.player().duration()===1/0?this.show():this.hide()},e}(ne);ne.registerComponent("LiveDisplay",Wre);var lj=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.updateLiveEdgeStatus(),s.player_.liveTracker&&(s.updateLiveEdgeStatusHandler_=function(a){return s.updateLiveEdgeStatus(a)},s.on(s.player_.liveTracker,"liveedgechange",s.updateLiveEdgeStatusHandler_)),s}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=tt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),r.appendChild(this.textEl_),r},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(ss);lj.prototype.controlText_="Seek to live, currently playing live";ne.registerComponent("SeekToLive",lj);var eb=function(e,n,i){return e=Number(e),Math.min(i,Math.max(n,isNaN(e)?n:e))},Tk=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.handleMouseDown_=function(a){return s.handleMouseDown(a)},s.handleMouseUp_=function(a){return s.handleMouseUp(a)},s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.handleClick_=function(a){return s.handleClick(a)},s.handleMouseMove_=function(a){return s.handleMouseMove(a)},s.update_=function(a){return s.update(a)},s.bar=s.getChild(s.options_.barName),s.vertical(!!s.options_.vertical),s.enable(),s}var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(!!this.enabled()){var r=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(r,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s.className=s.className+" vjs-slider",s=Kt({tabIndex:0},s),a=Kt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),t.prototype.createEl.call(this,r,s,a)},n.handleMouseDown=function(r){var s=this.bar.el_.ownerDocument;r.type==="mousedown"&&r.preventDefault(),r.type==="touchstart"&&!Za&&r.preventDefault(),U8(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(s,"mousemove",this.handleMouseMove_),this.on(s,"mouseup",this.handleMouseUp_),this.on(s,"touchmove",this.handleMouseMove_),this.on(s,"touchend",this.handleMouseUp_),this.handleMouseMove(r,!0)},n.handleMouseMove=function(r){},n.handleMouseUp=function(){var r=this.bar.el_.ownerDocument;B8(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var r=this;if(!(!this.el_||!this.bar)){var s=this.getProgress();return s===this.progress_||(this.progress_=s,this.requestNamedAnimationFrame("Slider#update",function(){var a=r.vertical()?"height":"width";r.bar.el().style[a]=(s*100).toFixed(2)+"%"})),s}},n.getProgress=function(){return Number(eb(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(r){var s=KT(this.el_,r);return this.vertical()?s.y:s.x},n.handleKeyDown=function(r){Fe.isEventKey(r,"Left")||Fe.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepBack()):Fe.isEventKey(r,"Right")||Fe.isEventKey(r,"Up")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,r)},n.handleClick=function(r){r.stopPropagation(),r.preventDefault()},n.vertical=function(r){if(r===void 0)return this.vertical_||!1;this.vertical_=!!r,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(ne);ne.registerComponent("Slider",Tk);var KS=function(e,n){return eb(e/n*100,0,100).toFixed(2)+"%"},Gre=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.partEls_=[],s.on(i,"progress",function(a){return s.update(a)}),s}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),s=tt("span",{className:"vjs-control-text"}),a=tt("span",{textContent:this.localize("Loaded")}),u=de.createTextNode(": ");return this.percentageEl_=tt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),r.appendChild(s),s.appendChild(a),s.appendChild(u),s.appendChild(this.percentageEl_),r},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},n.update=function(r){var s=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=s.player_.liveTracker,u=s.player_.buffered(),c=a&&a.isLive()?a.seekableEnd():s.player_.duration(),d=s.player_.bufferedEnd(),f=s.partEls_,m=KS(d,c);s.percent_!==m&&(s.el_.style.width=m,Ll(s.percentageEl_,m),s.percent_=m);for(var g=0;g<u.length;g++){var E=u.start(g),I=u.end(g),b=f[g];b||(b=s.el_.appendChild(tt()),f[g]=b),!(b.dataset.start===E&&b.dataset.end===I)&&(b.dataset.start=E,b.dataset.end=I,b.style.left=KS(E,d),b.style.width=KS(I-E,d))}for(var x=f.length;x>u.length;x--)s.el_.removeChild(f[x-1]);f.length=u.length})},e}(ne);ne.registerComponent("LoadProgressBar",Gre);var Kre=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.update=Ga(It(Ne(s),s.update),ls),s}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(r,s,a){var u=Lm(this.el_),c=Jd(this.player_.el()),d=r.width*s;if(!(!c||!u)){var f=r.left-c.left+d,m=r.width-d+(c.right-r.right),g=u.width/2;f<g?g+=g-f:m<g&&(g=m),g<0?g=0:g>u.width&&(g=u.width),g=Math.round(g),this.el_.style.right="-"+g+"px",this.write(a)}},n.write=function(r){Ll(this.el_,r)},n.updateTime=function(r,s,a,u){var c=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var d,f=c.player_.duration();if(c.player_.liveTracker&&c.player_.liveTracker.isLive()){var m=c.player_.liveTracker.liveWindow(),g=m-s*m;d=(g<1?"":"-")+th(g,m)}else d=th(a,f);c.update(r,s,d),u&&u()})},e}(ne);ne.registerComponent("TimeTooltip",Kre);var bk=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.update=Ga(It(Ne(s),s.update),ls),s}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(r,s){var a=this.getChild("timeTooltip");if(!!a){var u=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(r,s,u)}},e}(ne);bk.prototype.options_={children:[]};!ki&&!Ja&&bk.prototype.options_.children.push("timeTooltip");ne.registerComponent("PlayProgressBar",bk);var cj=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.update=Ga(It(Ne(s),s.update),ls),s}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(r,s){var a=this,u=s*this.player_.duration();this.getChild("timeTooltip").updateTime(r,s,u,function(){a.el_.style.left=r.width*s+"px"})},e}(ne);cj.prototype.options_={children:["timeTooltip"]};ne.registerComponent("MouseTimeDisplay",cj);var Oy=5,Q2=12,wk=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.setEventHandlers_(),s}var n=e.prototype;return n.setEventHandlers_=function(){var r=this;this.update_=It(this,this.update),this.update=Ga(this.update_,ls),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(s){return r.enableInterval_(s)},this.disableIntervalHandler_=function(s){return r.disableInterval_(s)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in de&&"visibilityState"in de&&this.on(de,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(r){de.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(r)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,ls))},n.disableInterval_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&r&&r.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(r){var s=this;if(de.visibilityState!=="hidden"){var a=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var u=s.player_.ended()?s.player_.duration():s.getCurrentTime_(),c=s.player_.liveTracker,d=s.player_.duration();c&&c.isLive()&&(d=s.player_.liveTracker.liveCurrentTime()),s.percent_!==a&&(s.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),s.percent_=a),(s.currentTime_!==u||s.duration_!==d)&&(s.el_.setAttribute("aria-valuetext",s.localize("progress bar timing: currentTime={1} duration={2}",[th(u,d),th(d,d)],"{1} of {2}")),s.currentTime_=u,s.duration_=d),s.bar&&s.bar.update(Jd(s.el()),s.getProgress())}),a}},n.userSeek_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(r)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var r=this.getCurrentTime_(),s,a=this.player_.liveTracker;return a&&a.isLive()?(s=(r-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(s=1)):s=r/this.player_.duration(),s},n.handleMouseDown=function(r){!Nm(r)||(r.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,r))},n.handleMouseMove=function(r,s){if(s===void 0&&(s=!1),!!Nm(r)){!s&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var a,u=this.calculateDistance(r),c=this.player_.liveTracker;if(!c||!c.isLive())a=u*this.player_.duration(),a===this.player_.duration()&&(a=a-.1);else{if(u>=.99){c.seekToLiveEdge();return}var d=c.seekableStart(),f=c.liveCurrentTime();if(a=d+u*c.liveWindow(),a>=f&&(a=f),a<=d&&(a=d+.1),a===1/0)return}this.userSeek_(a)}},n.enable=function(){t.prototype.enable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.show()},n.disable=function(){t.prototype.disable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.hide()},n.handleMouseUp=function(r){t.prototype.handleMouseUp.call(this,r),r&&r.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ns(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+Oy)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-Oy)},n.handleAction=function(r){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(r){var s=this.player_.liveTracker;if(Fe.isEventKey(r,"Space")||Fe.isEventKey(r,"Enter"))r.preventDefault(),r.stopPropagation(),this.handleAction(r);else if(Fe.isEventKey(r,"Home"))r.preventDefault(),r.stopPropagation(),this.userSeek_(0);else if(Fe.isEventKey(r,"End"))r.preventDefault(),r.stopPropagation(),s&&s.isLive()?this.userSeek_(s.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Fe(r))){r.preventDefault(),r.stopPropagation();var a=(Fe.codes[Fe(r)]-Fe.codes[0])*10/100;s&&s.isLive()?this.userSeek_(s.seekableStart()+s.liveWindow()*a):this.userSeek_(this.player_.duration()*a)}else Fe.isEventKey(r,"PgDn")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()-Oy*Q2)):Fe.isEventKey(r,"PgUp")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()+Oy*Q2)):t.prototype.handleKeyDown.call(this,r)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in de&&"visibilityState"in de&&this.off(de,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(Tk);wk.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!ki&&!Ja&&wk.prototype.options_.children.splice(1,0,"mouseTimeDisplay");ne.registerComponent("SeekBar",wk);var dj=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.handleMouseMove=Ga(It(Ne(s),s.handleMouseMove),ls),s.throttledHandleMouseSeek=Ga(It(Ne(s),s.handleMouseSeek),ls),s.handleMouseUpHandler_=function(a){return s.handleMouseUp(a)},s.handleMouseDownHandler_=function(a){return s.handleMouseDown(a)},s.enable(),s}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(r){var s=this.getChild("seekBar");if(!!s){var a=s.getChild("playProgressBar"),u=s.getChild("mouseTimeDisplay");if(!(!a&&!u)){var c=s.el(),d=Lm(c),f=KT(c,r).x;f=eb(f,0,1),u&&u.update(d,f),a&&a.update(d,s.getProgress())}}},n.handleMouseSeek=function(r){var s=this.getChild("seekBar");s&&s.handleMouseMove(r)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach(function(s){return s.disable&&s.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var r=this.getChild("seekBar");this.player_.scrubbing(!1),r.videoWasPlaying&&Ns(this.player_.play())}},n.enable=function(){this.children().forEach(function(r){return r.enable&&r.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseSeek),this.off(r,"touchmove",this.throttledHandleMouseSeek),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(r){var s=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(r),this.on(s,"mousemove",this.throttledHandleMouseSeek),this.on(s,"touchmove",this.throttledHandleMouseSeek),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(r){var s=this.getChild("seekBar");s&&s.handleMouseUp(r),this.removeListenersAddedOnMousedownAndTouchstart()},e}(ne);dj.prototype.options_={children:["seekBar"]};ne.registerComponent("ProgressControl",dj);var hj=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.on(i,["enterpictureinpicture","leavepictureinpicture"],function(a){return s.handlePictureInPictureChange(a)}),s.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(a){return s.handlePictureInPictureEnabledChange(a)}),s.on(i,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var a=i.currentType().substring(0,5)==="audio";a||i.audioPosterMode()||i.audioOnlyMode()?(i.isInPictureInPicture()&&i.exitPictureInPicture(),s.hide()):s.show()}),s.disable(),s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){de.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},n.handlePictureInPictureChange=function(r){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(r){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(ss);hj.prototype.controlText_="Picture-in-Picture";ne.registerComponent("PictureInPictureToggle",hj);var fj=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.on(i,"fullscreenchange",function(a){return s.handleFullscreenChange(a)}),de[i.fsApi_.fullscreenEnabled]===!1&&s.disable(),s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(r){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(r){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(ss);fj.prototype.controlText_="Fullscreen";ne.registerComponent("FullscreenToggle",fj);var Xre=function(e,n){n.tech_&&!n.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Yre=function(t){fe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return r.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),r},e}(ne);ne.registerComponent("VolumeLevel",Yre);var Qre=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.update=Ga(It(Ne(s),s.update),ls),s}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(r,s,a,u){if(!a){var c=Jd(this.el_),d=Jd(this.player_.el()),f=r.width*s;if(!d||!c)return;var m=r.left-d.left+f,g=r.width-f+(d.right-r.right),E=c.width/2;m<E?E+=E-m:g<E&&(E=g),E<0?E=0:E>c.width&&(E=c.width),this.el_.style.right="-"+E+"px"}this.write(u+"%")},n.write=function(r){Ll(this.el_,r)},n.updateVolume=function(r,s,a,u,c){var d=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){d.update(r,s,a,u.toFixed(0)),c&&c()})},e}(ne);ne.registerComponent("VolumeLevelTooltip",Qre);var pj=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.update=Ga(It(Ne(s),s.update),ls),s}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(r,s,a){var u=this,c=100*s;this.getChild("volumeLevelTooltip").updateVolume(r,s,a,c,function(){a?u.el_.style.bottom=r.height*s+"px":u.el_.style.left=r.width*s+"px"})},e}(ne);pj.prototype.options_={children:["volumeLevelTooltip"]};ne.registerComponent("MouseVolumeLevelDisplay",pj);var tb=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.on("slideractive",function(a){return s.updateLastVolume_(a)}),s.on(i,"volumechange",function(a){return s.updateARIAAttributes(a)}),i.ready(function(){return s.updateARIAAttributes()}),s}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(r){!Nm(r)||t.prototype.handleMouseDown.call(this,r)},n.handleMouseMove=function(r){var s=this.getChild("mouseVolumeLevelDisplay");if(s){var a=this.el(),u=Jd(a),c=this.vertical(),d=KT(a,r);d=c?d.y:d.x,d=eb(d,0,1),s.update(u,d,c)}!Nm(r)||(this.checkMuted(),this.player_.volume(this.calculateDistance(r)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(r){var s=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",s),this.el_.setAttribute("aria-valuetext",s+"%")},n.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},n.updateLastVolume_=function(){var r=this,s=this.player_.volume();this.one("sliderinactive",function(){r.player_.volume()===0&&r.player_.lastVolume_(s)})},e}(Tk);tb.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!ki&&!Ja&&tb.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");tb.prototype.playerEvent="volumechange";ne.registerComponent("VolumeBar",tb);var mj=function(t){fe(e,t);function e(i,r){var s;return r===void 0&&(r={}),r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||Rm(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),s=t.call(this,i,r)||this,Xre(Ne(s),i),s.throttledHandleMouseMove=Ga(It(Ne(s),s.handleMouseMove),ls),s.handleMouseUpHandler_=function(a){return s.handleMouseUp(a)},s.on("mousedown",function(a){return s.handleMouseDown(a)}),s.on("touchstart",function(a){return s.handleMouseDown(a)}),s.on("mousemove",function(a){return s.handleMouseMove(a)}),s.on(s.volumeBar,["focus","slideractive"],function(){s.volumeBar.addClass("vjs-slider-active"),s.addClass("vjs-slider-active"),s.trigger("slideractive")}),s.on(s.volumeBar,["blur","sliderinactive"],function(){s.volumeBar.removeClass("vjs-slider-active"),s.removeClass("vjs-slider-active"),s.trigger("sliderinactive")}),s}var n=e.prototype;return n.createEl=function(){var r="vjs-volume-horizontal";return this.options_.vertical&&(r="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+r})},n.handleMouseDown=function(r){var s=this.el_.ownerDocument;this.on(s,"mousemove",this.throttledHandleMouseMove),this.on(s,"touchmove",this.throttledHandleMouseMove),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(r){var s=this.el_.ownerDocument;this.off(s,"mousemove",this.throttledHandleMouseMove),this.off(s,"touchmove",this.throttledHandleMouseMove),this.off(s,"mouseup",this.handleMouseUpHandler_),this.off(s,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(r){this.volumeBar.handleMouseMove(r)},e}(ne);mj.prototype.options_={children:["volumeBar"]};ne.registerComponent("VolumeControl",mj);var Jre=function(e,n){n.tech_&&!n.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},gj=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,Jre(Ne(s),i),s.on(i,["loadstart","volumechange"],function(a){return s.update(a)}),s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){var s=this.player_.volume(),a=this.player_.lastVolume_();if(s===0){var u=a<.1?.1:a;this.player_.volume(u),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(r){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var r=this.player_.volume(),s=3;ki&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),r===0||this.player_.muted()?s=0:r<.33?s=1:r<.67&&(s=2);for(var a=0;a<4;a++)_g(this.el_,"vjs-vol-"+a);Ra(this.el_,"vjs-vol-"+s)},n.updateControlText_=function(){var r=this.player_.muted()||this.player_.volume()===0,s=r?"Unmute":"Mute";this.controlText()!==s&&this.controlText(s)},e}(ss);gj.prototype.controlText_="Mute";ne.registerComponent("MuteToggle",gj);var vj=function(t){fe(e,t);function e(i,r){var s;return r===void 0&&(r={}),typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||Rm(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),s=t.call(this,i,r)||this,s.handleKeyPressHandler_=function(a){return s.handleKeyPress(a)},s.on(i,["loadstart"],function(a){return s.volumePanelState_(a)}),s.on(s.muteToggle,"keyup",function(a){return s.handleKeyPress(a)}),s.on(s.volumeControl,"keyup",function(a){return s.handleVolumeControlKeyUp(a)}),s.on("keydown",function(a){return s.handleKeyPress(a)}),s.on("mouseover",function(a){return s.handleMouseOver(a)}),s.on("mouseout",function(a){return s.handleMouseOut(a)}),s.on(s.volumeControl,["slideractive"],s.sliderActive_),s.on(s.volumeControl,["sliderinactive"],s.sliderInactive_),s}var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var r="vjs-volume-panel-horizontal";return this.options_.inline||(r="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+r})},n.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(r){Fe.isEventKey(r,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(r){this.addClass("vjs-hover"),gr(de,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(r){this.removeClass("vjs-hover"),li(de,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(r){Fe.isEventKey(r,"Esc")&&this.handleMouseOut()},e}(ne);vj.prototype.options_={children:["muteToggle","volumeControl"]};ne.registerComponent("VolumePanel",vj);var yj=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,r&&(s.menuButton_=r.menuButton),s.focusedChild_=-1,s.on("keydown",function(a){return s.handleKeyDown(a)}),s.boundHandleBlur_=function(a){return s.handleBlur(a)},s.boundHandleTapClick_=function(a){return s.handleTapClick(a)},s}var n=e.prototype;return n.addEventListenerForItem=function(r){r instanceof ne&&(this.on(r,"blur",this.boundHandleBlur_),this.on(r,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(r){r instanceof ne&&(this.off(r,"blur",this.boundHandleBlur_),this.off(r,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(r){typeof r=="string"&&(r=this.getChild(r)),this.removeEventListenerForItem(r),t.prototype.removeChild.call(this,r)},n.addItem=function(r){var s=this.addChild(r);s&&this.addEventListenerForItem(s)},n.createEl=function(){var r=this.options_.contentElType||"ul";this.contentEl_=tt(r,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var s=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return s.appendChild(this.contentEl_),gr(s,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),s},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},n.handleBlur=function(r){var s=r.relatedTarget||de.activeElement;if(!this.children().some(function(u){return u.el()===s})){var a=this.menuButton_;a&&a.buttonPressed_&&s!==a.el().firstChild&&a.unpressButton()}},n.handleTapClick=function(r){if(this.menuButton_){this.menuButton_.unpressButton();var s=this.children();if(!Array.isArray(s))return;var a=s.filter(function(u){return u.el()===r.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},n.handleKeyDown=function(r){Fe.isEventKey(r,"Left")||Fe.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):(Fe.isEventKey(r,"Right")||Fe.isEventKey(r,"Up"))&&(r.preventDefault(),r.stopPropagation(),this.stepBack())},n.stepForward=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_+1),this.focus(r)},n.stepBack=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_-1),this.focus(r)},n.focus=function(r){r===void 0&&(r=0);var s=this.children().slice(),a=s.length&&s[0].hasClass("vjs-menu-title");a&&s.shift(),s.length>0&&(r<0?r=0:r>=s.length&&(r=s.length-1),this.focusedChild_=r,s[r].el_.focus())},e}(ne);ne.registerComponent("Menu",yj);var Sk=function(t){fe(e,t);function e(i,r){var s;r===void 0&&(r={}),s=t.call(this,i,r)||this,s.menuButton_=new ss(i,r),s.menuButton_.controlText(s.controlText_),s.menuButton_.el_.setAttribute("aria-haspopup","true");var a=ss.prototype.buildCSSClass();s.menuButton_.el_.className=s.buildCSSClass()+" "+a,s.menuButton_.removeClass("vjs-control"),s.addChild(s.menuButton_),s.update(),s.enabled_=!0;var u=function(d){return s.handleClick(d)};return s.handleMenuKeyUp_=function(c){return s.handleMenuKeyUp(c)},s.on(s.menuButton_,"tap",u),s.on(s.menuButton_,"click",u),s.on(s.menuButton_,"keydown",function(c){return s.handleKeyDown(c)}),s.on(s.menuButton_,"mouseenter",function(){s.addClass("vjs-hover"),s.menu.show(),gr(de,"keyup",s.handleMenuKeyUp_)}),s.on("mouseleave",function(c){return s.handleMouseLeave(c)}),s.on("keydown",function(c){return s.handleSubmenuKeyDown(c)}),s}var n=e.prototype;return n.update=function(){var r=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=r,this.addChild(r),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var r=new yj(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var s=tt("li",{className:"vjs-menu-title",textContent:en(this.options_.title),tabIndex:-1}),a=new ne(this.player_,{el:s});r.addItem(a)}if(this.items=this.createItems(),this.items)for(var u=0;u<this.items.length;u++)r.addItem(this.items[u]);return r},n.createItems=function(){},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var r="vjs-menu-button";this.options_.inline===!0?r+="-inline":r+="-popup";var s=ss.prototype.buildCSSClass();return"vjs-menu-button "+r+" "+s+" "+t.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var r="vjs-menu-button";return this.options_.inline===!0?r+="-inline":r+="-popup","vjs-menu-button "+r+" "+t.prototype.buildCSSClass.call(this)},n.controlText=function(r,s){return s===void 0&&(s=this.menuButton_.el()),this.menuButton_.controlText(r,s)},n.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},n.handleClick=function(r){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(r){this.removeClass("vjs-hover"),li(de,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(r){Fe.isEventKey(r,"Esc")||Fe.isEventKey(r,"Tab")?(this.buttonPressed_&&this.unpressButton(),Fe.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus())):(Fe.isEventKey(r,"Up")||Fe.isEventKey(r,"Down"))&&(this.buttonPressed_||(r.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(r){(Fe.isEventKey(r,"Esc")||Fe.isEventKey(r,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(r){this.handleSubmenuKeyDown(r)},n.handleSubmenuKeyDown=function(r){(Fe.isEventKey(r,"Esc")||Fe.isEventKey(r,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Fe.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ki&&O8())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(ne);ne.registerComponent("MenuButton",Sk);var Ek=function(t){fe(e,t);function e(n,i){var r,s=i.tracks;if(r=t.call(this,n,i)||this,r.items.length<=1&&r.hide(),!s)return Ne(r);var a=It(Ne(r),r.update);return s.addEventListener("removetrack",a),s.addEventListener("addtrack",a),s.addEventListener("labelchange",a),r.player_.on("ready",a),r.player_.on("dispose",function(){s.removeEventListener("removetrack",a),s.removeEventListener("addtrack",a),s.removeEventListener("labelchange",a)}),r}return e}(Sk);ne.registerComponent("TrackButton",Ek);var Zre=["Tab","Esc","Up","Down","Right","Left"],bg=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.selectable=r.selectable,s.isSelected_=r.selected||!1,s.multiSelectable=r.multiSelectable,s.selected(s.isSelected_),s.selectable?s.multiSelectable?s.el_.setAttribute("role","menuitemcheckbox"):s.el_.setAttribute("role","menuitemradio"):s.el_.setAttribute("role","menuitem"),s}var n=e.prototype;return n.createEl=function(r,s,a){this.nonIconControl=!0;var u=t.prototype.createEl.call(this,"li",Kt({className:"vjs-menu-item",tabIndex:-1},s),a);return u.replaceChild(tt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),u.querySelector(".vjs-icon-placeholder")),u},n.handleKeyDown=function(r){Zre.some(function(s){return Fe.isEventKey(r,s)})||t.prototype.handleKeyDown.call(this,r)},n.handleClick=function(r){this.selected(!0)},n.selected=function(r){this.selectable&&(r?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ZT);ne.registerComponent("MenuItem",bg);var wg=function(t){fe(e,t);function e(i,r){var s,a=r.track,u=i.textTracks();r.label=a.label||a.language||"Unknown",r.selected=a.mode==="showing",s=t.call(this,i,r)||this,s.track=a,s.kinds=(r.kinds||[r.kind||s.track.kind]).filter(Boolean);var c=function(){for(var g=arguments.length,E=new Array(g),I=0;I<g;I++)E[I]=arguments[I];s.handleTracksChange.apply(Ne(s),E)},d=function(){for(var g=arguments.length,E=new Array(g),I=0;I<g;I++)E[I]=arguments[I];s.handleSelectedLanguageChange.apply(Ne(s),E)};if(i.on(["loadstart","texttrackchange"],c),u.addEventListener("change",c),u.addEventListener("selectedlanguagechange",d),s.on("dispose",function(){i.off(["loadstart","texttrackchange"],c),u.removeEventListener("change",c),u.removeEventListener("selectedlanguagechange",d)}),u.onchange===void 0){var f;s.on(["tap","click"],function(){if(typeof F.Event!="object")try{f=new F.Event("change")}catch{}f||(f=de.createEvent("Event"),f.initEvent("change",!0,!0)),u.dispatchEvent(f)})}return s.handleTracksChange(),s}var n=e.prototype;return n.handleClick=function(r){var s=this.track,a=this.player_.textTracks();if(t.prototype.handleClick.call(this,r),!!a)for(var u=0;u<a.length;u++){var c=a[u];this.kinds.indexOf(c.kind)!==-1&&(c===s?c.mode!=="showing"&&(c.mode="showing"):c.mode!=="disabled"&&(c.mode="disabled"))}},n.handleTracksChange=function(r){var s=this.track.mode==="showing";s!==this.isSelected_&&this.selected(s)},n.handleSelectedLanguageChange=function(r){if(this.track.mode==="showing"){var s=this.player_.cache_.selectedLanguage;if(s&&s.enabled&&s.language===this.track.language&&s.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(bg);ne.registerComponent("TextTrackMenuItem",wg);var _j=function(t){fe(e,t);function e(i,r){return r.track={player:i,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,t.call(this,i,r)||this}var n=e.prototype;return n.handleTracksChange=function(r){for(var s=this.player().textTracks(),a=!0,u=0,c=s.length;u<c;u++){var d=s[u];if(this.options_.kinds.indexOf(d.kind)>-1&&d.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},n.handleSelectedLanguageChange=function(r){for(var s=this.player().textTracks(),a=!0,u=0,c=s.length;u<c;u++){var d=s[u];if(["captions","descriptions","subtitles"].indexOf(d.kind)>-1&&d.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(wg);ne.registerComponent("OffTextTrackMenuItem",_j);var Eh=function(t){fe(e,t);function e(i,r){return r===void 0&&(r={}),r.tracks=i.textTracks(),t.call(this,i,r)||this}var n=e.prototype;return n.createItems=function(r,s){r===void 0&&(r=[]),s===void 0&&(s=wg);var a;this.label_&&(a=this.label_+" off"),r.push(new _j(this.player_,{kinds:this.kinds_,kind:this.kind_,label:a})),this.hideThreshold_+=1;var u=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var c=0;c<u.length;c++){var d=u[c];if(this.kinds_.indexOf(d.kind)>-1){var f=new s(this.player_,{track:d,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});f.addClass("vjs-"+d.kind+"-menu-item"),r.push(f)}}return r},e}(Ek);ne.registerComponent("TextTrackButton",Eh);var Tj=function(t){fe(e,t);function e(i,r){var s,a=r.track,u=r.cue,c=i.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=u.text,r.selected=u.startTime<=c&&c<u.endTime,s=t.call(this,i,r)||this,s.track=a,s.cue=u,s}var n=e.prototype;return n.handleClick=function(r){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(bg);ne.registerComponent("ChaptersTrackMenuItem",Tj);var xk=function(t){fe(e,t);function e(i,r,s){var a;return a=t.call(this,i,r,s)||this,a.selectCurrentItem_=function(){a.items.forEach(function(u){u.selected(a.track_.activeCues[0]===u.cue)})},a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(r){if(!(r&&r.track&&r.track.kind!=="chapters")){var s=this.findChaptersTrack();s!==this.track_?(this.setTrack(s),t.prototype.update.call(this)):(!this.items||s&&s.cues&&s.cues.length!==this.items.length)&&t.prototype.update.call(this)}},n.setTrack=function(r){if(this.track_!==r){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=r,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var r=this.player_.textTracks()||[],s=r.length-1;s>=0;s--){var a=r[s];if(a.kind===this.kind_)return a}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(en(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var r=[];if(!this.track_)return r;var s=this.track_.cues;if(!s)return r;for(var a=0,u=s.length;a<u;a++){var c=s[a],d=new Tj(this.player_,{track:this.track_,cue:c});r.push(d)}return r},e}(Eh);xk.prototype.kind_="chapters";xk.prototype.controlText_="Chapters";ne.registerComponent("ChaptersButton",xk);var Ck=function(t){fe(e,t);function e(i,r,s){var a;a=t.call(this,i,r,s)||this;var u=i.textTracks(),c=It(Ne(a),a.handleTracksChange);return u.addEventListener("change",c),a.on("dispose",function(){u.removeEventListener("change",c)}),a}var n=e.prototype;return n.handleTracksChange=function(r){for(var s=this.player().textTracks(),a=!1,u=0,c=s.length;u<c;u++){var d=s[u];if(d.kind!==this.kind_&&d.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Eh);Ck.prototype.kind_="descriptions";Ck.prototype.controlText_="Descriptions";ne.registerComponent("DescriptionsButton",Ck);var Ik=function(t){fe(e,t);function e(i,r,s){return t.call(this,i,r,s)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Eh);Ik.prototype.kind_="subtitles";Ik.prototype.controlText_="Subtitles";ne.registerComponent("SubtitlesButton",Ik);var kk=function(t){fe(e,t);function e(i,r){var s;return r.track={player:i,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",s=t.call(this,i,r)||this,s.addClass("vjs-texttrack-settings"),s.controlText(", opens "+r.kind+" settings dialog"),s}var n=e.prototype;return n.handleClick=function(r){this.player().getChild("textTrackSettings").open()},e}(wg);ne.registerComponent("CaptionSettingsMenuItem",kk);var Ak=function(t){fe(e,t);function e(i,r,s){return t.call(this,i,r,s)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new kk(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,r)},e}(Eh);Ak.prototype.kind_="captions";Ak.prototype.controlText_="Captions";ne.registerComponent("CaptionsButton",Ak);var bj=function(t){fe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(r,s,a){var u=t.prototype.createEl.call(this,r,s,a),c=u.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(c.appendChild(tt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),c.appendChild(tt("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),u},e}(wg);ne.registerComponent("SubsCapsMenuItem",bj);var Pk=function(t){fe(e,t);function e(i,r){var s;return r===void 0&&(r={}),s=t.call(this,i,r)||this,s.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(s.player_.language_)>-1&&(s.label_="captions"),s.menuButton_.controlText(en(s.label_)),s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new kk(this.player_,{kind:this.label_})),this.hideThreshold_+=1),r=t.prototype.createItems.call(this,r,bj),r},e}(Eh);Pk.prototype.kinds_=["captions","subtitles"];Pk.prototype.controlText_="Subtitles";ne.registerComponent("SubsCapsButton",Pk);var wj=function(t){fe(e,t);function e(i,r){var s,a=r.track,u=i.audioTracks();r.label=a.label||a.language||"Unknown",r.selected=a.enabled,s=t.call(this,i,r)||this,s.track=a,s.addClass("vjs-"+a.kind+"-menu-item");var c=function(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];s.handleTracksChange.apply(Ne(s),m)};return u.addEventListener("change",c),s.on("dispose",function(){u.removeEventListener("change",c)}),s}var n=e.prototype;return n.createEl=function(r,s,a){var u=t.prototype.createEl.call(this,r,s,a),c=u.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(c.appendChild(tt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),c.appendChild(tt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),u},n.handleClick=function(r){if(t.prototype.handleClick.call(this,r),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var s=this.player_.audioTracks(),a=0;a<s.length;a++){var u=s[a];u!==this.track&&(u.enabled=u===this.track)}},n.handleTracksChange=function(r){this.selected(this.track.enabled)},e}(bg);ne.registerComponent("AudioTrackMenuItem",wj);var Sj=function(t){fe(e,t);function e(i,r){return r===void 0&&(r={}),r.tracks=i.audioTracks(),t.call(this,i,r)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(r){r===void 0&&(r=[]),this.hideThreshold_=1;for(var s=this.player_.audioTracks(),a=0;a<s.length;a++){var u=s[a];r.push(new wj(this.player_,{track:u,selectable:!0,multiSelectable:!1}))}return r},e}(Ek);Sj.prototype.controlText_="Audio Track";ne.registerComponent("AudioTrackButton",Sj);var Dk=function(t){fe(e,t);function e(i,r){var s,a=r.rate,u=parseFloat(a,10);return r.label=a,r.selected=u===i.playbackRate(),r.selectable=!0,r.multiSelectable=!1,s=t.call(this,i,r)||this,s.label=a,s.rate=u,s.on(i,"ratechange",function(c){return s.update(c)}),s}var n=e.prototype;return n.handleClick=function(r){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(r){this.selected(this.player().playbackRate()===this.rate)},e}(bg);Dk.prototype.contentElType="button";ne.registerComponent("PlaybackRateMenuItem",Dk);var Ej=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.menuButton_.el_.setAttribute("aria-describedby",s.labelElId_),s.updateVisibility(),s.updateLabel(),s.on(i,"loadstart",function(a){return s.updateVisibility(a)}),s.on(i,"ratechange",function(a){return s.updateLabel(a)}),s.on(i,"playbackrateschange",function(a){return s.handlePlaybackRateschange(a)}),s}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=tt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),r.appendChild(this.labelEl_),r},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var r=this.playbackRates(),s=[],a=r.length-1;a>=0;a--)s.push(new Dk(this.player(),{rate:r[a]+"x"}));return s},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(r){var s=this.player().playbackRate(),a=this.playbackRates(),u=a.indexOf(s),c=(u+1)%a.length;this.player().playbackRate(a[c])},n.handlePlaybackRateschange=function(r){this.update()},n.playbackRates=function(){var r=this.player();return r.playbackRates&&r.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(r){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(r){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Sk);Ej.prototype.controlText_="Playback Rate";ne.registerComponent("PlaybackRateMenuButton",Ej);var xj=function(t){fe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(r,s,a){return r===void 0&&(r="div"),s===void 0&&(s={}),a===void 0&&(a={}),s.className||(s.className=this.buildCSSClass()),t.prototype.createEl.call(this,r,s,a)},e}(ne);ne.registerComponent("Spacer",xj);var ese=function(t){fe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},e}(xj);ne.registerComponent("CustomControlSpacer",ese);var g_=function(t){fe(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(ne);g_.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in de&&g_.prototype.options_.children.splice(g_.prototype.options_.children.length-1,0,"pictureInPictureToggle");ne.registerComponent("ControlBar",g_);var Cj=function(t){fe(e,t);function e(i,r){var s;return s=t.call(this,i,r)||this,s.on(i,"error",function(a){return s.open(a)}),s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var r=this.player().error();return r?this.localize(r.message):""},e}(bh);Cj.prototype.options_=Or({},bh.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});ne.registerComponent("ErrorDisplay",Cj);var XS="vjs-text-track-settings",J2=["#000","Black"],Z2=["#00F","Blue"],eN=["#0FF","Cyan"],tN=["#0F0","Green"],nN=["#F0F","Magenta"],iN=["#F00","Red"],rN=["#FFF","White"],sN=["#FF0","Yellow"],YS=["1","Opaque"],QS=["0.5","Semi-Transparent"],aN=["0","Transparent"],qu={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[J2,rN,iN,tN,Z2,sN,nN,eN]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[YS,QS,aN]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[rN,J2,iN,tN,Z2,sN,nN,eN]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[YS,QS]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[aN,QS,YS]}};qu.windowColor.options=qu.backgroundColor.options;function Ij(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function tse(t,e){var n=t.options[t.options.selectedIndex].value;return Ij(n,e)}function nse(t,e,n){if(!!e){for(var i=0;i<t.options.length;i++)if(Ij(t.options[i].value,n)===e){t.selectedIndex=i;break}}}var ise=function(t){fe(e,t);function e(i,r){var s;return r.temporary=!1,s=t.call(this,i,r)||this,s.updateDisplay=s.updateDisplay.bind(Ne(s)),s.fill(),s.hasBeenOpened_=s.hasBeenFilled_=!0,s.endDialog=tt("p",{className:"vjs-control-text",textContent:s.localize("End of dialog window.")}),s.el().appendChild(s.endDialog),s.setDefaults(),r.persistTextTrackSettings===void 0&&(s.options_.persistTextTrackSettings=s.options_.playerOptions.persistTextTrackSettings),s.on(s.$(".vjs-done-button"),"click",function(){s.saveSettings(),s.close()}),s.on(s.$(".vjs-default-button"),"click",function(){s.setDefaults(),s.updateDisplay()}),Sd(qu,function(a){s.on(s.$(a.selector),"change",s.updateDisplay)}),s.options_.persistTextTrackSettings&&s.restoreSettings(),s}var n=e.prototype;return n.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},n.createElSelect_=function(r,s,a){var u=this;s===void 0&&(s=""),a===void 0&&(a="label");var c=qu[r],d=c.id.replace("%s",this.id_),f=[s,d].join(" ").trim();return["<"+a+' id="'+d+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(c.label),"</"+a+">",'<select aria-labelledby="'+f+'">'].concat(c.options.map(function(m){var g=d+"-"+m[1].replace(/\W+/g,"");return['<option id="'+g+'" value="'+m[0]+'" ','aria-labelledby="'+f+" "+g+'">',u.localize(m[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var r="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",r),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",r),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var r="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",r),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",r),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var r="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",r),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",r),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return tt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return tt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var r=this.localize("restore all settings to the default values");return tt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+r+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+r+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var r=this;return qie(qu,function(s,a,u){var c=tse(r.$(a.selector),a.parser);return c!==void 0&&(s[u]=c),s},{})},n.setValues=function(r){var s=this;Sd(qu,function(a,u){nse(s.$(a.selector),r[u],a.parser)})},n.setDefaults=function(){var r=this;Sd(qu,function(s){var a=s.hasOwnProperty("default")?s.default:0;r.$(s.selector).selectedIndex=a})},n.restoreSettings=function(){var r;try{r=JSON.parse(F.localStorage.getItem(XS))}catch(s){qe.warn(s)}r&&this.setValues(r)},n.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var r=this.getValues();try{Object.keys(r).length?F.localStorage.setItem(XS,JSON.stringify(r)):F.localStorage.removeItem(XS)}catch(s){qe.warn(s)}}},n.updateDisplay=function(){var r=this.player_.getChild("textTrackDisplay");r&&r.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var r=this.player_.controlBar,s=r&&r.subsCapsButton,a=r&&r.captionsButton;s?s.focus():a&&a.focus()},e}(bh);ne.registerComponent("TextTrackSettings",ise);var rse=function(t){fe(e,t);function e(i,r){var s,a=r.ResizeObserver||F.ResizeObserver;r.ResizeObserver===null&&(a=!1);var u=xt({createEl:!a,reportTouchActivity:!1},r);return s=t.call(this,i,u)||this,s.ResizeObserver=r.ResizeObserver||F.ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=nre(function(){s.resizeHandler()},100,!1,Ne(s)),a?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(i.el())):(s.loadListener_=function(){if(!(!s.el_||!s.el_.contentWindow)){var c=s.debouncedHandler_,d=s.unloadListener_=function(){li(this,"resize",c),li(this,"unload",d),d=null};gr(s.el_.contentWindow,"unload",d),gr(s.el_.contentWindow,"resize",c)}},s.one("load",s.loadListener_)),s}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(ne);ne.registerComponent("ResizeManager",rse);var sse={trackingThreshold:20,liveTolerance:15},ase=function(t){fe(e,t);function e(i,r){var s,a=xt(sse,r,{createEl:!1});return s=t.call(this,i,a)||this,s.handleVisibilityChange_=function(u){return s.handleVisibilityChange(u)},s.trackLiveHandler_=function(){return s.trackLive_()},s.handlePlay_=function(u){return s.handlePlay(u)},s.handleFirstTimeupdate_=function(u){return s.handleFirstTimeupdate(u)},s.handleSeeked_=function(u){return s.handleSeeked(u)},s.seekToLiveEdge_=function(u){return s.seekToLiveEdge(u)},s.reset_(),s.on(s.player_,"durationchange",function(u){return s.handleDurationchange(u)}),s.on(s.player_,"canplay",function(){return s.toggleTracking()}),yg&&"hidden"in de&&"visibilityState"in de&&s.on(de,"visibilitychange",s.handleVisibilityChange_),s}var n=e.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(de.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var r=this.player_.seekable();if(!(!r||!r.length)){var s=Number(F.performance.now().toFixed(4)),a=this.lastTime_===-1?0:(s-this.lastTime_)/1e3;this.lastTime_=s,this.pastSeekEnd_=this.pastSeekEnd()+a;var u=this.liveCurrentTime(),c=this.player_.currentTime(),d=this.player_.paused()||this.seekedBehindLive_||Math.abs(u-c)>this.options_.liveTolerance;(!this.timeupdateSeen_||u===1/0)&&(d=!1),d!==this.behindLiveEdge_&&(this.behindLiveEdge_=d,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,ls),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var r=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&r>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var r=this.player_.seekable(),s=[],a=r?r.length:0;a--;)s.push(r.end(a));return s.length?s.sort()[s.length-1]:1/0},n.seekableStart=function(){for(var r=this.player_.seekable(),s=[],a=r?r.length:0;a--;)s.push(r.start(a));return s.length?s.sort()[0]:0},n.liveWindow=function(){var r=this.liveCurrentTime();return r===1/0?0:r-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var r=this.seekableEnd();return this.lastSeekEnd_!==-1&&r!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=r,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return typeof this.trackingInterval_=="number"},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(de,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(ne);ne.registerComponent("LiveTracker",ase);var XE=function(e){var n=e.el();if(n.hasAttribute("src"))return e.triggerSourceset(n.src),!0;var i=e.$$("source"),r=[],s="";if(!i.length)return!1;for(var a=0;a<i.length;a++){var u=i[a].src;u&&r.indexOf(u)===-1&&r.push(u)}return r.length?(r.length===1&&(s=r[0]),e.triggerSourceset(s),!0):!1},ose=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var n=de.createElement(this.nodeName.toLowerCase());n.innerHTML=e;for(var i=de.createDocumentFragment();n.childNodes.length;)i.appendChild(n.childNodes[0]);return this.innerText="",F.Element.prototype.appendChild.call(this,i),this.innerHTML}}),kj=function(e,n){for(var i={},r=0;r<e.length&&(i=Object.getOwnPropertyDescriptor(e[r],n),!(i&&i.set&&i.get));r++);return i.enumerable=!0,i.configurable=!0,i},use=function(e){return kj([e.el(),F.HTMLMediaElement.prototype,F.Element.prototype,ose],"innerHTML")},oN=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},r=use(e),s=function(u){return function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=u.apply(n,d);return XE(e),m}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){!n[a]||(i[a]=n[a],n[a]=s(i[a]))}),Object.defineProperty(n,"innerHTML",xt(r,{set:s(r.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach(function(a){n[a]=i[a]}),Object.defineProperty(n,"innerHTML",r)},e.one("sourceset",n.resetSourceWatch_)}},lse=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?tj(F.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return F.Element.prototype.setAttribute.call(this,"src",e),e}}),cse=function(e){return kj([e.el(),F.HTMLMediaElement.prototype,lse],"src")},dse=function(e){if(!!e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=cse(e),r=n.setAttribute,s=n.load;Object.defineProperty(n,"src",xt(i,{set:function(u){var c=i.set.call(n,u);return e.triggerSourceset(n.src),c}})),n.setAttribute=function(a,u){var c=r.call(n,a,u);return/src/i.test(a)&&e.triggerSourceset(n.src),c},n.load=function(){var a=s.call(n);return XE(e)||(e.triggerSourceset(""),oN(e)),a},n.currentSrc?e.triggerSourceset(n.currentSrc):XE(e)||oN(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=s,n.setAttribute=r,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},Rk=function(e,n,i,r){r===void 0&&(r=!0);var s=function(c){return Object.defineProperty(e,n,{value:c,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var c=i();return s(c),c}};return r&&(a.set=s),Object.defineProperty(e,n,a)},ge=function(t){fe(e,t);function e(i,r){var s;s=t.call(this,i,r)||this;var a=i.source,u=!1;if(s.featuresVideoFrameCallback=s.featuresVideoFrameCallback&&s.el_.tagName==="VIDEO",a&&(s.el_.currentSrc!==a.src||i.tag&&i.tag.initNetworkState_===3)?s.setSource(a):s.handleLateInit_(s.el_),i.enableSourceset&&s.setupSourcesetHandling_(),s.isScrubbing_=!1,s.el_.hasChildNodes()){for(var c=s.el_.childNodes,d=c.length,f=[];d--;){var m=c[d],g=m.nodeName.toLowerCase();g==="track"&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().addTrackElement_(m),s.remoteTextTracks().addTrack(m.track),s.textTracks().addTrack(m.track),!u&&!s.el_.hasAttribute("crossorigin")&&JT(m.src)&&(u=!0)):f.push(m))}for(var E=0;E<f.length;E++)s.el_.removeChild(f[E])}return s.proxyNativeTracks_(),s.featuresNativeTextTracks&&u&&qe.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),s.restoreMetadataTracksInIOSNativePlayer_(),(Yd||ok||k8)&&i.nativeControlsForTouch===!0&&s.setControls(!0),s.proxyWebkitFullscreen_(),s.triggerReady(),s}var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){dse(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var r=this.textTracks(),s,a=function(){s=[];for(var d=0;d<r.length;d++){var f=r[d];f.kind==="metadata"&&s.push({track:f,storedMode:f.mode})}};a(),r.addEventListener("change",a),this.on("dispose",function(){return r.removeEventListener("change",a)});var u=function c(){for(var d=0;d<s.length;d++){var f=s[d];f.track.mode==="disabled"&&f.track.mode!==f.storedMode&&(f.track.mode=f.storedMode)}r.removeEventListener("change",c)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",a),r.removeEventListener("change",u),r.addEventListener("change",u)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",a),r.addEventListener("change",a),r.removeEventListener("change",u)})},n.overrideNative_=function(r,s){var a=this;if(s===this["featuresNative"+r+"Tracks"]){var u=r.toLowerCase();this[u+"TracksListeners_"]&&Object.keys(this[u+"TracksListeners_"]).forEach(function(c){var d=a.el()[u+"Tracks"];d.removeEventListener(c,a[u+"TracksListeners_"][c])}),this["featuresNative"+r+"Tracks"]=!s,this[u+"TracksListeners_"]=null,this.proxyNativeTracksForType_(u)}},n.overrideNativeAudioTracks=function(r){this.overrideNative_("Audio",r)},n.overrideNativeVideoTracks=function(r){this.overrideNative_("Video",r)},n.proxyNativeTracksForType_=function(r){var s=this,a=Ar[r],u=this.el()[a.getterName],c=this[a.getterName]();if(!(!this["featuresNative"+a.capitalName+"Tracks"]||!u||!u.addEventListener)){var d={change:function(g){var E={type:"change",target:c,currentTarget:c,srcElement:c};c.trigger(E),r==="text"&&s[eh.remoteText.getterName]().trigger(E)},addtrack:function(g){c.addTrack(g.track)},removetrack:function(g){c.removeTrack(g.track)}},f=function(){for(var g=[],E=0;E<c.length;E++){for(var I=!1,b=0;b<u.length;b++)if(u[b]===c[E]){I=!0;break}I||g.push(c[E])}for(;g.length;)c.removeTrack(g.shift())};this[a.getterName+"Listeners_"]=d,Object.keys(d).forEach(function(m){var g=d[m];u.addEventListener(m,g),s.on("dispose",function(E){return u.removeEventListener(m,g)})}),this.on("loadstart",f),this.on("dispose",function(m){return s.off("loadstart",f)})}},n.proxyNativeTracks_=function(){var r=this;Ar.names.forEach(function(s){r.proxyNativeTracksForType_(s)})},n.createEl=function(){var r=this.options_.tag;if(!r||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(r){var s=r.cloneNode(!0);r.parentNode&&r.parentNode.insertBefore(s,r),e.disposeMediaElement(r),r=s}else{r=de.createElement("video");var a=this.options_.tag&&va(this.options_.tag),u=xt({},a);(!Yd||this.options_.nativeControlsForTouch!==!0)&&delete u.controls,M8(r,Kt(u,{id:this.options_.techId,class:"vjs-tech"}))}r.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Qd(r,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(r.disablePictureInPicture=this.options_.disablePictureInPicture);for(var c=["loop","muted","playsinline","autoplay"],d=0;d<c.length;d++){var f=c[d],m=this.options_[f];typeof m<"u"&&(m?Qd(r,f,f):GT(r,f),r[f]=m)}return r},n.handleLateInit_=function(r){if(!(r.networkState===0||r.networkState===3)){if(r.readyState===0){var s=!1,a=function(){s=!0};this.on("loadstart",a);var u=function(){s||this.trigger("loadstart")};this.on("loadedmetadata",u),this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",u),s||this.trigger("loadstart")});return}var c=["loadstart"];c.push("loadedmetadata"),r.readyState>=2&&c.push("loadeddata"),r.readyState>=3&&c.push("canplay"),r.readyState>=4&&c.push("canplaythrough"),this.ready(function(){c.forEach(function(d){this.trigger(d)},this)})}},n.setScrubbing=function(r){this.isScrubbing_=r},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(r){try{this.isScrubbing_&&this.el_.fastSeek&&WT?this.el_.fastSeek(r):this.el_.currentTime=r}catch(s){qe(s,"Video is not ready. (Video.js)")}},n.duration=function(){var r=this;if(this.el_.duration===1/0&&Ja&&Za&&this.el_.currentTime===0){var s=function a(){r.el_.currentTime>0&&(r.el_.duration===1/0&&r.trigger("durationchange"),r.off("timeupdate",a))};return this.on("timeupdate",s),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var r=this;if("webkitDisplayingFullscreen"in this.el_){var s=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",s),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){r.off("webkitbeginfullscreen",a),r.off("webkitendfullscreen",s)})}},n.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var r=F.navigator&&F.navigator.userAgent||"";if(/Android/.test(r)||!/Chrome|Mac OS X 10.5/.test(r))return!0}return!1},n.enterFullScreen=function(){var r=this.el_;if(r.paused&&r.networkState<=r.HAVE_METADATA)Ns(this.el_.play()),this.setTimeout(function(){r.pause();try{r.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},0);else try{r.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},n.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(r){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(r):t.prototype.requestVideoFrameCallback.call(this,r)},n.cancelVideoFrameCallback=function(r){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(r):t.prototype.cancelVideoFrameCallback.call(this,r)},n.src=function(r){if(r===void 0)return this.el_.src;this.setSrc(r)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(r){this.el_.controls=!!r},n.addTextTrack=function(r,s,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(r,s,a):t.prototype.addTextTrack.call(this,r,s,a)},n.createRemoteTextTrack=function(r){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,r);var s=de.createElement("track");return r.kind&&(s.kind=r.kind),r.label&&(s.label=r.label),(r.language||r.srclang)&&(s.srclang=r.language||r.srclang),r.default&&(s.default=r.default),r.id&&(s.id=r.id),r.src&&(s.src=r.src),s},n.addRemoteTextTrack=function(r,s){var a=t.prototype.addRemoteTextTrack.call(this,r,s);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},n.removeRemoteTextTrack=function(r){if(t.prototype.removeRemoteTextTrack.call(this,r),this.featuresNativeTextTracks)for(var s=this.$$("track"),a=s.length;a--;)(r===s[a]||r===s[a].track)&&this.el().removeChild(s[a])},n.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var r={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(r.droppedVideoFrames=this.el().webkitDroppedFrameCount,r.totalVideoFrames=this.el().webkitDecodedFrameCount),F.performance&&typeof F.performance.now=="function"?r.creationTime=F.performance.now():F.performance&&F.performance.timing&&typeof F.performance.timing.navigationStart=="number"&&(r.creationTime=F.Date.now()-F.performance.timing.navigationStart),r},e}(yt);Rk(ge,"TEST_VID",function(){if(!!yh()){var t=de.createElement("video"),e=de.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});ge.isSupported=function(){try{ge.TEST_VID.volume=.5}catch{return!1}return!!(ge.TEST_VID&&ge.TEST_VID.canPlayType)};ge.canPlayType=function(t){return ge.TEST_VID.canPlayType(t)};ge.canPlaySource=function(t,e){return ge.canPlayType(t.type)};ge.canControlVolume=function(){try{var t=ge.TEST_VID.volume;ge.TEST_VID.volume=t/2+.1;var e=t!==ge.TEST_VID.volume;return e&&ki?(F.setTimeout(function(){ge&&ge.prototype&&(ge.prototype.featuresVolumeControl=t!==ge.TEST_VID.volume)}),!1):e}catch{return!1}};ge.canMuteVolume=function(){try{var t=ge.TEST_VID.muted;return ge.TEST_VID.muted=!t,ge.TEST_VID.muted?Qd(ge.TEST_VID,"muted","muted"):GT(ge.TEST_VID,"muted","muted"),t!==ge.TEST_VID.muted}catch{return!1}};ge.canControlPlaybackRate=function(){if(Ja&&Za&&P8<58)return!1;try{var t=ge.TEST_VID.playbackRate;return ge.TEST_VID.playbackRate=t/2+.1,t!==ge.TEST_VID.playbackRate}catch{return!1}};ge.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(de.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(de.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(de.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(de.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};ge.supportsNativeTextTracks=function(){return WT||ki&&Za};ge.supportsNativeVideoTracks=function(){return!!(ge.TEST_VID&&ge.TEST_VID.videoTracks)};ge.supportsNativeAudioTracks=function(){return!!(ge.TEST_VID&&ge.TEST_VID.audioTracks)};ge.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],n=t[1];Rk(ge.prototype,e,function(){return ge[n]()},!0)});ge.prototype.featuresVolumeControl=ge.canControlVolume();ge.prototype.movingMediaElementInDOM=!ki;ge.prototype.featuresFullscreenResize=!0;ge.prototype.featuresProgressEvents=!0;ge.prototype.featuresTimeupdateEvents=!0;ge.prototype.featuresVideoFrameCallback=!!(ge.TEST_VID&&ge.TEST_VID.requestVideoFrameCallback);var v_;ge.patchCanPlayType=function(){rk>=4&&!A8&&!Za&&(v_=ge.TEST_VID&&ge.TEST_VID.constructor.prototype.canPlayType,ge.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":v_.call(this,t)})};ge.unpatchCanPlayType=function(){var t=ge.TEST_VID.constructor.prototype.canPlayType;return v_&&(ge.TEST_VID.constructor.prototype.canPlayType=v_),t};ge.patchCanPlayType();ge.disposeMediaElement=function(t){if(!!t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};ge.resetMediaElement=function(t){if(!!t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){ge.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){ge.prototype["set"+en(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){ge.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){ge.prototype["set"+en(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){ge.prototype[t]=function(){return this.el_[t]()}});yt.withSourceHandlers(ge);ge.nativeSourceHandler={};ge.nativeSourceHandler.canPlayType=function(t){try{return ge.TEST_VID.canPlayType(t)}catch{return""}};ge.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return ge.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=pk(t.src);return ge.nativeSourceHandler.canPlayType("video/"+n)}return""};ge.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};ge.nativeSourceHandler.dispose=function(){};ge.registerSourceHandler(ge.nativeSourceHandler);yt.registerTech("Html5",ge);var Aj=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],JS={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},YE=["tiny","xsmall","small","medium","large","xlarge","huge"],o0={};YE.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;o0[t]="vjs-layout-"+e});var hse={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},hn=function(t){fe(e,t);function e(i,r,s){var a;if(i.id=i.id||r.id||"vjs_video_"+eo(),r=Kt(e.getTagSettings(i),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if(typeof i.closest=="function"){var u=i.closest("[lang]");u&&u.getAttribute&&(r.language=u.getAttribute("lang"))}else for(var c=i;c&&c.nodeType===1;){if(va(c).hasOwnProperty("lang")){r.language=c.getAttribute("lang");break}c=c.parentNode}if(a=t.call(this,null,r,s)||this,a.boundDocumentFullscreenChange_=function(g){return a.documentFullscreenChange_(g)},a.boundFullWindowOnEscKey_=function(g){return a.fullWindowOnEscKey(g)},a.boundUpdateStyleEl_=function(g){return a.updateStyleEl_(g)},a.boundApplyInitTime_=function(g){return a.applyInitTime_(g)},a.boundUpdateCurrentBreakpoint_=function(g){return a.updateCurrentBreakpoint_(g)},a.boundHandleTechClick_=function(g){return a.handleTechClick_(g)},a.boundHandleTechDoubleClick_=function(g){return a.handleTechDoubleClick_(g)},a.boundHandleTechTouchStart_=function(g){return a.handleTechTouchStart_(g)},a.boundHandleTechTouchMove_=function(g){return a.handleTechTouchMove_(g)},a.boundHandleTechTouchEnd_=function(g){return a.handleTechTouchEnd_(g)},a.boundHandleTechTap_=function(g){return a.handleTechTap_(g)},a.isFullscreen_=!1,a.log=x8(a.id_),a.fsApi_=h_,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,a.audioOnlyMode_=!1,a.audioPosterMode_=!1,a.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=i,a.tagAttributes=i&&va(i),a.language(a.options_.language),r.languages){var d={};Object.getOwnPropertyNames(r.languages).forEach(function(g){d[g.toLowerCase()]=r.languages[g]}),a.languages_=d}else a.languages_=e.prototype.options_.languages;a.resetCache_(),a.poster_=r.poster||"",a.controls_=!!r.controls,i.controls=!1,i.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],i.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(g){if(typeof a[g]!="function")throw new Error('plugin "'+g+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),dk(Ne(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(gr(de,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var f=xt(a.options_);r.plugins&&Object.keys(r.plugins).forEach(function(g){a[g](r.plugins[g])}),r.debug&&a.debug(!0),a.options_.playerOptions=f,a.middleware_=[],a.playbackRates(r.playbackRates),a.initChildren(),a.isAudio(i.nodeName.toLowerCase()==="audio"),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),Yd&&a.addClass("vjs-touch-enabled"),ki||a.addClass("vjs-workinghover"),e.players[a.id_]=Ne(a);var m=w8.split(".")[0];return a.addClass("vjs-v"+m),a.userActive(!0),a.reportUserActivity(),a.one("play",function(g){return a.listenForUserActivity_(g)}),a.on("stageclick",function(g){return a.handleStageClick_(g)}),a.on("keydown",function(g){return a.handleKeyDown(g)}),a.on("languagechange",function(g){return a.handleLanguagechange(g)}),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.on("ready",function(){a.audioPosterMode(a.options_.audioPosterMode),a.audioOnlyMode(a.options_.audioOnlyMode)}),a}var n=e.prototype;return n.dispose=function(){var r=this;this.trigger("dispose"),this.off("dispose"),li(de,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),li(de,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Rre(this),bi.names.forEach(function(s){var a=bi[s],u=r[a.getterName]();u&&u.off&&u.off()}),t.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var r=this.tag,s,a=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),u=this.tag.tagName.toLowerCase()==="video-js";a?s=this.el_=r.parentNode:u||(s=this.el_=t.prototype.createEl.call(this,"div"));var c=va(r);if(u){for(s=this.el_=r,r=this.tag=de.createElement("video");s.children.length;)r.appendChild(s.firstChild);cl(s,"video-js")||Ra(s,"video-js"),s.appendChild(r),a=this.playerElIngest_=s,Object.keys(s).forEach(function(I){try{r[I]=s[I]}catch{}})}if(r.setAttribute("tabindex","-1"),c.tabindex="-1",(yg||Za&&D8)&&(r.setAttribute("role","application"),c.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in c&&delete c.width,"height"in c&&delete c.height,Object.getOwnPropertyNames(c).forEach(function(I){u&&I==="class"||s.setAttribute(I,c[I]),u&&r.setAttribute(I,c[I])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=s.player=this,this.addClass("vjs-paused"),F.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=W8("vjs-styles-dimensions");var d=Jo(".vjs-styles-defaults"),f=Jo("head");f.insertBefore(this.styleEl_,d?d.nextSibling:f.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var m=r.getElementsByTagName("a"),g=0;g<m.length;g++){var E=m.item(g);Ra(E,"vjs-hidden"),E.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!a&&r.parentNode.insertBefore(s,r),$E(r,s),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=s,s},n.crossOrigin=function(r){if(!r)return this.techGet_("crossOrigin");if(r!=="anonymous"&&r!=="use-credentials"){qe.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+r+'"');return}this.techCall_("setCrossOrigin",r)},n.width=function(r){return this.dimension("width",r)},n.height=function(r){return this.dimension("height",r)},n.dimension=function(r,s){var a=r+"_";if(s===void 0)return this[a]||0;if(s===""||s==="auto"){this[a]=void 0,this.updateStyleEl_();return}var u=parseFloat(s);if(isNaN(u)){qe.error('Improper value "'+s+'" supplied for for '+r);return}this[a]=u,this.updateStyleEl_()},n.fluid=function(r){var s=this;if(r===void 0)return!!this.fluid_;this.fluid_=!!r,Oa(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),r?(this.addClass("vjs-fluid"),this.fill(!1),ire(this,function(){s.on(["playerreset","resize"],s.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(r){if(r===void 0)return!!this.fill_;this.fill_=!!r,r?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(r){if(r===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(r))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=r,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(F.VIDEOJS_NO_DYNAMIC_STYLE===!0){var r=typeof this.width_=="number"?this.width_:this.options_.width,s=typeof this.height_=="number"?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(r>=0&&(a.width=r),s>=0&&(a.height=s));return}var u,c,d,f;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?d=this.aspectRatio_:this.videoWidth()>0?d=this.videoWidth()+":"+this.videoHeight():d="16:9";var m=d.split(":"),g=m[1]/m[0];this.width_!==void 0?u=this.width_:this.height_!==void 0?u=this.height_/g:u=this.videoWidth()||300,this.height_!==void 0?c=this.height_:c=u*g,/^[^a-zA-Z]/.test(this.id())?f="dimensions-"+this.id():f=this.id()+"-dimensions",this.addClass(f),G8(this.styleEl_,`
      .`+f+` {
        width: `+u+`px;
        height: `+c+`px;
      }

      .`+f+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+g*100+`%;
      }
    `)},n.loadTech_=function(r,s){var a=this;this.tech_&&this.unloadTech_();var u=en(r),c=r.charAt(0).toLowerCase()+r.slice(1);u!=="Html5"&&this.tag&&(yt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=u,this.isReady_=!1;var d=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(d=!1);var f={source:s,autoplay:d,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+c+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};bi.names.forEach(function(g){var E=bi[g];f[E.getterName]=a[E.privateName]}),Kt(f,this.options_[u]),Kt(f,this.options_[c]),Kt(f,this.options_[r.toLowerCase()]),this.tag&&(f.tag=this.tag),s&&s.src===this.cache_.src&&this.cache_.currentTime>0&&(f.startTime=this.cache_.currentTime);var m=yt.getTech(r);if(!m)throw new Error("No Tech named '"+u+"' exists! '"+u+"' should be registered using videojs.registerTech()'");this.tech_=new m(f),this.tech_.ready(It(this,this.handleTechReady_),!0),$2.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Aj.forEach(function(g){a.on(a.tech_,g,function(E){return a["handleTech"+en(g)+"_"](E)})}),Object.keys(JS).forEach(function(g){a.on(a.tech_,g,function(E){if(a.tech_.playbackRate()===0&&a.tech_.seeking()){a.queuedCallbacks_.push({callback:a["handleTech"+JS[g]+"_"].bind(a),event:E});return}a["handleTech"+JS[g]+"_"](E)})}),this.on(this.tech_,"loadstart",function(g){return a.handleTechLoadStart_(g)}),this.on(this.tech_,"sourceset",function(g){return a.handleTechSourceset_(g)}),this.on(this.tech_,"waiting",function(g){return a.handleTechWaiting_(g)}),this.on(this.tech_,"ended",function(g){return a.handleTechEnded_(g)}),this.on(this.tech_,"seeking",function(g){return a.handleTechSeeking_(g)}),this.on(this.tech_,"play",function(g){return a.handleTechPlay_(g)}),this.on(this.tech_,"firstplay",function(g){return a.handleTechFirstPlay_(g)}),this.on(this.tech_,"pause",function(g){return a.handleTechPause_(g)}),this.on(this.tech_,"durationchange",function(g){return a.handleTechDurationChange_(g)}),this.on(this.tech_,"fullscreenchange",function(g,E){return a.handleTechFullscreenChange_(g,E)}),this.on(this.tech_,"fullscreenerror",function(g,E){return a.handleTechFullscreenError_(g,E)}),this.on(this.tech_,"enterpictureinpicture",function(g){return a.handleTechEnterPictureInPicture_(g)}),this.on(this.tech_,"leavepictureinpicture",function(g){return a.handleTechLeavePictureInPicture_(g)}),this.on(this.tech_,"error",function(g){return a.handleTechError_(g)}),this.on(this.tech_,"posterchange",function(g){return a.handleTechPosterChange_(g)}),this.on(this.tech_,"textdata",function(g){return a.handleTechTextData_(g)}),this.on(this.tech_,"ratechange",function(g){return a.handleTechRateChange_(g)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(u!=="Html5"||!this.tag)&&$E(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var r=this;bi.names.forEach(function(s){var a=bi[s];r[a.privateName]=r[a.getterName]()}),this.textTracksJson_=$2.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(r){return r===void 0&&qe.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(r){var s=this;if(!(!this.tech_||typeof r!="string")){var a=function(){var d=s.muted();s.muted(!0);var f=function(){s.muted(d)};s.playTerminatedQueue_.push(f);var m=s.play();if(!!$p(m))return m.catch(function(g){throw f(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(g||""))})},u;if(r==="any"&&!this.muted()?(u=this.play(),$p(u)&&(u=u.catch(a))):r==="muted"&&!this.muted()?u=a():u=this.play(),!!$p(u))return u.then(function(){s.trigger({type:"autoplay-success",autoplay:r})}).catch(function(){s.trigger({type:"autoplay-failure",autoplay:r})})}},n.updateSourceCaches_=function(r){r===void 0&&(r="");var s=r,a="";typeof s!="string"&&(s=r.src,a=r.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],s&&!a&&(a=Nre(this,s)),this.cache_.source=xt({},r,{src:s,type:a});for(var u=this.cache_.sources.filter(function(E){return E.src&&E.src===s}),c=[],d=this.$$("source"),f=[],m=0;m<d.length;m++){var g=va(d[m]);c.push(g),g.src&&g.src===s&&f.push(g.src)}f.length&&!u.length?this.cache_.sources=c:u.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=s},n.handleTechSourceset_=function(r){var s=this;if(!this.changingSrc_){var a=function(f){return s.updateSourceCaches_(f)},u=this.currentSource().src,c=r.src;u&&!/^blob:/.test(u)&&/^blob:/.test(c)&&(!this.lastSource_||this.lastSource_.tech!==c&&this.lastSource_.player!==u)&&(a=function(){}),a(c),r.src||this.tech_.any(["sourceset","loadstart"],function(d){if(d.type!=="sourceset"){var f=s.techGet("currentSrc");s.lastSource_.tech=f,s.updateSourceCaches_(f)}})}this.lastSource_={player:this.currentSource().src,tech:r.src},this.trigger({src:r.src,type:"sourceset"})},n.hasStarted=function(r){if(r===void 0)return this.hasStarted_;r!==this.hasStarted_&&(this.hasStarted_=r,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(r){return r.callback(r.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var r=this;this.addClass("vjs-waiting"),this.trigger("waiting");var s=this.currentTime(),a=function u(){s!==r.currentTime()&&(r.removeClass("vjs-waiting"),r.off("timeupdate",u))};this.on("timeupdate",a)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(qe.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(r){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,r):this.paused()?Ns(this.play()):this.pause())},n.handleTechDoubleClick_=function(r){if(!!this.controls_){var s=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(a){return a.contains(r.target)});s||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,r):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(r){r.cancelable&&r.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(r){var s=r.target.player;if(!(s&&s!==this)){var a=this.el(),u=de[this.fsApi_.fullscreenElement]===a;!u&&a.matches?u=a.matches(":"+this.fsApi_.fullscreen):!u&&a.msMatchesSelector&&(u=a.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(u)}},n.handleTechFullscreenChange_=function(r,s){var a=this;s&&(s.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){a.removeClass("vjs-ios-native-fs")})),this.isFullscreen(s.isFullscreen))},n.handleTechFullscreenError_=function(r,s){this.trigger("fullscreenerror",s)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(r){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(r){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var r=this.tech_.error();this.error(r)},n.handleTechTextData_=function(){var r=null;arguments.length>1&&(r=arguments[1]),this.trigger("textdata",r)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(r,s){this.ready(function(){if(r in Pre)return kre(this.middleware_,this.tech_,r,s);if(r in K2)return G2(this.middleware_,this.tech_,r,s);try{this.tech_&&this.tech_[r](s)}catch(a){throw qe(a),a}},!0)},n.techGet_=function(r){if(!(!this.tech_||!this.tech_.isReady_)){if(r in Are)return Ire(this.middleware_,this.tech_,r);if(r in K2)return G2(this.middleware_,this.tech_,r);try{return this.tech_[r]()}catch(s){throw this.tech_[r]===void 0?(qe("Video.js: "+r+" method not defined for "+this.techName_+" playback technology.",s),s):s.name==="TypeError"?(qe("Video.js: "+r+" unavailable on "+this.techName_+" playback technology element.",s),this.tech_.isReady_=!1,s):(qe(s),s)}}},n.play=function(){var r=this,s=this.options_.Promise||F.Promise;return s?new s(function(a){r.play_(a)}):this.play_()},n.play_=function(r){var s=this;r===void 0&&(r=Ns),this.playCallbacks_.push(r);var a=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a){this.waitToPlay_=function(c){s.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!a&&(WT||ki)&&this.load();return}var u=this.techGet_("play");u===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(u)},n.runPlayTerminatedQueue_=function(){var r=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],r.forEach(function(s){s()})},n.runPlayCallbacks_=function(r){var s=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],s.forEach(function(a){a(r)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return this.techGet_("paused")!==!1},n.played=function(){return this.techGet_("played")||dl(0,0)},n.scrubbing=function(r){if(typeof r>"u")return this.scrubbing_;this.scrubbing_=!!r,this.techCall_("setScrubbing",this.scrubbing_),r?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(r){if(typeof r<"u"){if(r<0&&(r=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=r,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",r),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(r){if(r===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;r=parseFloat(r),r<0&&(r=1/0),r!==this.cache_.duration&&(this.cache_.duration=r,r===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(r)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var r=this.techGet_("buffered");return(!r||!r.length)&&(r=dl(0,0)),r},n.bufferedPercent=function(){return Z8(this.buffered(),this.duration())},n.bufferedEnd=function(){var r=this.buffered(),s=this.duration(),a=r.end(r.length-1);return a>s&&(a=s),a},n.volume=function(r){var s;if(r!==void 0){s=Math.max(0,Math.min(1,parseFloat(r))),this.cache_.volume=s,this.techCall_("setVolume",s),s>0&&this.lastVolume_(s);return}return s=parseFloat(this.techGet_("volume")),isNaN(s)?1:s},n.muted=function(r){if(r!==void 0){this.techCall_("setMuted",r);return}return this.techGet_("muted")||!1},n.defaultMuted=function(r){return r!==void 0?this.techCall_("setDefaultMuted",r):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(r){if(r!==void 0&&r!==0){this.cache_.lastVolume=r;return}return this.cache_.lastVolume},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(r){if(r!==void 0){var s=this.isFullscreen_;this.isFullscreen_=Boolean(r),this.isFullscreen_!==s&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},n.requestFullscreen=function(r){var s=this.options_.Promise||F.Promise;if(s){var a=this;return new s(function(u,c){function d(){a.off("fullscreenerror",m),a.off("fullscreenchange",f)}function f(){d(),u()}function m(E,I){d(),c(I)}a.one("fullscreenchange",f),a.one("fullscreenerror",m);var g=a.requestFullscreenHelper_(r);g&&(g.then(d,d),g.then(u,c))})}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(r){var s=this,a;if(this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},r!==void 0&&(a=r)),this.fsApi_.requestFullscreen){var u=this.el_[this.fsApi_.requestFullscreen](a);return u&&u.then(function(){return s.isFullscreen(!0)},function(){return s.isFullscreen(!1)}),u}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var r=this.options_.Promise||F.Promise;if(r){var s=this;return new r(function(a,u){function c(){s.off("fullscreenerror",f),s.off("fullscreenchange",d)}function d(){c(),a()}function f(g,E){c(),u(E)}s.one("fullscreenchange",d),s.one("fullscreenerror",f);var m=s.exitFullscreenHelper_();m&&(m.then(c,c),m.then(a,u))})}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var r=this;if(this.fsApi_.requestFullscreen){var s=de[this.fsApi_.exitFullscreen]();return s&&Ns(s.then(function(){return r.isFullscreen(!1)})),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=de.documentElement.style.overflow,gr(de,"keydown",this.boundFullWindowOnEscKey_),de.documentElement.style.overflow="hidden",Ra(de.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(r){Fe.isEventKey(r,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,li(de,"keydown",this.boundFullWindowOnEscKey_),de.documentElement.style.overflow=this.docOrigOverflow,_g(de.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(r){if(r===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",r),this.options_.disablePictureInPicture=r,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(r){if(r!==void 0){this.isInPictureInPicture_=!!r,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in de&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in de)return de.exitPictureInPicture()},n.handleKeyDown=function(r){var s=this.options_.userActions;if(!(!s||!s.hotkeys)){var a=function(c){var d=c.tagName.toLowerCase();if(c.isContentEditable)return!0;var f=["button","checkbox","hidden","radio","reset","submit"];if(d==="input")return f.indexOf(c.type)===-1;var m=["textarea"];return m.indexOf(d)!==-1};a(this.el_.ownerDocument.activeElement)||(typeof s.hotkeys=="function"?s.hotkeys.call(this,r):this.handleHotkeys(r))}},n.handleHotkeys=function(r){var s=this.options_.userActions?this.options_.userActions.hotkeys:{},a=s.fullscreenKey,u=a===void 0?function(b){return Fe.isEventKey(b,"f")}:a,c=s.muteKey,d=c===void 0?function(b){return Fe.isEventKey(b,"m")}:c,f=s.playPauseKey,m=f===void 0?function(b){return Fe.isEventKey(b,"k")||Fe.isEventKey(b,"Space")}:f;if(u.call(this,r)){r.preventDefault(),r.stopPropagation();var g=ne.getComponent("FullscreenToggle");de[this.fsApi_.fullscreenEnabled]!==!1&&g.prototype.handleClick.call(this,r)}else if(d.call(this,r)){r.preventDefault(),r.stopPropagation();var E=ne.getComponent("MuteToggle");E.prototype.handleClick.call(this,r)}else if(m.call(this,r)){r.preventDefault(),r.stopPropagation();var I=ne.getComponent("PlayToggle");I.prototype.handleClick.call(this,r)}},n.canPlayType=function(r){for(var s,a=0,u=this.options_.techOrder;a<u.length;a++){var c=u[a],d=yt.getTech(c);if(d||(d=ne.getComponent(c)),!d){qe.error('The "'+c+'" tech is undefined. Skipped browser support check for that tech.');continue}if(d.isSupported()&&(s=d.canPlayType(r),s))return s}return""},n.selectSource=function(r){var s=this,a=this.options_.techOrder.map(function(m){return[m,yt.getTech(m)]}).filter(function(m){var g=m[0],E=m[1];return E?E.isSupported():(qe.error('The "'+g+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),u=function(g,E,I){var b;return g.some(function(x){return E.some(function(k){if(b=I(x,k),b)return!0})}),b},c,d=function(g){return function(E,I){return g(I,E)}},f=function(g,E){var I=g[0],b=g[1];if(b.canPlaySource(E,s.options_[I.toLowerCase()]))return{source:E,tech:I}};return this.options_.sourceOrder?c=u(r,a,d(f)):c=u(a,r,f),c||!1},n.handleSrc_=function(r,s){var a=this;if(typeof r>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var u=Mre(r);if(!u.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,s||(this.cache_.sources=u),this.updateSourceCaches_(u[0]),xre(this,u[0],function(f,m){a.middleware_=m,s||(a.cache_.sources=u),a.updateSourceCaches_(f);var g=a.src_(f);if(g){if(u.length>1)return a.handleSrc_(u.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),a.triggerReady();return}Cre(m,a.tech_)}),this.options_.retryOnError&&u.length>1){var c=function(){a.error(null),a.handleSrc_(u.slice(1),!0)},d=function(){a.off("error",c)};this.one("error",c),this.one("playing",d),this.resetRetryOnError_=function(){a.off("error",c),a.off("playing",d)}}},n.src=function(r){return this.handleSrc_(r,!1)},n.src_=function(r){var s=this,a=this.selectSource([r]);return a?are(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",r):this.techCall_("src",r.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){s.changingSrc_=!1}),!1):!0},n.load=function(){this.techCall_("load")},n.reset=function(){var r=this,s=this.options_.Promise||F.Promise;if(this.paused()||!s)this.doReset_();else{var a=this.play();Ns(a.then(function(){return r.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Oa(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var r=this.controlBar||{},s=r.durationDisplay,a=r.remainingTimeDisplay;s&&s.updateContent(),a&&a.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var r=this.currentSource(),s=[];return Object.keys(r).length!==0&&s.push(r),this.cache_.sources||s},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(r){if(r!==void 0){this.techCall_("setPreload",r),this.options_.preload=r;return}return this.techGet_("preload")},n.autoplay=function(r){if(r===void 0)return this.options_.autoplay||!1;var s;typeof r=="string"&&/(any|play|muted)/.test(r)||r===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=r,this.manualAutoplay_(typeof r=="string"?r:"play"),s=!1):r?this.options_.autoplay=!0:this.options_.autoplay=!1,s=typeof s>"u"?this.options_.autoplay:s,this.tech_&&this.techCall_("setAutoplay",s)},n.playsinline=function(r){return r!==void 0?(this.techCall_("setPlaysinline",r),this.options_.playsinline=r,this):this.techGet_("playsinline")},n.loop=function(r){if(r!==void 0){this.techCall_("setLoop",r),this.options_.loop=r;return}return this.techGet_("loop")},n.poster=function(r){if(r===void 0)return this.poster_;r||(r=""),r!==this.poster_&&(this.poster_=r,this.techCall_("setPoster",r),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var r=this.tech_.poster()||"";r!==this.poster_&&(this.poster_=r,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(r){if(r===void 0)return!!this.controls_;r=!!r,this.controls_!==r&&(this.controls_=r,this.usingNativeControls()&&this.techCall_("setControls",r),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(r){if(r===void 0)return!!this.usingNativeControls_;r=!!r,this.usingNativeControls_!==r&&(this.usingNativeControls_=r,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(r){var s=this;if(r===void 0)return this.error_||null;if(Qo("beforeerror").forEach(function(u){var c=u(s,r);if(!(Wa(c)&&!Array.isArray(c)||typeof c=="string"||typeof c=="number"||c===null)){s.log.error("please return a value that MediaError expects in beforeerror hooks");return}r=c}),this.options_.suppressNotSupportedError&&r&&r.code===4){var a=function(){this.error(r)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],a),this.one("loadstart",function(){this.off(["click","touchstart"],a)});return}if(r===null){this.error_=r,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new xi(r),this.addClass("vjs-error"),qe.error("(CODE:"+this.error_.code+" "+xi.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Qo("error").forEach(function(u){return u(s,s.error_)})},n.reportUserActivity=function(r){this.userActivity_=!0},n.userActive=function(r){if(r===void 0)return this.userActive_;if(r=!!r,r!==this.userActive_){if(this.userActive_=r,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(s){s.stopPropagation(),s.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var r,s,a,u=It(this,this.reportUserActivity),c=function(I){(I.screenX!==s||I.screenY!==a)&&(s=I.screenX,a=I.screenY,u())},d=function(){u(),this.clearInterval(r),r=this.setInterval(u,250)},f=function(I){u(),this.clearInterval(r)};this.on("mousedown",d),this.on("mousemove",c),this.on("mouseup",f),this.on("mouseleave",f);var m=this.getChild("controlBar");m&&!ki&&!Ja&&(m.on("mouseenter",function(E){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),m.on("mouseleave",function(E){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",u),this.on("keyup",u);var g;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(g);var E=this.options_.inactivityTimeout;E<=0||(g=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},E))}},250)},n.playbackRate=function(r){if(r!==void 0){this.techCall_("setPlaybackRate",r);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},n.defaultPlaybackRate=function(r){return r!==void 0?this.techCall_("setDefaultPlaybackRate",r):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(r){if(r!==void 0){this.isAudio_=!!r;return}return!!this.isAudio_},n.enableAudioOnlyUI_=function(){var r=this;this.addClass("vjs-audio-only-mode");var s=this.children(),a=this.getChild("ControlBar"),u=a&&a.currentHeight();s.forEach(function(c){c!==a&&c.el_&&!c.hasClass("vjs-hidden")&&(c.hide(),r.audioOnlyCache_.hiddenChildren.push(c))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(u),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(r){return r.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(r){var s=this;if(typeof r!="boolean"||r===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=r;var a=this.options_.Promise||F.Promise;if(a){if(r){var u=[];return this.isInPictureInPicture()&&u.push(this.exitPictureInPicture()),this.isFullscreen()&&u.push(this.exitFullscreen()),this.audioPosterMode()&&u.push(this.audioPosterMode(!1)),a.all(u).then(function(){return s.enableAudioOnlyUI_()})}return a.resolve().then(function(){return s.disableAudioOnlyUI_()})}r?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){var r=this.tech_&&this.tech_;r.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){var r=this.tech_&&this.tech_;r.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(r){var s=this;if(typeof r!="boolean"||r===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=r;var a=this.options_.Promise||F.Promise;if(a){if(r){if(this.audioOnlyMode()){var u=this.audioOnlyMode(!1);return u.then(function(){s.enablePosterModeUI_()})}return a.resolve().then(function(){s.enablePosterModeUI_()})}return a.resolve().then(function(){s.disablePosterModeUI_()})}if(r){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},n.addTextTrack=function(r,s,a){if(this.tech_)return this.tech_.addTextTrack(r,s,a)},n.addRemoteTextTrack=function(r,s){if(this.tech_)return this.tech_.addRemoteTextTrack(r,s)},n.removeRemoteTextTrack=function(r){r===void 0&&(r={});var s=r,a=s.track;if(a||(a=r),this.tech_)return this.tech_.removeRemoteTextTrack(a)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(r){if(r===void 0)return this.language_;this.language_!==String(r).toLowerCase()&&(this.language_=String(r).toLowerCase(),Oa(this)&&this.trigger("languagechange"))},n.languages=function(){return xt(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var r=xt(this.options_),s=r.tracks;r.tracks=[];for(var a=0;a<s.length;a++){var u=s[a];u=xt(u),u.player=void 0,r.tracks[a]=u}return r},n.createModal=function(r,s){var a=this;s=s||{},s.content=r||"";var u=new bh(this,s);return this.addChild(u),u.on("dispose",function(){a.removeChild(u)}),u.open(),u},n.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var r=this.currentBreakpoint(),s=this.currentWidth(),a=0;a<YE.length;a++){var u=YE[a],c=this.breakpoints_[u];if(s<=c){if(r===u)return;r&&this.removeClass(o0[r]),this.addClass(o0[u]),this.breakpoint_=u;break}}},n.removeCurrentBreakpoint_=function(){var r=this.currentBreakpointClass();this.breakpoint_="",r&&this.removeClass(r)},n.breakpoints=function(r){return r===void 0?Kt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Kt({},hse,r),this.updateCurrentBreakpoint_(),Kt(this.breakpoints_))},n.responsive=function(r){if(r===void 0)return this.responsive_;r=Boolean(r);var s=this.responsive_;if(r!==s)return this.responsive_=r,r?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),r},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return o0[this.breakpoint_]||""},n.loadMedia=function(r,s){var a=this;if(!(!r||typeof r!="object")){this.reset(),this.cache_.media=xt(r);var u=this.cache_.media,c=u.artwork,d=u.poster,f=u.src,m=u.textTracks;!c&&d&&(this.cache_.media.artwork=[{src:d,type:m_(d)}]),f&&this.src(f),d&&this.poster(d),Array.isArray(m)&&m.forEach(function(g){return a.addRemoteTextTrack(g,!1)}),this.ready(s)}},n.getMedia=function(){if(!this.cache_.media){var r=this.poster(),s=this.currentSources(),a=Array.prototype.map.call(this.remoteTextTracks(),function(c){return{kind:c.kind,label:c.label,language:c.language,src:c.src}}),u={src:s,textTracks:a};return r&&(u.poster=r,u.artwork=[{src:u.poster,type:m_(u.poster)}]),u}return xt(this.cache_.media)},e.getTagSettings=function(r){var s={sources:[],tracks:[]},a=va(r),u=a["data-setup"];if(cl(r,"vjs-fill")&&(a.fill=!0),cl(r,"vjs-fluid")&&(a.fluid=!0),u!==null){var c=Qee(u||"{}"),d=c[0],f=c[1];d&&qe.error(d),Kt(a,f)}if(Kt(s,a),r.hasChildNodes())for(var m=r.childNodes,g=0,E=m.length;g<E;g++){var I=m[g],b=I.nodeName.toLowerCase();b==="source"?s.sources.push(va(I)):b==="track"&&s.tracks.push(va(I))}return s},n.flexNotSupported_=function(){var r=de.createElement("i");return!("flexBasis"in r.style||"webkitFlexBasis"in r.style||"mozFlexBasis"in r.style||"msFlexBasis"in r.style||"msFlexOrder"in r.style)},n.debug=function(r){if(r===void 0)return this.debugEnabled_;r?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(r){if(r===void 0)return this.cache_.playbackRates;!Array.isArray(r)||!r.every(function(s){return typeof s=="number"})||(this.cache_.playbackRates=r,this.trigger("playbackrateschange"))},e}(ne);bi.names.forEach(function(t){var e=bi[t];hn.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});hn.prototype.crossorigin=hn.prototype.crossOrigin;hn.players={};var sp=F.navigator;hn.prototype.options_={techOrder:yt.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:sp&&(sp.languages&&sp.languages[0]||sp.userLanguage||sp.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){hn.prototype[t]=function(){return this.techGet_(t)}});Aj.forEach(function(t){hn.prototype["handleTech"+en(t)+"_"]=function(){return this.trigger(t)}});ne.registerComponent("Player",hn);var y_="plugin",Ed="activePlugins_",ud={},__=function(e){return ud.hasOwnProperty(e)},u0=function(e){return __(e)?ud[e]:void 0},Pj=function(e,n){e[Ed]=e[Ed]||{},e[Ed][n]=!0},T_=function(e,n,i){var r=(i?"before":"")+"pluginsetup";e.trigger(r,n),e.trigger(r+":"+n.name,n)},fse=function(e,n){var i=function(){T_(this,{name:e,plugin:n,instance:null},!0);var s=n.apply(this,arguments);return Pj(this,e),T_(this,{name:e,plugin:n,instance:s}),s};return Object.keys(n).forEach(function(r){i[r]=n[r]}),i},uN=function(e,n){return n.prototype.name=e,function(){T_(this,{name:e,plugin:n,instance:null},!0);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var a=i0(n,[this].concat(r));return this[e]=function(){return a},T_(this,a.getEventHash()),a}},Ks=function(){function t(n){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=n,this.log||(this.log=this.player.log.createLogger(this.name)),dk(this),delete this.trigger,J8(this,this.constructor.defaultState),Pj(n,this.name),this.dispose=this.dispose.bind(this),n.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,r){return r===void 0&&(r={}),Th(this.eventBusEl_,i,this.getEventHash(r))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,r=this.player;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Ed][i]=!1,this.player=this.state=null,r[i]=uN(i,ud[i])},t.isBasic=function(i){var r=typeof i=="string"?u0(i):i;return typeof r=="function"&&!t.prototype.isPrototypeOf(r.prototype)},t.registerPlugin=function(i,r){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(__(i))qe.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(hn.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof r!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof r+".");return ud[i]=r,i!==y_&&(t.isBasic(r)?hn.prototype[i]=fse(i,r):hn.prototype[i]=uN(i,r)),r},t.deregisterPlugin=function(i){if(i===y_)throw new Error("Cannot de-register base plugin.");__(i)&&(delete ud[i],delete hn.prototype[i])},t.getPlugins=function(i){i===void 0&&(i=Object.keys(ud));var r;return i.forEach(function(s){var a=u0(s);a&&(r=r||{},r[s]=a)}),r},t.getPluginVersion=function(i){var r=u0(i);return r&&r.VERSION||""},t}();Ks.getPlugin=u0;Ks.BASE_PLUGIN_NAME=y_;Ks.registerPlugin(y_,Ks);hn.prototype.usingPlugin=function(t){return!!this[Ed]&&this[Ed][t]===!0};hn.prototype.hasPlugin=function(t){return!!__(t)};var pse=function(e,n){n===void 0&&(n={});var i=function(){e.apply(this,arguments)},r={};typeof n=="object"?(n.constructor!==Object.prototype.constructor&&(i=n.constructor),r=n):typeof n=="function"&&(i=n),Bte(i,e),e&&(i.super_=e);for(var s in r)r.hasOwnProperty(s)&&(i.prototype[s]=r[s]);return i},Dj=function(e){return e.indexOf("#")===0?e.slice(1):e};function W(t,e,n){var i=W.getPlayer(t);if(i)return e&&qe.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r=typeof t=="string"?Jo("#"+Dj(t)):t;if(!_h(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!r.ownerDocument.defaultView||!r.ownerDocument.body.contains(r))&&qe.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),Qo("beforesetup").forEach(function(a){var u=a(r,xt(e));if(!Wa(u)||Array.isArray(u)){qe.error("please return an object in beforesetup hooks");return}e=xt(e,u)});var s=ne.getComponent("Player");return i=new s(r,e,n),Qo("setup").forEach(function(a){return a(i)}),i}W.hooks_=_a;W.hooks=Qo;W.hook=Vie;W.hookOnce=$ie;W.removeHook=S8;if(F.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&yh()){var Ly=Jo(".vjs-styles-defaults");if(!Ly){Ly=W8("vjs-styles-defaults");var ZS=Jo("head");ZS&&ZS.insertBefore(Ly,ZS.firstChild),G8(Ly,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}zE(1,W);W.VERSION=w8;W.options=hn.prototype.options_;W.getPlayers=function(){return hn.players};W.getPlayer=function(t){var e=hn.players,n;if(typeof t=="string"){var i=Dj(t),r=e[i];if(r)return r;n=Jo("#"+i)}else n=t;if(_h(n)){var s=n,a=s.player,u=s.playerId;if(a||e[u])return a||e[u]}};W.getAllPlayers=function(){return Object.keys(hn.players).map(function(t){return hn.players[t]}).filter(Boolean)};W.players=hn.players;W.getComponent=ne.getComponent;W.registerComponent=function(t,e){yt.isTech(e)&&qe.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ne.registerComponent.call(ne,t,e)};W.getTech=yt.getTech;W.registerTech=yt.registerTech;W.use=Ere;Object.defineProperty(W,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(W.middleware,"TERMINATOR",{value:p_,writeable:!1,enumerable:!0});W.browser=Kie;W.TOUCH_ENABLED=Yd;W.extend=pse;W.mergeOptions=xt;W.bind=It;W.registerPlugin=Ks.registerPlugin;W.deregisterPlugin=Ks.deregisterPlugin;W.plugin=function(t,e){return qe.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ks.registerPlugin(t,e)};W.getPlugins=Ks.getPlugins;W.getPlugin=Ks.getPlugin;W.getPluginVersion=Ks.getPluginVersion;W.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),W.options.languages=xt(W.options.languages,(n={},n[t]=e,n)),W.options.languages[t]};W.log=qe;W.createLogger=x8;W.createTimeRange=W.createTimeRanges=dl;W.formatTime=th;W.setFormatTime=Hre;W.resetFormatTime=zre;W.parseUrl=fk;W.isCrossOrigin=JT;W.EventTarget=Un;W.on=gr;W.one=YT;W.off=li;W.trigger=Th;W.xhr=FT.exports;W.TextTrack=Tg;W.AudioTrack=nj;W.VideoTrack=ij;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){W[t]=function(){return qe.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),z8[t].apply(null,arguments)}});W.computedStyle=Om;W.dom=z8;W.url=Tre;W.defineLazyProperty=Rk;W.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Zr=BT,b_=function(e,n,i){return e&&i&&i.responseURL&&n!==i.responseURL?i.responseURL:n},cs=function(e){return W.log.debug?W.log.debug.bind(W,"VHS:",e+" >"):function(){}},Zo=1/30,Ms=Zo*3,Rj=function(e,n){var i=[],r;if(e&&e.length)for(r=0;r<e.length;r++)n(e.start(r),e.end(r))&&i.push([e.start(r),e.end(r)]);return W.createTimeRanges(i)},ld=function(e,n){return Rj(e,function(i,r){return i-Ms<=n&&r+Ms>=n})},Ny=function(e,n){return Rj(e,function(i){return i-Zo>=n})},mse=function(e){if(e.length<2)return W.createTimeRanges();for(var n=[],i=1;i<e.length;i++){var r=e.end(i-1),s=e.start(i);n.push([r,s])}return W.createTimeRanges(n)},gse=function(e,n){var i=null,r=null,s=0,a=[],u=[];if(!e||!e.length||!n||!n.length)return W.createTimeRange();for(var c=e.length;c--;)a.push({time:e.start(c),type:"start"}),a.push({time:e.end(c),type:"end"});for(c=n.length;c--;)a.push({time:n.start(c),type:"start"}),a.push({time:n.end(c),type:"end"});for(a.sort(function(d,f){return d.time-f.time}),c=0;c<a.length;c++)a[c].type==="start"?(s++,s===2&&(i=a[c].time)):a[c].type==="end"&&(s--,s===1&&(r=a[c].time)),i!==null&&r!==null&&(u.push([i,r]),i=null,r=null);return W.createTimeRanges(u)},Oj=function(e){var n=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)n.push(e.start(i)+" => "+e.end(i));return n.join(", ")},vse=function(e,n,i){i===void 0&&(i=1);var r=e.length?e.end(e.length-1):0;return(r-n)/i},el=function(e){for(var n=[],i=0;i<e.length;i++)n.push({start:e.start(i),end:e.end(i)});return n},yse=function(e,n){if(e===n)return!1;if(!e&&n||!n&&e||e.length!==n.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==n.start(i)||e.end(i)!==n.end(i))return!0;return!1},lN=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},Ok=function(e,n){var i=0;if(!e||!e.length)return i;for(var r=0;r<e.length;r++){var s=e.start(r),a=e.end(r);if(!(n>a)){if(n>s&&n<=a){i+=a-n;continue}i+=a-s}}return i},cN=W.createTimeRange,Lk=function(e,n){if(!n.preload)return n.duration;var i=0;return(n.parts||[]).forEach(function(r){i+=r.duration}),(n.preloadHints||[]).forEach(function(r){r.type==="PART"&&(i+=e.partTargetDuration)}),i},QE=function(e){return(e.segments||[]).reduce(function(n,i,r){return i.parts?i.parts.forEach(function(s,a){n.push({duration:s.duration,segmentIndex:r,partIndex:a,part:s,segment:i})}):n.push({duration:i.duration,segmentIndex:r,partIndex:null,segment:i,part:null}),n},[])},Lj=function(e){var n=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return n&&n.parts||[]},Nj=function(e){var n=e.preloadSegment;if(!!n){var i=n.parts,r=n.preloadHints,s=(r||[]).reduce(function(a,u){return a+(u.type==="PART"?1:0)},0);return s+=i&&i.length?i.length:0,s}},Mj=function(e,n){if(n.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=Lj(n).length>0;return i&&n.serverControl&&n.serverControl.partHoldBack?n.serverControl.partHoldBack:i&&n.partTargetDuration?n.partTargetDuration*3:n.serverControl&&n.serverControl.holdBack?n.serverControl.holdBack:n.targetDuration?n.targetDuration*3:0},_se=function(e,n){var i=0,r=n-e.mediaSequence,s=e.segments[r];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;r--;){if(s=e.segments[r],typeof s.end<"u")return{result:i+s.end,precise:!0};if(i+=Lk(e,s),typeof s.start<"u")return{result:i+s.start,precise:!0}}return{result:i,precise:!1}},Tse=function(e,n){for(var i=0,r,s=n-e.mediaSequence;s<e.segments.length;s++){if(r=e.segments[s],typeof r.start<"u")return{result:r.start-i,precise:!0};if(i+=Lk(e,r),typeof r.end<"u")return{result:r.end-i,precise:!0}}return{result:-1,precise:!1}},Fj=function(e,n,i){if(typeof n>"u"&&(n=e.mediaSequence+e.segments.length),n<e.mediaSequence)return 0;var r=_se(e,n);if(r.precise)return r.result;var s=Tse(e,n);return s.precise?s.result:r.result+i},Uj=function(e,n,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof n>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return F.Infinity}return Fj(e,n,i)},Hp=function(e){var n=e.defaultDuration,i=e.durationList,r=e.startIndex,s=e.endIndex,a=0;if(r>s){var u=[s,r];r=u[0],s=u[1]}if(r<0){for(var c=r;c<Math.min(0,s);c++)a+=n;r=0}for(var d=r;d<s;d++)a+=i[d].duration;return a},Bj=function(e,n,i,r){if(!e||!e.segments)return null;if(e.endList)return Uj(e);if(n===null)return null;n=n||0;var s=Fj(e,e.mediaSequence+e.segments.length,n);return i&&(r=typeof r=="number"?r:Mj(null,e),s-=r),Math.max(0,s)},bse=function(e,n,i){var r=!0,s=n||0,a=Bj(e,n,r,i);return a===null?cN():cN(s,a)},wse=function(e){for(var n=e.playlist,i=e.currentTime,r=e.startingSegmentIndex,s=e.startingPartIndex,a=e.startTime,u=e.experimentalExactManifestTimings,c=i-a,d=QE(n),f=0,m=0;m<d.length;m++){var g=d[m];if(r===g.segmentIndex&&!(typeof s=="number"&&typeof g.partIndex=="number"&&s!==g.partIndex)){f=m;break}}if(c<0){if(f>0)for(var E=f-1;E>=0;E--){var I=d[E];if(c+=I.duration,u){if(c<0)continue}else if(c+Zo<=0)continue;return{partIndex:I.partIndex,segmentIndex:I.segmentIndex,startTime:a-Hp({defaultDuration:n.targetDuration,durationList:d,startIndex:f,endIndex:E})}}return{partIndex:d[0]&&d[0].partIndex||null,segmentIndex:d[0]&&d[0].segmentIndex||0,startTime:i}}if(f<0){for(var b=f;b<0;b++)if(c-=n.targetDuration,c<0)return{partIndex:d[0]&&d[0].partIndex||null,segmentIndex:d[0]&&d[0].segmentIndex||0,startTime:i};f=0}for(var x=f;x<d.length;x++){var k=d[x];if(c-=k.duration,u){if(c>0)continue}else if(c-Zo>=0)continue;return{partIndex:k.partIndex,segmentIndex:k.segmentIndex,startTime:a+Hp({defaultDuration:n.targetDuration,durationList:d,startIndex:f,endIndex:x})}}return{segmentIndex:d[d.length-1].segmentIndex,partIndex:d[d.length-1].partIndex,startTime:i}},jj=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Nk=function(e){return e.excludeUntil&&e.excludeUntil===1/0},nb=function(e){var n=jj(e);return!e.disabled&&!n},Sse=function(e){return e.disabled},Ese=function(e){for(var n=0;n<e.segments.length;n++)if(e.segments[n].key)return!0;return!1},Vj=function(e,n){return n.attributes&&n.attributes[e]},xse=function(e,n,i,r){if(r===void 0&&(r=0),!Vj("BANDWIDTH",i))return NaN;var s=e*i.attributes.BANDWIDTH;return(s-r*8)/n},JE=function(e,n){if(e.playlists.length===1)return!0;var i=n.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(r){return nb(r)?(r.attributes.BANDWIDTH||0)<i:!1}).length===0},Mk=function(e,n){return!e&&!n||!e&&n||e&&!n?!1:!!(e===n||e.id&&n.id&&e.id===n.id||e.resolvedUri&&n.resolvedUri&&e.resolvedUri===n.resolvedUri||e.uri&&n.uri&&e.uri===n.uri)},dN=function(e,n){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var s in i){for(var a in i[s])if(r=n(i[s][a]),r)break;if(r)break}return!!r},Sg=function(e){if(!e||!e.playlists||!e.playlists.length){var n=dN(e,function(a){return a.playlists&&a.playlists.length||a.uri});return n}for(var i=function(u){var c=e.playlists[u],d=c.attributes&&c.attributes.CODECS;if(d&&d.split(",").every(function(m){return O6(m)}))return"continue";var f=dN(e,function(m){return Mk(c,m)});return f?"continue":{v:!1}},r=0;r<e.playlists.length;r++){var s=i(r);if(s!=="continue"&&typeof s=="object")return s.v}return!0},ji={liveEdgeDelay:Mj,duration:Uj,seekable:bse,getMediaInfoForTime:wse,isEnabled:nb,isDisabled:Sse,isBlacklisted:jj,isIncompatible:Nk,playlistEnd:Bj,isAes:Ese,hasAttribute:Vj,estimateSegmentRequestTime:xse,isLowestEnabledRendition:JE,isAudioOnly:Sg,playlistMatch:Mk,segmentDurationWithParts:Lk},$j=W.log,Fk=function(e,n){return e+"-"+n},Cse=function(e){var n=e.onwarn,i=e.oninfo,r=e.manifestString,s=e.customTagParsers,a=s===void 0?[]:s,u=e.customTagMappers,c=u===void 0?[]:u,d=e.experimentalLLHLS,f=new Wte;n&&f.on("warn",n),i&&f.on("info",i),a.forEach(function(b){return f.addParser(b)}),c.forEach(function(b){return f.addTagMapper(b)}),f.push(r),f.end();var m=f.manifest;if(d||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(b){m.hasOwnProperty(b)&&delete m[b]}),m.segments&&m.segments.forEach(function(b){["parts","preloadHints"].forEach(function(x){b.hasOwnProperty(x)&&delete b[x]})})),!m.targetDuration){var g=10;m.segments&&m.segments.length&&(g=m.segments.reduce(function(b,x){return Math.max(b,x.duration)},0)),n&&n("manifest has no targetDuration defaulting to "+g),m.targetDuration=g}var E=Lj(m);if(E.length&&!m.partTargetDuration){var I=E.reduce(function(b,x){return Math.max(b,x.duration)},0);n&&(n("manifest has no partTargetDuration defaulting to "+I),$j.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),m.partTargetDuration=I}return m},Eg=function(e,n){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(!!e.mediaGroups[i])for(var r in e.mediaGroups[i])for(var s in e.mediaGroups[i][r]){var a=e.mediaGroups[i][r][s];n(a,i,r,s)}})},Hj=function(e){var n=e.playlist,i=e.uri,r=e.id;n.id=r,n.playlistErrors_=0,i&&(n.uri=i),n.attributes=n.attributes||{}},Ise=function(e){for(var n=e.playlists.length;n--;){var i=e.playlists[n];Hj({playlist:i,id:Fk(n,i.uri)}),i.resolvedUri=Zr(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||$j.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},kse=function(e){Eg(e,function(n){n.uri&&(n.resolvedUri=Zr(e.uri,n.uri))})},Ase=function(e,n){var i=Fk(0,n),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:F.location.href,resolvedUri:F.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[n]=r.playlists[0],r},zj=function(e,n){e.uri=n;for(var i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){var r="placeholder-uri-"+i;e.playlists[i].uri=r}var s=Sg(e);Eg(e,function(a,u,c,d){var f="placeholder-uri-"+u+"-"+c+"-"+d;if(!a.playlists||!a.playlists.length){if(s&&u==="AUDIO"&&!a.uri)for(var m=0;m<e.playlists.length;m++){var g=e.playlists[m];if(g.attributes&&g.attributes.AUDIO&&g.attributes.AUDIO===c)return}a.playlists=[Or({},a)]}a.playlists.forEach(function(E,I){var b=Fk(I,f);E.uri?E.resolvedUri=E.resolvedUri||Zr(e.uri,E.uri):(E.uri=I===0?f:b,E.resolvedUri=E.uri),E.id=E.id||b,E.attributes=E.attributes||{},e.playlists[E.id]=E,e.playlists[E.uri]=E})}),Ise(e),kse(e)},w_=W.mergeOptions,Pse=W.EventTarget,Dse=function(e,n){if(n.endList||!n.serverControl)return e;var i={};if(n.serverControl.canBlockReload){var r=n.preloadSegment,s=n.mediaSequence+n.segments.length;if(r){var a=r.parts||[],u=Nj(n)-1;u>-1&&u!==a.length-1&&(i._HLS_part=u),(u>-1||a.length)&&s--}i._HLS_msn=s}if(n.serverControl&&n.serverControl.canSkipUntil&&(i._HLS_skip=n.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var c=new F.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(d){!i.hasOwnProperty(d)||c.searchParams.set(d,i[d])}),e=c.toString()}return e},Rse=function(e,n){if(!e)return n;var i=w_(e,n);if(e.preloadHints&&!n.preloadHints&&delete i.preloadHints,e.parts&&!n.parts)delete i.parts;else if(e.parts&&n.parts)for(var r=0;r<n.parts.length;r++)e.parts&&e.parts[r]&&(i.parts[r]=w_(e.parts[r],n.parts[r]));return!e.skipped&&n.skipped&&(i.skipped=!1),e.preload&&!n.preload&&(i.preload=!1),i},Ose=function(e,n,i){var r=e.slice(),s=n.slice();i=i||0;for(var a=[],u,c=0;c<s.length;c++){var d=r[c+i],f=s[c];d?(u=d.map||u,a.push(Rse(d,f))):(u&&!f.map&&(f.map=u),a.push(f))}return a},qj=function(e,n){!e.resolvedUri&&e.uri&&(e.resolvedUri=Zr(n,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Zr(n,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Zr(n,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Zr(n,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=Zr(n,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=Zr(n,i.uri))})},Wj=function(e){var n=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var r=0;r<i.preloadHints.length;r++)if(i.preloadHints[r].type==="MAP")return n}i.duration=e.targetDuration,i.preload=!0,n.push(i)}return n},Gj=function(e,n){return e===n||e.segments&&n.segments&&e.segments.length===n.segments.length&&e.endList===n.endList&&e.mediaSequence===n.mediaSequence&&e.preloadSegment===n.preloadSegment},ZE=function(e,n,i){i===void 0&&(i=Gj);var r=w_(e,{}),s=r.playlists[n.id];if(!s||i(s,n))return null;n.segments=Wj(n);var a=w_(s,n);if(a.preloadSegment&&!n.preloadSegment&&delete a.preloadSegment,s.segments){if(n.skip){n.segments=n.segments||[];for(var u=0;u<n.skip.skippedSegments;u++)n.segments.unshift({skipped:!0})}a.segments=Ose(s.segments,n.segments,n.mediaSequence-s.mediaSequence)}a.segments.forEach(function(d){qj(d,a.resolvedUri)});for(var c=0;c<r.playlists.length;c++)r.playlists[c].id===n.id&&(r.playlists[c]=a);return r.playlists[n.id]=a,r.playlists[n.uri]=a,Eg(e,function(d,f,m,g){if(!!d.playlists)for(var E=0;E<d.playlists.length;E++)n.id===d.playlists[E].id&&(d.playlists[E]=a)}),r},ex=function(e,n){var i=e.segments||[],r=i[i.length-1],s=r&&r.parts&&r.parts[r.parts.length-1],a=s&&s.duration||r&&r.duration;return n&&a?a*1e3:(e.partTargetDuration||e.targetDuration||10)*500},cd=function(t){fe(e,t);function e(i,r,s){var a;if(s===void 0&&(s={}),a=t.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");a.logger_=cs("PlaylistLoader");var u=s,c=u.withCredentials,d=c===void 0?!1:c,f=u.handleManifestRedirects,m=f===void 0?!1:f;a.src=i,a.vhs_=r,a.withCredentials=d,a.handleManifestRedirects=m;var g=r.options_;return a.customTagParsers=g&&g.customTagParsers||[],a.customTagMappers=g&&g.customTagMappers||[],a.experimentalLLHLS=g&&g.experimentalLLHLS||!1,W.browser.IE_VERSION&&(a.experimentalLLHLS=!1),a.state="HAVE_NOTHING",a.handleMediaupdatetimeout_=a.handleMediaupdatetimeout_.bind(Ne(a)),a.on("mediaupdatetimeout",a.handleMediaupdatetimeout_),a}var n=e.prototype;return n.handleMediaupdatetimeout_=function(){var r=this;if(this.state==="HAVE_METADATA"){var s=this.media(),a=Zr(this.master.uri,s.uri);this.experimentalLLHLS&&(a=Dse(a,s)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:a,withCredentials:this.withCredentials},function(u,c){if(!!r.request){if(u)return r.playlistRequestError(r.request,r.media(),"HAVE_METADATA");r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})}})}},n.playlistRequestError=function(r,s,a){var u=s.uri,c=s.id;this.request=null,a&&(this.state=a),this.error={playlist:this.master.playlists[c],status:r.status,message:"HLS playlist request error at URL: "+u+".",responseText:r.responseText,code:r.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(r){var s=this,a=r.url,u=r.manifestString;return Cse({onwarn:function(d){var f=d.message;return s.logger_("m3u8-parser warn for "+a+": "+f)},oninfo:function(d){var f=d.message;return s.logger_("m3u8-parser info for "+a+": "+f)},manifestString:u,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(r){var s=r.playlistString,a=r.playlistObject,u=r.url,c=r.id;this.request=null,this.state="HAVE_METADATA";var d=a||this.parseManifest_({url:u,manifestString:s});d.lastRequest=Date.now(),Hj({playlist:d,uri:u,id:c});var f=ZE(this.master,d);this.targetDuration=d.partTargetDuration||d.targetDuration,this.pendingMedia_=null,f?(this.master=f,this.media_=this.master.playlists[c]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(ex(this.media(),!!f)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),F.clearTimeout(this.mediaUpdateTimeout),F.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},n.media=function(r,s){var a=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof r=="string"){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}if(F.clearTimeout(this.finalRenditionTimeout),s){var u=(r.partTargetDuration||r.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=F.setTimeout(this.media.bind(this,r,!1),u);return}var c=this.state,d=!this.media_||r.id!==this.media_.id,f=this.master.playlists[r.id];if(f&&f.endList||r.endList&&r.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=r,d&&(this.trigger("mediachanging"),c==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(ex(r,!0)),!!d){if(this.state="SWITCHING_MEDIA",this.request){if(r.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=r,this.request=this.vhs_.xhr({uri:r.resolvedUri,withCredentials:this.withCredentials},function(m,g){if(!!a.request){if(r.lastRequest=Date.now(),r.resolvedUri=b_(a.handleManifestRedirects,r.resolvedUri,g),m)return a.playlistRequestError(a.request,r,c);a.haveMetadata({playlistString:g.responseText,url:r.uri,id:r.id}),c==="HAVE_MASTER"?a.trigger("loadedmetadata"):a.trigger("mediachange")}})}},n.pause=function(){this.mediaUpdateTimeout&&(F.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},n.load=function(r){var s=this;this.mediaUpdateTimeout&&(F.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var a=this.media();if(r){var u=a?(a.partTargetDuration||a.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=F.setTimeout(function(){s.mediaUpdateTimeout=null,s.load()},u);return}if(!this.started){this.start();return}a&&!a.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},n.updateMediaUpdateTimeout_=function(r){var s=this;this.mediaUpdateTimeout&&(F.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=F.setTimeout(function(){s.mediaUpdateTimeout=null,s.trigger("mediaupdatetimeout"),s.updateMediaUpdateTimeout_(r)},r))},n.start=function(){var r=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=F.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){r.setupInitialPlaylist(r.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(s,a){if(!!r.request){if(r.request=null,s)return r.error={status:a.status,message:"HLS playlist request error at URL: "+r.src+".",responseText:a.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");r.src=b_(r.handleManifestRedirects,r.src,a);var u=r.parseManifest_({manifestString:a.responseText,url:r.src});r.setupInitialPlaylist(u)}})},n.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},n.setupInitialPlaylist=function(r){if(this.state="HAVE_MASTER",r.playlists){this.master=r,zj(this.master,this.srcUri()),r.playlists.forEach(function(a){a.segments=Wj(a),a.segments.forEach(function(u){qj(u,a.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var s=this.srcUri()||F.location.href;this.master=Ase(r,s),this.haveMetadata({playlistObject:r,url:s,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(Pse),Lse=W.xhr,Nse=W.mergeOptions,tx=function(e,n,i,r){var s=e.responseType==="arraybuffer"?e.response:e.responseText;!n&&s&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=s.byteLength||s.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),n&&n.code==="ETIMEDOUT"&&(e.timedout=!0),!n&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(n=new Error("XHR Failed with a response of: "+(e&&(s||e.responseText)))),r(n,e)},Kj=function(){var e=function n(i,r){i=Nse({timeout:45e3},i);var s=n.beforeRequest||W.Vhs.xhr.beforeRequest;if(s&&typeof s=="function"){var a=s(i);a&&(i=a)}var u=W.Vhs.xhr.original===!0?Lse:W.Vhs.xhr,c=u(i,function(f,m){return tx(c,f,m,r)}),d=c.abort;return c.abort=function(){return c.aborted=!0,d.apply(c,arguments)},c.uri=i.uri,c.requestTime=Date.now(),c};return e.original=!0,e},Mse=function(e){var n,i=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=F.BigInt(e.offset)+F.BigInt(e.length)-F.BigInt(1):n=e.offset+e.length-1,"bytes="+i+"-"+n},nx=function(e){var n={};return e.byterange&&(n.Range=Mse(e.byterange)),n},Fse=function(e,n){return e.start(n)+"-"+e.end(n)},Use=function(e,n){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(n%2?" ":"")},Bse=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Xj=function(e){var n={};return Object.keys(e).forEach(function(i){var r=e[i];N6(r)?n[i]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:n[i]=r}),n},S_=function(e){var n=e.byterange||{length:1/0,offset:0};return[n.length,n.offset,e.resolvedUri].join(",")},Yj=function(e){return e.resolvedUri},Qj=function(e){for(var n=Array.prototype.slice.call(e),i=16,r="",s,a,u=0;u<n.length/i;u++)s=n.slice(u*i,u*i+i).map(Use).join(""),a=n.slice(u*i,u*i+i).map(Bse).join(""),r+=s+" "+a+`
`;return r},jse=function(e){var n=e.bytes;return Qj(n)},Vse=function(e){var n="",i;for(i=0;i<e.length;i++)n+=Fse(e,i)+" ";return n},$se=Object.freeze({__proto__:null,createTransferableMessage:Xj,initSegmentId:S_,segmentKeyId:Yj,hexDump:Qj,tagDump:jse,textRanges:Vse}),Jj=.25,Hse=function(e,n){if(!n.dateTimeObject)return null;var i=n.videoTimingInfo.transmuxerPrependedSeconds,r=n.videoTimingInfo.transmuxedPresentationStart,s=r+i,a=e-s;return new Date(n.dateTimeObject.getTime()+a*1e3)},zse=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},qse=function(e,n){var i;try{i=new Date(e)}catch{return null}if(!n||!n.segments||n.segments.length===0)return null;var r=n.segments[0];if(i<r.dateTimeObject)return null;for(var s=0;s<n.segments.length-1;s++){r=n.segments[s];var a=n.segments[s+1].dateTimeObject;if(i<a)break}var u=n.segments[n.segments.length-1],c=u.dateTimeObject,d=u.videoTimingInfo?zse(u.videoTimingInfo):u.duration+u.duration*Jj,f=new Date(c.getTime()+d*1e3);return i>f?null:(i>c&&(r=u),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:ji.duration(n,n.mediaSequence+n.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},Wse=function(e,n){if(!n||!n.segments||n.segments.length===0)return null;for(var i=0,r,s=0;s<n.segments.length&&(r=n.segments[s],i=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:i+r.duration,!(e<=i));s++);var a=n.segments[n.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+a.duration*Jj)return null;r=a}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:i-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},Gse=function(e,n){var i,r;try{i=new Date(e),r=new Date(n)}catch{}var s=i.getTime(),a=r.getTime();return(a-s)/1e3},Kse=function(e){if(!e.segments||e.segments.length===0)return!1;for(var n=0;n<e.segments.length;n++){var i=e.segments[n];if(!i.dateTimeObject)return!1}return!0},Xse=function(e){var n=e.playlist,i=e.time,r=i===void 0?void 0:i,s=e.callback;if(!s)throw new Error("getProgramTime: callback must be provided");if(!n||r===void 0)return s({message:"getProgramTime: playlist and time must be provided"});var a=Wse(r,n);if(!a)return s({message:"valid programTime was not found"});if(a.type==="estimate")return s({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var u={mediaSeconds:r},c=Hse(r,a.segment);return c&&(u.programDateTime=c.toISOString()),s(null,u)},Yse=function t(e){var n=e.programTime,i=e.playlist,r=e.retryCount,s=r===void 0?2:r,a=e.seekTo,u=e.pauseAfterSeek,c=u===void 0?!0:u,d=e.tech,f=e.callback;if(!f)throw new Error("seekToProgramTime: callback must be provided");if(typeof n>"u"||!i||!a)return f({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!d.hasStarted_)return f({message:"player must be playing a live stream to start buffering"});if(!Kse(i))return f({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var m=qse(n,i);if(!m)return f({message:n+" was not found in the stream"});var g=m.segment,E=Gse(g.dateTimeObject,n);if(m.type==="estimate"){if(s===0)return f({message:n+" is not buffered yet. Try again"});a(m.estimatedStart+E),d.one("seeked",function(){t({programTime:n,playlist:i,retryCount:s-1,seekTo:a,pauseAfterSeek:c,tech:d,callback:f})});return}var I=g.start+E,b=function(){return f(null,d.currentTime())};d.one("seeked",b),c&&d.pause(),a(I)},e1=function(e,n){if(e.readyState===4)return n()},Qse=function(e,n,i){var r=[],s,a=!1,u=function(g,E,I,b){return E.abort(),a=!0,i(g,E,I,b)},c=function(g,E){if(!a){if(g)return u(g,E,"",r);var I=E.responseText.substring(r&&r.byteLength||0,E.responseText.length);if(r=rne(r,M6(I,!0)),s=s||Tp(r),r.length<10||s&&r.length<s+2)return e1(E,function(){return u(g,E,"",r)});var b=ZI(r);return b==="ts"&&r.length<188?e1(E,function(){return u(g,E,"",r)}):!b&&r.length<376?e1(E,function(){return u(g,E,"",r)}):u(null,E,b,r)}},d={uri:e,beforeSend:function(g){g.overrideMimeType("text/plain; charset=x-user-defined"),g.addEventListener("progress",function(E){return E.total,E.loaded,tx(g,null,{statusCode:g.status},c)})}},f=n(d,function(m,g){return tx(f,m,g,c)});return f},Jse=W.EventTarget,Zj=W.mergeOptions,hN=function(e,n){if(!Gj(e,n)||e.sidx&&n.sidx&&(e.sidx.offset!==n.sidx.offset||e.sidx.length!==n.sidx.length))return!1;if(!e.sidx&&n.sidx||e.sidx&&!n.sidx||e.segments&&!n.segments||!e.segments&&n.segments)return!1;if(!e.segments&&!n.segments)return!0;for(var i=0;i<e.segments.length;i++){var r=e.segments[i],s=n.segments[i];if(r.uri!==s.uri)return!1;if(!(!r.byterange&&!s.byterange)){var a=r.byterange,u=s.byterange;if(a&&!u||!a&&u||a.offset!==u.offset||a.length!==u.length)return!1}}return!0},Zse=function(e){var n=e.masterXml,i=e.srcUrl,r=e.clientOffset,s=e.sidxMapping,a=e.previousManifest,u=Tie(n,{manifestUri:i,clientOffset:r,sidxMapping:s,previousManifest:a});return zj(u,i),u},eae=function(e,n,i){for(var r=!0,s=Zj(e,{duration:n.duration,minimumUpdatePeriod:n.minimumUpdatePeriod,timelineStarts:n.timelineStarts}),a=0;a<n.playlists.length;a++){var u=n.playlists[a];if(u.sidx){var c=HT(u.sidx);i&&i[c]&&i[c].sidx&&XI(u,i[c].sidx,u.sidx.resolvedUri)}var d=ZE(s,u,hN);d&&(s=d,r=!1)}return Eg(n,function(f,m,g,E){if(f.playlists&&f.playlists.length){var I=f.playlists[0].id,b=ZE(s,f.playlists[0],hN);b&&(s=b,s.mediaGroups[m][g][E].playlists[0]=s.playlists[I],r=!1)}}),n.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:s},tae=function(e,n){var i=Boolean(!e.map&&!n.map),r=i||Boolean(e.map&&n.map&&e.map.byterange.offset===n.map.byterange.offset&&e.map.byterange.length===n.map.byterange.length);return r&&e.uri===n.uri&&e.byterange.offset===n.byterange.offset&&e.byterange.length===n.byterange.length},fN=function(e,n){var i={};for(var r in e){var s=e[r],a=s.sidx;if(a){var u=HT(a);if(!n[u])break;var c=n[u].sidxInfo;tae(c,a)&&(i[u]=n[u])}}return i},nae=function(e,n){var i=fN(e.playlists,n),r=i;return Eg(e,function(s,a,u,c){if(s.playlists&&s.playlists.length){var d=s.playlists;r=Zj(r,fN(d,n))}}),r},ix=function(t){fe(e,t);function e(i,r,s,a){var u;s===void 0&&(s={}),u=t.call(this)||this,u.masterPlaylistLoader_=a||Ne(u),a||(u.isMaster_=!0);var c=s,d=c.withCredentials,f=d===void 0?!1:d,m=c.handleManifestRedirects,g=m===void 0?!1:m;if(u.vhs_=r,u.withCredentials=f,u.handleManifestRedirects=g,!i)throw new Error("A non-empty playlist URL or object is required");return u.on("minimumUpdatePeriod",function(){u.refreshXml_()}),u.on("mediaupdatetimeout",function(){u.refreshMedia_(u.media().id)}),u.state="HAVE_NOTHING",u.loadedPlaylists_={},u.logger_=cs("DashPlaylistLoader"),u.isMaster_?(u.masterPlaylistLoader_.srcUrl=i,u.masterPlaylistLoader_.sidxMapping_={}):u.childPlaylist_=i,u}var n=e.prototype;return n.requestErrored_=function(r,s,a){if(!this.request)return!0;if(this.request=null,r)return this.error=typeof r=="object"&&!(r instanceof Error)?r:{status:s.status,message:"DASH request error at URL: "+s.uri,response:s.response,code:2},a&&(this.state=a),this.trigger("error"),!0},n.addSidxSegments_=function(r,s,a){var u=this,c=r.sidx&&HT(r.sidx);if(!r.sidx||!c||this.masterPlaylistLoader_.sidxMapping_[c]){this.mediaRequest_=F.setTimeout(function(){return a(!1)},0);return}var d=b_(this.handleManifestRedirects,r.sidx.resolvedUri),f=function(g,E){if(!u.requestErrored_(g,E,s)){var I=u.masterPlaylistLoader_.sidxMapping_,b;try{b=xie(Ae(E.response).subarray(8))}catch(x){u.requestErrored_(x,E,s);return}return I[c]={sidxInfo:r.sidx,sidx:b},XI(r,b,r.sidx.resolvedUri),a(!0)}};this.request=Qse(d,this.vhs_.xhr,function(m,g,E,I){if(m)return f(m,g);if(!E||E!=="mp4")return f({status:g.status,message:"Unsupported "+(E||"unknown")+" container type for sidx segment at URL: "+d,response:"",playlist:r,internal:!0,blacklistDuration:1/0,code:2},g);var b=r.sidx.byterange,x=b.offset,k=b.length;if(I.length>=k+x)return f(m,{response:I.subarray(x,x+k),status:g.status,uri:g.uri});u.request=u.vhs_.xhr({uri:d,responseType:"arraybuffer",headers:nx({byterange:r.sidx.byterange})},f)})},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},F.clearTimeout(this.minimumUpdatePeriodTimeout_),F.clearTimeout(this.mediaRequest_),F.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},n.media=function(r){var s=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var a=this.state;if(typeof r=="string"){if(!this.masterPlaylistLoader_.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.masterPlaylistLoader_.master.playlists[r]}var u=!this.media_||r.id!==this.media_.id;if(u&&this.loadedPlaylists_[r.id]&&this.loadedPlaylists_[r.id].endList){this.state="HAVE_METADATA",this.media_=r,u&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!u||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(r,a,function(c){s.haveMetadata({startingState:a,playlist:r})}))},n.haveMetadata=function(r){var s=r.startingState,a=r.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[a.id]=a,this.mediaRequest_=null,this.refreshMedia_(a.id),s==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),F.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(F.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},n.load=function(r){var s=this;F.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var a=this.media();if(r){var u=a?a.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=F.setTimeout(function(){return s.load()},u);return}if(!this.started){this.start();return}a&&!a.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},n.start=function(){var r=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=F.setTimeout(function(){return r.haveMaster_()},0);return}this.requestMaster_(function(s,a){r.haveMaster_(),!r.hasPendingRequest()&&!r.media_&&r.media(r.masterPlaylistLoader_.master.playlists[0])})},n.requestMaster_=function(r){var s=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(a,u){if(s.requestErrored_(a,u)){s.state==="HAVE_NOTHING"&&(s.started=!1);return}var c=u.responseText!==s.masterPlaylistLoader_.masterXml_;if(s.masterPlaylistLoader_.masterXml_=u.responseText,u.responseHeaders&&u.responseHeaders.date?s.masterLoaded_=Date.parse(u.responseHeaders.date):s.masterLoaded_=Date.now(),s.masterPlaylistLoader_.srcUrl=b_(s.handleManifestRedirects,s.masterPlaylistLoader_.srcUrl,u),c){s.handleMaster_(),s.syncClientServerClock_(function(){return r(u,c)});return}return r(u,c)})},n.syncClientServerClock_=function(r){var s=this,a=bie(this.masterPlaylistLoader_.masterXml_);if(a===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),r();if(a.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=a.value-Date.now(),r();this.request=this.vhs_.xhr({uri:Zr(this.masterPlaylistLoader_.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(u,c){if(!!s.request){if(u)return s.masterPlaylistLoader_.clientOffset_=s.masterLoaded_-Date.now(),r();var d;a.method==="HEAD"?!c.responseHeaders||!c.responseHeaders.date?d=s.masterLoaded_:d=Date.parse(c.responseHeaders.date):d=Date.parse(c.responseText),s.masterPlaylistLoader_.clientOffset_=d-Date.now(),r()}})},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var r=this.masterPlaylistLoader_.master,s=Zse({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:r});r&&(s=eae(r,s,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=s||r;var a=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return a&&a!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=a),(!r||s&&s.minimumUpdatePeriod!==r.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(s)},n.updateMinimumUpdatePeriodTimeout_=function(){var r=this.masterPlaylistLoader_;r.createMupOnMedia_&&(r.off("loadedmetadata",r.createMupOnMedia_),r.createMupOnMedia_=null),r.minimumUpdatePeriodTimeout_&&(F.clearTimeout(r.minimumUpdatePeriodTimeout_),r.minimumUpdatePeriodTimeout_=null);var s=r.master&&r.master.minimumUpdatePeriod;if(s===0&&(r.media()?s=r.media().targetDuration*1e3:(r.createMupOnMedia_=r.updateMinimumUpdatePeriodTimeout_,r.one("loadedmetadata",r.createMupOnMedia_))),typeof s!="number"||s<=0){s<0&&this.logger_("found invalid minimumUpdatePeriod of "+s+", not setting a timeout");return}this.createMUPTimeout_(s)},n.createMUPTimeout_=function(r){var s=this.masterPlaylistLoader_;s.minimumUpdatePeriodTimeout_=F.setTimeout(function(){s.minimumUpdatePeriodTimeout_=null,s.trigger("minimumUpdatePeriod"),s.createMUPTimeout_(r)},r)},n.refreshXml_=function(){var r=this;this.requestMaster_(function(s,a){!a||(r.media_&&(r.media_=r.masterPlaylistLoader_.master.playlists[r.media_.id]),r.masterPlaylistLoader_.sidxMapping_=nae(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.sidxMapping_),r.addSidxSegments_(r.media(),r.state,function(u){r.refreshMedia_(r.media().id)}))})},n.refreshMedia_=function(r){var s=this;if(!r)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var a=this.masterPlaylistLoader_.master.playlists,u=!this.media_||this.media_!==a[r];if(u?this.media_=a[r]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var c=function d(){s.media().endList||(s.mediaUpdateTimeout=F.setTimeout(function(){s.trigger("mediaupdatetimeout"),d()},ex(s.media(),Boolean(u))))};c()}this.trigger("loadedplaylist")},e}(Jse),Pn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},iae=function(e){for(var n=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer},eV=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},rae=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}},tV=function(e){return function(){var n=rae(e),i=eV(new Worker(n));i.objURL=n;var r=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(n),r.call(this)},i}},nV=function(e){return"var browserWorkerPolyFill = "+eV.toString()+`;
browserWorkerPolyFill(self);
`+e},iV=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},sae=nV(iV(function(){var t=function(){this.init=function(){var v={};this.on=function(T,_){v[T]||(v[T]=[]),v[T]=v[T].concat(_)},this.off=function(T,_){var S;return v[T]?(S=v[T].indexOf(_),v[T]=v[T].slice(),v[T].splice(S,1),S>-1):!1},this.trigger=function(T){var _,S,C,A;if(_=v[T],!!_)if(arguments.length===2)for(C=_.length,S=0;S<C;++S)_[S].call(this,arguments[1]);else{for(A=[],S=arguments.length,S=1;S<arguments.length;++S)A.push(arguments[S]);for(C=_.length,S=0;S<C;++S)_[S].apply(this,A)}},this.dispose=function(){v={}}}};t.prototype.pipe=function(D){return this.on("data",function(v){D.push(v)}),this.on("done",function(v){D.flush(v)}),this.on("partialdone",function(v){D.partialFlush(v)}),this.on("endedtimeline",function(v){D.endTimeline(v)}),this.on("reset",function(v){D.reset(v)}),D},t.prototype.push=function(D){this.trigger("data",D)},t.prototype.flush=function(D){this.trigger("done",D)},t.prototype.partialFlush=function(D){this.trigger("partialdone",D)},t.prototype.endTimeline=function(D){this.trigger("endedtimeline",D)},t.prototype.reset=function(D){this.trigger("reset",D)};var e=t,n=Math.pow(2,32),i=function(v){var T=new DataView(v.buffer,v.byteOffset,v.byteLength),_;return T.getBigUint64?(_=T.getBigUint64(0),_<Number.MAX_SAFE_INTEGER?Number(_):_):T.getUint32(0)*n+T.getUint32(4)},r={getUint64:i,MAX_UINT32:n},s=r.MAX_UINT32,a,u,c,d,f,m,g,E,I,b,x,k,P,O,N,B,q,$,H,K,G,Q,ie,he,$e,Ie,ce,De,se,we,me,dt,We,Zn,Sn,Xi;(function(){var D;if(ie={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(D in ie)ie.hasOwnProperty(D)&&(ie[D]=[D.charCodeAt(0),D.charCodeAt(1),D.charCodeAt(2),D.charCodeAt(3)]);he=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Ie=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),$e=new Uint8Array([0,0,0,1]),ce=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),De=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),se={video:ce,audio:De},dt=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),me=new Uint8Array([0,0,0,0,0,0,0,0]),We=new Uint8Array([0,0,0,0,0,0,0,0]),Zn=We,Sn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Xi=We,we=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(v){var T=[],_=0,S,C,A;for(S=1;S<arguments.length;S++)T.push(arguments[S]);for(S=T.length;S--;)_+=T[S].byteLength;for(C=new Uint8Array(_+8),A=new DataView(C.buffer,C.byteOffset,C.byteLength),A.setUint32(0,C.byteLength),C.set(v,4),S=0,_=8;S<T.length;S++)C.set(T[S],_),_+=T[S].byteLength;return C},u=function(){return a(ie.dinf,a(ie.dref,dt))},c=function(v){return a(ie.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,v.audioobjecttype<<3|v.samplingfrequencyindex>>>1,v.samplingfrequencyindex<<7|v.channelcount<<3,6,1,2]))},d=function(){return a(ie.ftyp,he,$e,he,Ie)},B=function(v){return a(ie.hdlr,se[v])},f=function(v){return a(ie.mdat,v)},N=function(v){var T=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,v.duration>>>24&255,v.duration>>>16&255,v.duration>>>8&255,v.duration&255,85,196,0,0]);return v.samplerate&&(T[12]=v.samplerate>>>24&255,T[13]=v.samplerate>>>16&255,T[14]=v.samplerate>>>8&255,T[15]=v.samplerate&255),a(ie.mdhd,T)},O=function(v){return a(ie.mdia,N(v),B(v.type),g(v))},m=function(v){return a(ie.mfhd,new Uint8Array([0,0,0,0,(v&4278190080)>>24,(v&16711680)>>16,(v&65280)>>8,v&255]))},g=function(v){return a(ie.minf,v.type==="video"?a(ie.vmhd,we):a(ie.smhd,me),u(),$(v))},E=function(v,T){for(var _=[],S=T.length;S--;)_[S]=K(T[S]);return a.apply(null,[ie.moof,m(v)].concat(_))},I=function(v){for(var T=v.length,_=[];T--;)_[T]=k(v[T]);return a.apply(null,[ie.moov,x(4294967295)].concat(_).concat(b(v)))},b=function(v){for(var T=v.length,_=[];T--;)_[T]=G(v[T]);return a.apply(null,[ie.mvex].concat(_))},x=function(v){var T=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(v&4278190080)>>24,(v&16711680)>>16,(v&65280)>>8,v&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(ie.mvhd,T)},q=function(v){var T=v.samples||[],_=new Uint8Array(4+T.length),S,C;for(C=0;C<T.length;C++)S=T[C].flags,_[C+4]=S.dependsOn<<4|S.isDependedOn<<2|S.hasRedundancy;return a(ie.sdtp,_)},$=function(v){return a(ie.stbl,H(v),a(ie.stts,Xi),a(ie.stsc,Zn),a(ie.stsz,Sn),a(ie.stco,We))},function(){var D,v;H=function(_){return a(ie.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),_.type==="video"?D(_):v(_))},D=function(_){var S=_.sps||[],C=_.pps||[],A=[],L=[],M,V;for(M=0;M<S.length;M++)A.push((S[M].byteLength&65280)>>>8),A.push(S[M].byteLength&255),A=A.concat(Array.prototype.slice.call(S[M]));for(M=0;M<C.length;M++)L.push((C[M].byteLength&65280)>>>8),L.push(C[M].byteLength&255),L=L.concat(Array.prototype.slice.call(C[M]));if(V=[ie.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(_.width&65280)>>8,_.width&255,(_.height&65280)>>8,_.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(ie.avcC,new Uint8Array([1,_.profileIdc,_.profileCompatibility,_.levelIdc,255].concat([S.length],A,[C.length],L))),a(ie.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],_.sarRatio){var j=_.sarRatio[0],z=_.sarRatio[1];V.push(a(ie.pasp,new Uint8Array([(j&4278190080)>>24,(j&16711680)>>16,(j&65280)>>8,j&255,(z&4278190080)>>24,(z&16711680)>>16,(z&65280)>>8,z&255])))}return a.apply(null,V)},v=function(_){return a(ie.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(_.channelcount&65280)>>8,_.channelcount&255,(_.samplesize&65280)>>8,_.samplesize&255,0,0,0,0,(_.samplerate&65280)>>8,_.samplerate&255,0,0]),c(_))}}(),P=function(v){var T=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,0,(v.duration&4278190080)>>24,(v.duration&16711680)>>16,(v.duration&65280)>>8,v.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(v.width&65280)>>8,v.width&255,0,0,(v.height&65280)>>8,v.height&255,0,0]);return a(ie.tkhd,T)},K=function(v){var T,_,S,C,A,L,M;return T=a(ie.tfhd,new Uint8Array([0,0,0,58,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),L=Math.floor(v.baseMediaDecodeTime/s),M=Math.floor(v.baseMediaDecodeTime%s),_=a(ie.tfdt,new Uint8Array([1,0,0,0,L>>>24&255,L>>>16&255,L>>>8&255,L&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255])),A=32+20+8+16+8+8,v.type==="audio"?(S=Q(v,A),a(ie.traf,T,_,S)):(C=q(v),S=Q(v,C.length+A),a(ie.traf,T,_,S,C))},k=function(v){return v.duration=v.duration||4294967295,a(ie.trak,P(v),O(v))},G=function(v){var T=new Uint8Array([0,0,0,0,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return v.type!=="video"&&(T[T.length-1]=0),a(ie.trex,T)},function(){var D,v,T;T=function(S,C){var A=0,L=0,M=0,V=0;return S.length&&(S[0].duration!==void 0&&(A=1),S[0].size!==void 0&&(L=2),S[0].flags!==void 0&&(M=4),S[0].compositionTimeOffset!==void 0&&(V=8)),[0,0,A|L|M|V,1,(S.length&4278190080)>>>24,(S.length&16711680)>>>16,(S.length&65280)>>>8,S.length&255,(C&4278190080)>>>24,(C&16711680)>>>16,(C&65280)>>>8,C&255]},v=function(S,C){var A,L,M,V,j,z;for(V=S.samples||[],C+=8+12+16*V.length,M=T(V,C),L=new Uint8Array(M.length+V.length*16),L.set(M),A=M.length,z=0;z<V.length;z++)j=V[z],L[A++]=(j.duration&4278190080)>>>24,L[A++]=(j.duration&16711680)>>>16,L[A++]=(j.duration&65280)>>>8,L[A++]=j.duration&255,L[A++]=(j.size&4278190080)>>>24,L[A++]=(j.size&16711680)>>>16,L[A++]=(j.size&65280)>>>8,L[A++]=j.size&255,L[A++]=j.flags.isLeading<<2|j.flags.dependsOn,L[A++]=j.flags.isDependedOn<<6|j.flags.hasRedundancy<<4|j.flags.paddingValue<<1|j.flags.isNonSyncSample,L[A++]=j.flags.degradationPriority&240<<8,L[A++]=j.flags.degradationPriority&15,L[A++]=(j.compositionTimeOffset&4278190080)>>>24,L[A++]=(j.compositionTimeOffset&16711680)>>>16,L[A++]=(j.compositionTimeOffset&65280)>>>8,L[A++]=j.compositionTimeOffset&255;return a(ie.trun,L)},D=function(S,C){var A,L,M,V,j,z;for(V=S.samples||[],C+=8+12+8*V.length,M=T(V,C),A=new Uint8Array(M.length+V.length*8),A.set(M),L=M.length,z=0;z<V.length;z++)j=V[z],A[L++]=(j.duration&4278190080)>>>24,A[L++]=(j.duration&16711680)>>>16,A[L++]=(j.duration&65280)>>>8,A[L++]=j.duration&255,A[L++]=(j.size&4278190080)>>>24,A[L++]=(j.size&16711680)>>>16,A[L++]=(j.size&65280)>>>8,A[L++]=j.size&255;return a(ie.trun,A)},Q=function(S,C){return S.type==="audio"?D(S,C):v(S,C)}}();var rn={ftyp:d,mdat:f,moof:E,moov:I,initSegment:function(v){var T=d(),_=I(v),S;return S=new Uint8Array(T.byteLength+_.byteLength),S.set(T),S.set(_,T.byteLength),S}},At=function(v){var T,_,S=[],C=[];for(C.byteLength=0,C.nalCount=0,C.duration=0,S.byteLength=0,T=0;T<v.length;T++)_=v[T],_.nalUnitType==="access_unit_delimiter_rbsp"?(S.length&&(S.duration=_.dts-S.dts,C.byteLength+=S.byteLength,C.nalCount+=S.length,C.duration+=S.duration,C.push(S)),S=[_],S.byteLength=_.data.byteLength,S.pts=_.pts,S.dts=_.dts):(_.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(S.keyFrame=!0),S.duration=_.dts-S.dts,S.byteLength+=_.data.byteLength,S.push(_));return C.length&&(!S.duration||S.duration<=0)&&(S.duration=C[C.length-1].duration),C.byteLength+=S.byteLength,C.nalCount+=S.length,C.duration+=S.duration,C.push(S),C},Xs=function(v){var T,_,S=[],C=[];for(S.byteLength=0,S.nalCount=0,S.duration=0,S.pts=v[0].pts,S.dts=v[0].dts,C.byteLength=0,C.nalCount=0,C.duration=0,C.pts=v[0].pts,C.dts=v[0].dts,T=0;T<v.length;T++)_=v[T],_.keyFrame?(S.length&&(C.push(S),C.byteLength+=S.byteLength,C.nalCount+=S.nalCount,C.duration+=S.duration),S=[_],S.nalCount=_.length,S.byteLength=_.byteLength,S.pts=_.pts,S.dts=_.dts,S.duration=_.duration):(S.duration+=_.duration,S.nalCount+=_.length,S.byteLength+=_.byteLength,S.push(_));return C.length&&S.duration<=0&&(S.duration=C[C.length-1].duration),C.byteLength+=S.byteLength,C.nalCount+=S.nalCount,C.duration+=S.duration,C.push(S),C},Lr=function(v){var T;return!v[0][0].keyFrame&&v.length>1&&(T=v.shift(),v.byteLength-=T.byteLength,v.nalCount-=T.nalCount,v[0][0].dts=T.dts,v[0][0].pts=T.pts,v[0][0].duration+=T.duration),v},rb=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},xg=function(v,T){var _=rb();return _.dataOffset=T,_.compositionTimeOffset=v.pts-v.dts,_.duration=v.duration,_.size=4*v.length,_.size+=v.byteLength,v.keyFrame&&(_.flags.dependsOn=2,_.flags.isNonSyncSample=0),_},Cg=function(v,T){var _,S,C,A,L,M=T||0,V=[];for(_=0;_<v.length;_++)for(A=v[_],S=0;S<A.length;S++)L=A[S],C=xg(L,M),M+=C.size,V.push(C);return V},Ig=function(v){var T,_,S,C,A,L,M=0,V=v.byteLength,j=v.nalCount,z=V+4*j,Y=new Uint8Array(z),te=new DataView(Y.buffer);for(T=0;T<v.length;T++)for(C=v[T],_=0;_<C.length;_++)for(A=C[_],S=0;S<A.length;S++)L=A[S],te.setUint32(M,L.data.byteLength),M+=4,Y.set(L.data,M),M+=L.data.byteLength;return Y},sb=function(v,T){var _,S=T||0,C=[];return _=xg(v,S),C.push(_),C},fi=function(v){var T,_,S=0,C=v.byteLength,A=v.length,L=C+4*A,M=new Uint8Array(L),V=new DataView(M.buffer);for(T=0;T<v.length;T++)_=v[T],V.setUint32(S,_.data.byteLength),S+=4,M.set(_.data,S),S+=_.data.byteLength;return M},hu={groupNalsIntoFrames:At,groupFramesIntoGops:Xs,extendFirstKeyFrame:Lr,generateSampleTable:Cg,concatenateNalData:Ig,generateSampleTableForFrame:sb,concatenateNalDataForFrame:fi},ds=[33,16,5,32,164,27],xh=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],st=function(v){for(var T=[];v--;)T.push(0);return T},ab=function(v){return Object.keys(v).reduce(function(T,_){return T[_]=new Uint8Array(v[_].reduce(function(S,C){return S.concat(C)},[])),T},{})},Ch,ob=function(){if(!Ch){var v={96e3:[ds,[227,64],st(154),[56]],88200:[ds,[231],st(170),[56]],64e3:[ds,[248,192],st(240),[56]],48e3:[ds,[255,192],st(268),[55,148,128],st(54),[112]],44100:[ds,[255,192],st(268),[55,163,128],st(84),[112]],32e3:[ds,[255,192],st(268),[55,234],st(226),[112]],24e3:[ds,[255,192],st(268),[55,255,128],st(268),[111,112],st(126),[224]],16e3:[ds,[255,192],st(268),[55,255,128],st(268),[111,255],st(269),[223,108],st(195),[1,192]],12e3:[xh,st(268),[3,127,248],st(268),[6,255,240],st(268),[13,255,224],st(268),[27,253,128],st(259),[56]],11025:[xh,st(268),[3,127,248],st(268),[6,255,240],st(268),[13,255,224],st(268),[27,255,192],st(268),[55,175,128],st(108),[112]],8e3:[xh,st(268),[3,121,16],st(47),[7]]};Ch=ab(v)}return Ch},fu=9e4,hs,Nl,to,Ml,pu,Ys,fs;hs=function(v){return v*fu},Nl=function(v,T){return v*T},to=function(v){return v/fu},Ml=function(v,T){return v/T},pu=function(v,T){return hs(Ml(v,T))},Ys=function(v,T){return Nl(to(v),T)},fs=function(v,T,_){return to(_?v:v-T)};var Ze={ONE_SECOND_IN_TS:fu,secondsToVideoTs:hs,secondsToAudioTs:Nl,videoTsToSeconds:to,audioTsToSeconds:Ml,audioTsToVideoTs:pu,videoTsToAudioTs:Ys,metadataTsToSeconds:fs},ub=function(v){var T,_,S=0;for(T=0;T<v.length;T++)_=v[T],S+=_.data.byteLength;return S},lb=function(v,T,_,S){var C,A=0,L=0,M=0,V=0,j,z,Y;if(!!T.length&&(C=Ze.audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),A=Math.ceil(Ze.ONE_SECOND_IN_TS/(v.samplerate/1024)),_&&S&&(L=C-Math.max(_,S),M=Math.floor(L/A),V=M*A),!(M<1||V>Ze.ONE_SECOND_IN_TS/2))){for(j=ob()[v.samplerate],j||(j=T[0].data),z=0;z<M;z++)Y=T[0],T.splice(0,0,{data:j,dts:Y.dts-A,pts:Y.pts-A});return v.baseMediaDecodeTime-=Math.floor(Ze.videoTsToAudioTs(V,v.samplerate)),V}},Fl=function(v,T,_){return T.minSegmentDts>=_?v:(T.minSegmentDts=1/0,v.filter(function(S){return S.dts>=_?(T.minSegmentDts=Math.min(T.minSegmentDts,S.dts),T.minSegmentPts=T.minSegmentDts,!0):!1}))},Ul=function(v){var T,_,S=[];for(T=0;T<v.length;T++)_=v[T],S.push({size:_.data.byteLength,duration:1024});return S},Qs=function(v){var T,_,S=0,C=new Uint8Array(ub(v));for(T=0;T<v.length;T++)_=v[T],C.set(_.data,S),S+=_.data.byteLength;return C},Bl={prefixWithSilence:lb,trimAdtsFramesByEarliestDts:Fl,generateSampleTable:Ul,concatenateFrameData:Qs},cb=Ze.ONE_SECOND_IN_TS,kg=function(v,T){typeof T.pts=="number"&&(v.timelineStartInfo.pts===void 0&&(v.timelineStartInfo.pts=T.pts),v.minSegmentPts===void 0?v.minSegmentPts=T.pts:v.minSegmentPts=Math.min(v.minSegmentPts,T.pts),v.maxSegmentPts===void 0?v.maxSegmentPts=T.pts:v.maxSegmentPts=Math.max(v.maxSegmentPts,T.pts)),typeof T.dts=="number"&&(v.timelineStartInfo.dts===void 0&&(v.timelineStartInfo.dts=T.dts),v.minSegmentDts===void 0?v.minSegmentDts=T.dts:v.minSegmentDts=Math.min(v.minSegmentDts,T.dts),v.maxSegmentDts===void 0?v.maxSegmentDts=T.dts:v.maxSegmentDts=Math.max(v.maxSegmentDts,T.dts))},Ag=function(v){delete v.minSegmentDts,delete v.maxSegmentDts,delete v.minSegmentPts,delete v.maxSegmentPts},jl=function(v,T){var _,S,C=v.minSegmentDts;return T||(C-=v.timelineStartInfo.dts),_=v.timelineStartInfo.baseMediaDecodeTime,_+=C,_=Math.max(0,_),v.type==="audio"&&(S=v.samplerate/cb,_*=S,_=Math.floor(_)),_},Yi={clearDtsInfo:Ag,calculateTrackBaseMediaDecodeTime:jl,collectDtsInfo:kg},Nr=4,Ih=128,kh=function(v){for(var T=0,_={payloadType:-1,payloadSize:0},S=0,C=0;T<v.byteLength&&v[T]!==Ih;){for(;v[T]===255;)S+=255,T++;for(S+=v[T++];v[T]===255;)C+=255,T++;if(C+=v[T++],!_.payload&&S===Nr){var A=String.fromCharCode(v[T+3],v[T+4],v[T+5],v[T+6]);if(A==="GA94"){_.payloadType=S,_.payloadSize=C,_.payload=v.subarray(T,T+C);break}else _.payload=void 0}T+=C,S=0,C=0}return _},Ah=function(v){return v.payload[0]!==181||(v.payload[1]<<8|v.payload[2])!==49||String.fromCharCode(v.payload[3],v.payload[4],v.payload[5],v.payload[6])!=="GA94"||v.payload[7]!==3?null:v.payload.subarray(8,v.payload.length-1)},Ph=function(v,T){var _=[],S,C,A,L;if(!(T[0]&64))return _;for(C=T[0]&31,S=0;S<C;S++)A=S*3,L={type:T[A+2]&3,pts:v},T[A+2]&4&&(L.ccData=T[A+3]<<8|T[A+4],_.push(L));return _},mu=function(v){for(var T=v.byteLength,_=[],S=1,C,A;S<T-2;)v[S]===0&&v[S+1]===0&&v[S+2]===3?(_.push(S+2),S+=2):S++;if(_.length===0)return v;C=T-_.length,A=new Uint8Array(C);var L=0;for(S=0;S<C;L++,S++)L===_[0]&&(L++,_.shift()),A[S]=v[L];return A},Mr={parseSei:kh,parseUserData:Ah,parseCaptionPackets:Ph,discardEmulationPreventionBytes:mu,USER_DATA_REGISTERED_ITU_T_T35:Nr},pi=function D(v){v=v||{},D.prototype.init.call(this),this.parse708captions_=typeof v.parse708captions=="boolean"?v.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new wt(0,0),new wt(0,1),new wt(1,0),new wt(1,1)],this.parse708captions_&&(this.cc708Stream_=new it({captionServices:v.captionServices})),this.reset(),this.ccStreams_.forEach(function(T){T.on("data",this.trigger.bind(this,"data")),T.on("partialdone",this.trigger.bind(this,"partialdone")),T.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};pi.prototype=new e,pi.prototype.push=function(D){var v,T,_;if(D.nalUnitType==="sei_rbsp"&&(v=Mr.parseSei(D.escapedRBSP),!!v.payload&&v.payloadType===Mr.USER_DATA_REGISTERED_ITU_T_T35&&(T=Mr.parseUserData(v),!!T))){if(D.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(D.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}_=Mr.parseCaptionPackets(D.pts,T),this.captionPackets_=this.captionPackets_.concat(_),this.latestDts_!==D.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=D.dts}},pi.prototype.flushCCStreams=function(D){this.ccStreams_.forEach(function(v){return D==="flush"?v.flush():v.partialFlush()},this)},pi.prototype.flushStream=function(D){if(!this.captionPackets_.length){this.flushCCStreams(D);return}this.captionPackets_.forEach(function(v,T){v.presortIndex=T}),this.captionPackets_.sort(function(v,T){return v.pts===T.pts?v.presortIndex-T.presortIndex:v.pts-T.pts}),this.captionPackets_.forEach(function(v){v.type<2?this.dispatchCea608Packet(v):this.dispatchCea708Packet(v)},this),this.captionPackets_.length=0,this.flushCCStreams(D)},pi.prototype.flush=function(){return this.flushStream("flush")},pi.prototype.partialFlush=function(){return this.flushStream("partialFlush")},pi.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(D){D.reset()})},pi.prototype.dispatchCea608Packet=function(D){this.setsTextOrXDSActive(D)?this.activeCea608Channel_[D.type]=null:this.setsChannel1Active(D)?this.activeCea608Channel_[D.type]=0:this.setsChannel2Active(D)&&(this.activeCea608Channel_[D.type]=1),this.activeCea608Channel_[D.type]!==null&&this.ccStreams_[(D.type<<1)+this.activeCea608Channel_[D.type]].push(D)},pi.prototype.setsChannel1Active=function(D){return(D.ccData&30720)===4096},pi.prototype.setsChannel2Active=function(D){return(D.ccData&30720)===6144},pi.prototype.setsTextOrXDSActive=function(D){return(D.ccData&28928)===256||(D.ccData&30974)===4138||(D.ccData&30974)===6186},pi.prototype.dispatchCea708Packet=function(D){this.parse708captions_&&this.cc708Stream_.push(D)};var Pg={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},db=function(v){var T=Pg[v]||v;return v&4096&&v===T?"":String.fromCharCode(T)},Vl=function(v){return 32<=v&&v<=127||160<=v&&v<=255},Fr=function(v){this.windowNum=v,this.reset()};Fr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Fr.prototype.getText=function(){return this.rows.join(`
`)},Fr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Fr.prototype.newLine=function(D){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(D),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Fr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Fr.prototype.addText=function(D){this.rows[this.rowIdx]+=D},Fr.prototype.backspace=function(){if(!this.isEmpty()){var D=this.rows[this.rowIdx];this.rows[this.rowIdx]=D.substr(0,D.length-1)}};var $l=function(v,T,_){this.serviceNum=v,this.text="",this.currentWindow=new Fr(-1),this.windows=[],this.stream=_,typeof T=="string"&&this.createTextDecoder(T)};$l.prototype.init=function(D,v){this.startPts=D;for(var T=0;T<8;T++)this.windows[T]=new Fr(T),typeof v=="function"&&(this.windows[T].beforeRowOverflow=v)},$l.prototype.setCurrentWindow=function(D){this.currentWindow=this.windows[D]},$l.prototype.createTextDecoder=function(D){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(D)}catch(v){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+D+" encoding. "+v})}};var it=function D(v){v=v||{},D.prototype.init.call(this);var T=this,_=v.captionServices||{},S={},C;Object.keys(_).forEach(function(A){C=_[A],/^SERVICE/.test(A)&&(S[A]=C.encoding)}),this.serviceEncodings=S,this.current708Packet=null,this.services={},this.push=function(A){A.type===3?(T.new708Packet(),T.add708Bytes(A)):(T.current708Packet===null&&T.new708Packet(),T.add708Bytes(A))}};it.prototype=new e,it.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},it.prototype.add708Bytes=function(D){var v=D.ccData,T=v>>>8,_=v&255;this.current708Packet.ptsVals.push(D.pts),this.current708Packet.data.push(T),this.current708Packet.data.push(_)},it.prototype.push708Packet=function(){var D=this.current708Packet,v=D.data,T=null,_=null,S=0,C=v[S++];for(D.seq=C>>6,D.sizeCode=C&63;S<v.length;S++)C=v[S++],T=C>>5,_=C&31,T===7&&_>0&&(C=v[S++],T=C),this.pushServiceBlock(T,S,_),_>0&&(S+=_-1)},it.prototype.pushServiceBlock=function(D,v,T){var _,S=v,C=this.current708Packet.data,A=this.services[D];for(A||(A=this.initService(D,S));S<v+T&&S<C.length;S++)_=C[S],Vl(_)?S=this.handleText(S,A):_===24?S=this.multiByteCharacter(S,A):_===16?S=this.extendedCommands(S,A):128<=_&&_<=135?S=this.setCurrentWindow(S,A):152<=_&&_<=159?S=this.defineWindow(S,A):_===136?S=this.clearWindows(S,A):_===140?S=this.deleteWindows(S,A):_===137?S=this.displayWindows(S,A):_===138?S=this.hideWindows(S,A):_===139?S=this.toggleWindows(S,A):_===151?S=this.setWindowAttributes(S,A):_===144?S=this.setPenAttributes(S,A):_===145?S=this.setPenColor(S,A):_===146?S=this.setPenLocation(S,A):_===143?A=this.reset(S,A):_===8?A.currentWindow.backspace():_===12?A.currentWindow.clearText():_===13?A.currentWindow.pendingNewLine=!0:_===14?A.currentWindow.clearText():_===141&&S++},it.prototype.extendedCommands=function(D,v){var T=this.current708Packet.data,_=T[++D];return Vl(_)&&(D=this.handleText(D,v,{isExtended:!0})),D},it.prototype.getPts=function(D){return this.current708Packet.ptsVals[Math.floor(D/2)]},it.prototype.initService=function(D,v){var _="SERVICE"+D,T=this,_,S;return _ in this.serviceEncodings&&(S=this.serviceEncodings[_]),this.services[D]=new $l(D,S,T),this.services[D].init(this.getPts(v),function(C){T.flushDisplayed(C,T.services[D])}),this.services[D]},it.prototype.handleText=function(D,v,T){var _=T&&T.isExtended,S=T&&T.isMultiByte,C=this.current708Packet.data,A=_?4096:0,L=C[D],M=C[D+1],V=v.currentWindow,j,z;return v.textDecoder_&&!_?(S?(z=[L,M],D++):z=[L],j=v.textDecoder_.decode(new Uint8Array(z))):j=db(A|L),V.pendingNewLine&&!V.isEmpty()&&V.newLine(this.getPts(D)),V.pendingNewLine=!1,V.addText(j),D},it.prototype.multiByteCharacter=function(D,v){var T=this.current708Packet.data,_=T[D+1],S=T[D+2];return Vl(_)&&Vl(S)&&(D=this.handleText(++D,v,{isMultiByte:!0})),D},it.prototype.setCurrentWindow=function(D,v){var T=this.current708Packet.data,_=T[D],S=_&7;return v.setCurrentWindow(S),D},it.prototype.defineWindow=function(D,v){var T=this.current708Packet.data,_=T[D],S=_&7;v.setCurrentWindow(S);var C=v.currentWindow;return _=T[++D],C.visible=(_&32)>>5,C.rowLock=(_&16)>>4,C.columnLock=(_&8)>>3,C.priority=_&7,_=T[++D],C.relativePositioning=(_&128)>>7,C.anchorVertical=_&127,_=T[++D],C.anchorHorizontal=_,_=T[++D],C.anchorPoint=(_&240)>>4,C.rowCount=_&15,_=T[++D],C.columnCount=_&63,_=T[++D],C.windowStyle=(_&56)>>3,C.penStyle=_&7,C.virtualRowCount=C.rowCount+1,D},it.prototype.setWindowAttributes=function(D,v){var T=this.current708Packet.data,_=T[D],S=v.currentWindow.winAttr;return _=T[++D],S.fillOpacity=(_&192)>>6,S.fillRed=(_&48)>>4,S.fillGreen=(_&12)>>2,S.fillBlue=_&3,_=T[++D],S.borderType=(_&192)>>6,S.borderRed=(_&48)>>4,S.borderGreen=(_&12)>>2,S.borderBlue=_&3,_=T[++D],S.borderType+=(_&128)>>5,S.wordWrap=(_&64)>>6,S.printDirection=(_&48)>>4,S.scrollDirection=(_&12)>>2,S.justify=_&3,_=T[++D],S.effectSpeed=(_&240)>>4,S.effectDirection=(_&12)>>2,S.displayEffect=_&3,D},it.prototype.flushDisplayed=function(D,v){for(var T=[],_=0;_<8;_++)v.windows[_].visible&&!v.windows[_].isEmpty()&&T.push(v.windows[_].getText());v.endPts=D,v.text=T.join(`

`),this.pushCaption(v),v.startPts=D},it.prototype.pushCaption=function(D){D.text!==""&&(this.trigger("data",{startPts:D.startPts,endPts:D.endPts,text:D.text,stream:"cc708_"+D.serviceNum}),D.text="",D.startPts=D.endPts)},it.prototype.displayWindows=function(D,v){var T=this.current708Packet.data,_=T[++D],S=this.getPts(D);this.flushDisplayed(S,v);for(var C=0;C<8;C++)_&1<<C&&(v.windows[C].visible=1);return D},it.prototype.hideWindows=function(D,v){var T=this.current708Packet.data,_=T[++D],S=this.getPts(D);this.flushDisplayed(S,v);for(var C=0;C<8;C++)_&1<<C&&(v.windows[C].visible=0);return D},it.prototype.toggleWindows=function(D,v){var T=this.current708Packet.data,_=T[++D],S=this.getPts(D);this.flushDisplayed(S,v);for(var C=0;C<8;C++)_&1<<C&&(v.windows[C].visible^=1);return D},it.prototype.clearWindows=function(D,v){var T=this.current708Packet.data,_=T[++D],S=this.getPts(D);this.flushDisplayed(S,v);for(var C=0;C<8;C++)_&1<<C&&v.windows[C].clearText();return D},it.prototype.deleteWindows=function(D,v){var T=this.current708Packet.data,_=T[++D],S=this.getPts(D);this.flushDisplayed(S,v);for(var C=0;C<8;C++)_&1<<C&&v.windows[C].reset();return D},it.prototype.setPenAttributes=function(D,v){var T=this.current708Packet.data,_=T[D],S=v.currentWindow.penAttr;return _=T[++D],S.textTag=(_&240)>>4,S.offset=(_&12)>>2,S.penSize=_&3,_=T[++D],S.italics=(_&128)>>7,S.underline=(_&64)>>6,S.edgeType=(_&56)>>3,S.fontStyle=_&7,D},it.prototype.setPenColor=function(D,v){var T=this.current708Packet.data,_=T[D],S=v.currentWindow.penColor;return _=T[++D],S.fgOpacity=(_&192)>>6,S.fgRed=(_&48)>>4,S.fgGreen=(_&12)>>2,S.fgBlue=_&3,_=T[++D],S.bgOpacity=(_&192)>>6,S.bgRed=(_&48)>>4,S.bgGreen=(_&12)>>2,S.bgBlue=_&3,_=T[++D],S.edgeRed=(_&48)>>4,S.edgeGreen=(_&12)>>2,S.edgeBlue=_&3,D},it.prototype.setPenLocation=function(D,v){var T=this.current708Packet.data,_=T[D],S=v.currentWindow.penLoc;return v.currentWindow.pendingNewLine=!0,_=T[++D],S.row=_&15,_=T[++D],S.column=_&63,D},it.prototype.reset=function(D,v){var T=this.getPts(D);return this.flushDisplayed(T,v),this.initService(v.serviceNum,D)};var ps={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},_r=function(v){return v===null?"":(v=ps[v]||v,String.fromCharCode(v))},gu=14,Dg=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Di=function(){for(var v=[],T=gu+1;T--;)v.push("");return v},wt=function D(v,T){D.prototype.init.call(this),this.field_=v||0,this.dataChannel_=T||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(_){var S,C,A,L,M;if(S=_.ccData&32639,S===this.lastControlCode_){this.lastControlCode_=null;return}if((S&61440)===4096?this.lastControlCode_=S:S!==this.PADDING_&&(this.lastControlCode_=null),A=S>>>8,L=S&255,S!==this.PADDING_)if(S===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(S===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(_.pts),this.flushDisplayed(_.pts),C=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=C,this.startPts_=_.pts;else if(S===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(_.pts);else if(S===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(_.pts);else if(S===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(_.pts);else if(S===this.CARRIAGE_RETURN_)this.clearFormatting(_.pts),this.flushDisplayed(_.pts),this.shiftRowsUp_(),this.startPts_=_.pts;else if(S===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(S===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(_.pts),this.displayed_=Di();else if(S===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Di();else if(S===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(_.pts),this.displayed_=Di()),this.mode_="paintOn",this.startPts_=_.pts;else if(this.isSpecialCharacter(A,L))A=(A&3)<<8,M=_r(A|L),this[this.mode_](_.pts,M),this.column_++;else if(this.isExtCharacter(A,L))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),A=(A&3)<<8,M=_r(A|L),this[this.mode_](_.pts,M),this.column_++;else if(this.isMidRowCode(A,L))this.clearFormatting(_.pts),this[this.mode_](_.pts," "),this.column_++,(L&14)===14&&this.addFormatting(_.pts,["i"]),(L&1)===1&&this.addFormatting(_.pts,["u"]);else if(this.isOffsetControlCode(A,L))this.column_+=L&3;else if(this.isPAC(A,L)){var V=Dg.indexOf(S&7968);this.mode_==="rollUp"&&(V-this.rollUpRows_+1<0&&(V=this.rollUpRows_-1),this.setRollUp(_.pts,V)),V!==this.row_&&(this.clearFormatting(_.pts),this.row_=V),L&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(_.pts,["u"]),(S&16)===16&&(this.column_=((S&14)>>1)*4),this.isColorPAC(L)&&(L&14)===14&&this.addFormatting(_.pts,["i"])}else this.isNormalChar(A)&&(L===0&&(L=null),M=_r(A),M+=_r(L),this[this.mode_](_.pts,M),this.column_+=M.length)}};wt.prototype=new e,wt.prototype.flushDisplayed=function(D){var v=this.displayed_.map(function(T,_){try{return T.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+_+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");v.length&&this.trigger("data",{startPts:this.startPts_,endPts:D,text:v,stream:this.name_})},wt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Di(),this.nonDisplayed_=Di(),this.lastControlCode_=null,this.column_=0,this.row_=gu,this.rollUpRows_=2,this.formatting_=[]},wt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},wt.prototype.isSpecialCharacter=function(D,v){return D===this.EXT_&&v>=48&&v<=63},wt.prototype.isExtCharacter=function(D,v){return(D===this.EXT_+1||D===this.EXT_+2)&&v>=32&&v<=63},wt.prototype.isMidRowCode=function(D,v){return D===this.EXT_&&v>=32&&v<=47},wt.prototype.isOffsetControlCode=function(D,v){return D===this.OFFSET_&&v>=33&&v<=35},wt.prototype.isPAC=function(D,v){return D>=this.BASE_&&D<this.BASE_+8&&v>=64&&v<=127},wt.prototype.isColorPAC=function(D){return D>=64&&D<=79||D>=96&&D<=127},wt.prototype.isNormalChar=function(D){return D>=32&&D<=127},wt.prototype.setRollUp=function(D,v){if(this.mode_!=="rollUp"&&(this.row_=gu,this.mode_="rollUp",this.flushDisplayed(D),this.nonDisplayed_=Di(),this.displayed_=Di()),v!==void 0&&v!==this.row_)for(var T=0;T<this.rollUpRows_;T++)this.displayed_[v-T]=this.displayed_[this.row_-T],this.displayed_[this.row_-T]="";v===void 0&&(v=this.row_),this.topRow_=v-this.rollUpRows_+1},wt.prototype.addFormatting=function(D,v){this.formatting_=this.formatting_.concat(v);var T=v.reduce(function(_,S){return _+"<"+S+">"},"");this[this.mode_](D,T)},wt.prototype.clearFormatting=function(D){if(!!this.formatting_.length){var v=this.formatting_.reverse().reduce(function(T,_){return T+"</"+_+">"},"");this.formatting_=[],this[this.mode_](D,v)}},wt.prototype.popOn=function(D,v){var T=this.nonDisplayed_[this.row_];T+=v,this.nonDisplayed_[this.row_]=T},wt.prototype.rollUp=function(D,v){var T=this.displayed_[this.row_];T+=v,this.displayed_[this.row_]=T},wt.prototype.shiftRowsUp_=function(){var D;for(D=0;D<this.topRow_;D++)this.displayed_[D]="";for(D=this.row_+1;D<gu+1;D++)this.displayed_[D]="";for(D=this.topRow_;D<this.row_;D++)this.displayed_[D]=this.displayed_[D+1];this.displayed_[this.row_]=""},wt.prototype.paintOn=function(D,v){var T=this.displayed_[this.row_];T+=v,this.displayed_[this.row_]=T};var Tr={CaptionStream:pi,Cea608Stream:wt,Cea708Stream:it},pn={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},hb=8589934592,Rg=4294967296,Dh="shared",Pt=function(v,T){var _=1;for(v>T&&(_=-1);Math.abs(T-v)>Rg;)v+=_*hb;return v},Js=function D(v){var T,_;D.prototype.init.call(this),this.type_=v||Dh,this.push=function(S){this.type_!==Dh&&S.type!==this.type_||(_===void 0&&(_=S.dts),S.dts=Pt(S.dts,_),S.pts=Pt(S.pts,_),T=S.dts,this.trigger("data",S))},this.flush=function(){_=T,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){_=void 0,T=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Js.prototype=new e;var Rh={TimestampRolloverStream:Js,handleRollover:Pt},Oh=function(v,T,_){var S,C="";for(S=T;S<_;S++)C+="%"+("00"+v[S].toString(16)).slice(-2);return C},Be=function(v,T,_){return decodeURIComponent(Oh(v,T,_))},Og=function(v,T,_){return unescape(Oh(v,T,_))},no=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},Lg={TXXX:function(v){var T;if(v.data[0]===3){for(T=1;T<v.data.length;T++)if(v.data[T]===0){v.description=Be(v.data,1,T),v.value=Be(v.data,T+1,v.data.length).replace(/\0*$/,"");break}v.data=v.value}},WXXX:function(v){var T;if(v.data[0]===3){for(T=1;T<v.data.length;T++)if(v.data[T]===0){v.description=Be(v.data,1,T),v.url=Be(v.data,T+1,v.data.length);break}}},PRIV:function(v){var T;for(T=0;T<v.data.length;T++)if(v.data[T]===0){v.owner=Og(v.data,0,T);break}v.privateData=v.data.subarray(T+1),v.data=v.privateData}},vu;vu=function(v){var T={descriptor:v&&v.descriptor},_=0,S=[],C=0,A;if(vu.prototype.init.call(this),this.dispatchType=pn.METADATA_STREAM_TYPE.toString(16),T.descriptor)for(A=0;A<T.descriptor.length;A++)this.dispatchType+=("00"+T.descriptor[A].toString(16)).slice(-2);this.push=function(L){var M,V,j,z,Y,te;if(L.type==="timed-metadata"){if(L.dataAlignmentIndicator&&(C=0,S.length=0),S.length===0&&(L.data.length<10||L.data[0]!=="I".charCodeAt(0)||L.data[1]!=="D".charCodeAt(0)||L.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(S.push(L),C+=L.data.byteLength,S.length===1&&(_=no(L.data.subarray(6,10)),_+=10),!(C<_)){for(M={data:new Uint8Array(_),frames:[],pts:S[0].pts,dts:S[0].dts},Y=0;Y<_;)M.data.set(S[0].data.subarray(0,_-Y),Y),Y+=S[0].data.byteLength,C-=S[0].data.byteLength,S.shift();V=10,M.data[5]&64&&(V+=4,V+=no(M.data.subarray(10,14)),_-=no(M.data.subarray(16,20)));do{if(j=no(M.data.subarray(V+4,V+8)),j<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(te=String.fromCharCode(M.data[V],M.data[V+1],M.data[V+2],M.data[V+3]),z={id:te,data:M.data.subarray(V+10,V+j+10)},z.key=z.id,Lg[z.id]&&(Lg[z.id](z),z.owner==="com.apple.streaming.transportStreamTimestamp")){var pe=z.data,re=(pe[3]&1)<<30|pe[4]<<22|pe[5]<<14|pe[6]<<6|pe[7]>>>2;re*=4,re+=pe[7]&3,z.timeStamp=re,M.pts===void 0&&M.dts===void 0&&(M.pts=z.timeStamp,M.dts=z.timeStamp),this.trigger("timestamp",z)}M.frames.push(z),V+=10,V+=j}while(V<_);this.trigger("data",M)}}}},vu.prototype=new e;var Dt=vu,ms=Rh.TimestampRolloverStream,Hl,jn,sn,io=188,br=71;Hl=function(){var v=new Uint8Array(io),T=0;Hl.prototype.init.call(this),this.push=function(_){var S=0,C=io,A;for(T?(A=new Uint8Array(_.byteLength+T),A.set(v.subarray(0,T)),A.set(_,T),T=0):A=_;C<A.byteLength;){if(A[S]===br&&A[C]===br){this.trigger("data",A.subarray(S,C)),S+=io,C+=io;continue}S++,C++}S<A.byteLength&&(v.set(A.subarray(S),0),T=A.byteLength-S)},this.flush=function(){T===io&&v[0]===br&&(this.trigger("data",v),T=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){T=0,this.trigger("reset")}},Hl.prototype=new e,jn=function(){var v,T,_,S;jn.prototype.init.call(this),S=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,v=function(A,L){var M=0;L.payloadUnitStartIndicator&&(M+=A[M]+1),L.type==="pat"?T(A.subarray(M),L):_(A.subarray(M),L)},T=function(A,L){L.section_number=A[7],L.last_section_number=A[8],S.pmtPid=(A[10]&31)<<8|A[11],L.pmtPid=S.pmtPid},_=function(A,L){var M,V,j,z;if(!!(A[5]&1)){for(S.programMapTable={video:null,audio:null,"timed-metadata":{}},M=(A[1]&15)<<8|A[2],V=3+M-4,j=(A[10]&15)<<8|A[11],z=12+j;z<V;){var Y=A[z],te=(A[z+1]&31)<<8|A[z+2];Y===pn.H264_STREAM_TYPE&&S.programMapTable.video===null?S.programMapTable.video=te:Y===pn.ADTS_STREAM_TYPE&&S.programMapTable.audio===null?S.programMapTable.audio=te:Y===pn.METADATA_STREAM_TYPE&&(S.programMapTable["timed-metadata"][te]=Y),z+=((A[z+3]&15)<<8|A[z+4])+5}L.programMapTable=S.programMapTable}},this.push=function(C){var A={},L=4;if(A.payloadUnitStartIndicator=!!(C[1]&64),A.pid=C[1]&31,A.pid<<=8,A.pid|=C[2],(C[3]&48)>>>4>1&&(L+=C[L]+1),A.pid===0)A.type="pat",v(C.subarray(L),A),this.trigger("data",A);else if(A.pid===this.pmtPid)for(A.type="pmt",v(C.subarray(L),A),this.trigger("data",A);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([C,L,A]):this.processPes_(C,L,A)},this.processPes_=function(C,A,L){L.pid===this.programMapTable.video?L.streamType=pn.H264_STREAM_TYPE:L.pid===this.programMapTable.audio?L.streamType=pn.ADTS_STREAM_TYPE:L.streamType=this.programMapTable["timed-metadata"][L.pid],L.type="pes",L.data=C.subarray(A),this.trigger("data",L)}},jn.prototype=new e,jn.STREAM_TYPES={h264:27,adts:15},sn=function(){var v=this,T=!1,_={data:[],size:0},S={data:[],size:0},C={data:[],size:0},A,L=function(j,z){var Y,te=j[0]<<16|j[1]<<8|j[2];z.data=new Uint8Array,te===1&&(z.packetLength=6+(j[4]<<8|j[5]),z.dataAlignmentIndicator=(j[6]&4)!==0,Y=j[7],Y&192&&(z.pts=(j[9]&14)<<27|(j[10]&255)<<20|(j[11]&254)<<12|(j[12]&255)<<5|(j[13]&254)>>>3,z.pts*=4,z.pts+=(j[13]&6)>>>1,z.dts=z.pts,Y&64&&(z.dts=(j[14]&14)<<27|(j[15]&255)<<20|(j[16]&254)<<12|(j[17]&255)<<5|(j[18]&254)>>>3,z.dts*=4,z.dts+=(j[18]&6)>>>1)),z.data=j.subarray(9+j[8]))},M=function(j,z,Y){var te=new Uint8Array(j.size),pe={type:z},re=0,_e=0,zt=!1,En;if(!(!j.data.length||j.size<9)){for(pe.trackId=j.data[0].pid,re=0;re<j.data.length;re++)En=j.data[re],te.set(En.data,_e),_e+=En.data.byteLength;L(te,pe),zt=z==="video"||pe.packetLength<=j.size,(Y||zt)&&(j.size=0,j.data.length=0),zt&&v.trigger("data",pe)}};sn.prototype.init.call(this),this.push=function(V){({pat:function(){},pes:function(){var z,Y;switch(V.streamType){case pn.H264_STREAM_TYPE:z=_,Y="video";break;case pn.ADTS_STREAM_TYPE:z=S,Y="audio";break;case pn.METADATA_STREAM_TYPE:z=C,Y="timed-metadata";break;default:return}V.payloadUnitStartIndicator&&M(z,Y,!0),z.data.push(V),z.size+=V.data.byteLength},pmt:function(){var z={type:"metadata",tracks:[]};A=V.programMapTable,A.video!==null&&z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+A.video,codec:"avc",type:"video"}),A.audio!==null&&z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+A.audio,codec:"adts",type:"audio"}),T=!0,v.trigger("data",z)}})[V.type]()},this.reset=function(){_.size=0,_.data.length=0,S.size=0,S.data.length=0,this.trigger("reset")},this.flushStreams_=function(){M(_,"video"),M(S,"audio"),M(C,"timed-metadata")},this.flush=function(){if(!T&&A){var V={type:"metadata",tracks:[]};A.video!==null&&V.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+A.video,codec:"avc",type:"video"}),A.audio!==null&&V.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+A.audio,codec:"adts",type:"audio"}),v.trigger("data",V)}T=!1,this.flushStreams_(),this.trigger("done")}},sn.prototype=new e;var Lh={PAT_PID:0,MP2T_PACKET_LENGTH:io,TransportPacketStream:Hl,TransportParseStream:jn,ElementaryStream:sn,TimestampRolloverStream:ms,CaptionStream:Tr.CaptionStream,Cea608Stream:Tr.Cea608Stream,Cea708Stream:Tr.Cea708Stream,MetadataStream:Dt};for(var ro in pn)pn.hasOwnProperty(ro)&&(Lh[ro]=pn[ro]);var Qi=Lh,Nh=Ze.ONE_SECOND_IN_TS,so,Ng=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];so=function(v){var T,_=0;so.prototype.init.call(this),this.skipWarn_=function(S,C){this.trigger("log",{level:"warn",message:"adts skiping bytes "+S+" to "+C+" in frame "+_+" outside syncword"})},this.push=function(S){var C=0,A,L,M,V,j;if(v||(_=0),S.type==="audio"){T&&T.length?(M=T,T=new Uint8Array(M.byteLength+S.data.byteLength),T.set(M),T.set(S.data,M.byteLength)):T=S.data;for(var z;C+7<T.length;){if(T[C]!==255||(T[C+1]&246)!==240){typeof z!="number"&&(z=C),C++;continue}if(typeof z=="number"&&(this.skipWarn_(z,C),z=null),L=(~T[C+1]&1)*2,A=(T[C+3]&3)<<11|T[C+4]<<3|(T[C+5]&224)>>5,V=((T[C+6]&3)+1)*1024,j=V*Nh/Ng[(T[C+2]&60)>>>2],T.byteLength-C<A)break;this.trigger("data",{pts:S.pts+_*j,dts:S.dts+_*j,sampleCount:V,audioobjecttype:(T[C+2]>>>6&3)+1,channelcount:(T[C+2]&1)<<2|(T[C+3]&192)>>>6,samplerate:Ng[(T[C+2]&60)>>>2],samplingfrequencyindex:(T[C+2]&60)>>>2,samplesize:16,data:T.subarray(C+7+L,C+A)}),_++,C+=A}typeof z=="number"&&(this.skipWarn_(z,C),z=null),T=T.subarray(C)}},this.flush=function(){_=0,this.trigger("done")},this.reset=function(){T=void 0,this.trigger("reset")},this.endTimeline=function(){T=void 0,this.trigger("endedtimeline")}},so.prototype=new e;var gs=so,ao;ao=function(v){var T=v.byteLength,_=0,S=0;this.length=function(){return 8*T},this.bitsAvailable=function(){return 8*T+S},this.loadWord=function(){var C=v.byteLength-T,A=new Uint8Array(4),L=Math.min(4,T);if(L===0)throw new Error("no bytes available");A.set(v.subarray(C,C+L)),_=new DataView(A.buffer).getUint32(0),S=L*8,T-=L},this.skipBits=function(C){var A;S>C?(_<<=C,S-=C):(C-=S,A=Math.floor(C/8),C-=A*8,T-=A,this.loadWord(),_<<=C,S-=C)},this.readBits=function(C){var A=Math.min(S,C),L=_>>>32-A;return S-=A,S>0?_<<=A:T>0&&this.loadWord(),A=C-A,A>0?L<<A|this.readBits(A):L},this.skipLeadingZeros=function(){var C;for(C=0;C<S;++C)if(_&2147483648>>>C)return _<<=C,S-=C,C;return this.loadWord(),C+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var C=this.skipLeadingZeros();return this.readBits(C+1)-1},this.readExpGolomb=function(){var C=this.readUnsignedExpGolomb();return 1&C?1+C>>>1:-1*(C>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Mg=ao,Ur,oo,Mh;oo=function(){var v=0,T,_;oo.prototype.init.call(this),this.push=function(S){var C;_?(C=new Uint8Array(_.byteLength+S.data.byteLength),C.set(_),C.set(S.data,_.byteLength),_=C):_=S.data;for(var A=_.byteLength;v<A-3;v++)if(_[v+2]===1){T=v+5;break}for(;T<A;)switch(_[T]){case 0:if(_[T-1]!==0){T+=2;break}else if(_[T-2]!==0){T++;break}v+3!==T-2&&this.trigger("data",_.subarray(v+3,T-2));do T++;while(_[T]!==1&&T<A);v=T-2,T+=3;break;case 1:if(_[T-1]!==0||_[T-2]!==0){T+=3;break}this.trigger("data",_.subarray(v+3,T-2)),v=T-2,T+=3;break;default:T+=3;break}_=_.subarray(v),T-=v,v=0},this.reset=function(){_=null,v=0,this.trigger("reset")},this.flush=function(){_&&_.byteLength>3&&this.trigger("data",_.subarray(v+3)),_=null,v=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},oo.prototype=new e,Mh={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Ur=function(){var v=new oo,T,_,S,C,A,L,M;Ur.prototype.init.call(this),T=this,this.push=function(V){V.type==="video"&&(_=V.trackId,S=V.pts,C=V.dts,v.push(V))},v.on("data",function(V){var j={trackId:_,pts:S,dts:C,data:V,nalUnitTypeCode:V[0]&31};switch(j.nalUnitTypeCode){case 5:j.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:j.nalUnitType="sei_rbsp",j.escapedRBSP=A(V.subarray(1));break;case 7:j.nalUnitType="seq_parameter_set_rbsp",j.escapedRBSP=A(V.subarray(1)),j.config=L(j.escapedRBSP);break;case 8:j.nalUnitType="pic_parameter_set_rbsp";break;case 9:j.nalUnitType="access_unit_delimiter_rbsp";break}T.trigger("data",j)}),v.on("done",function(){T.trigger("done")}),v.on("partialdone",function(){T.trigger("partialdone")}),v.on("reset",function(){T.trigger("reset")}),v.on("endedtimeline",function(){T.trigger("endedtimeline")}),this.flush=function(){v.flush()},this.partialFlush=function(){v.partialFlush()},this.reset=function(){v.reset()},this.endTimeline=function(){v.endTimeline()},M=function(j,z){var Y=8,te=8,pe,re;for(pe=0;pe<j;pe++)te!==0&&(re=z.readExpGolomb(),te=(Y+re+256)%256),Y=te===0?Y:te},A=function(j){for(var z=j.byteLength,Y=[],te=1,pe,re;te<z-2;)j[te]===0&&j[te+1]===0&&j[te+2]===3?(Y.push(te+2),te+=2):te++;if(Y.length===0)return j;pe=z-Y.length,re=new Uint8Array(pe);var _e=0;for(te=0;te<pe;_e++,te++)_e===Y[0]&&(_e++,Y.shift()),re[te]=j[_e];return re},L=function(j){var z=0,Y=0,te=0,pe=0,re,_e,zt,En,la,Pu,Du,Wh,Jl,Zl,Gh,Ot=[1,1],iv,Hr;if(re=new Mg(j),_e=re.readUnsignedByte(),En=re.readUnsignedByte(),zt=re.readUnsignedByte(),re.skipUnsignedExpGolomb(),Mh[_e]&&(la=re.readUnsignedExpGolomb(),la===3&&re.skipBits(1),re.skipUnsignedExpGolomb(),re.skipUnsignedExpGolomb(),re.skipBits(1),re.readBoolean()))for(Gh=la!==3?8:12,Hr=0;Hr<Gh;Hr++)re.readBoolean()&&(Hr<6?M(16,re):M(64,re));if(re.skipUnsignedExpGolomb(),Pu=re.readUnsignedExpGolomb(),Pu===0)re.readUnsignedExpGolomb();else if(Pu===1)for(re.skipBits(1),re.skipExpGolomb(),re.skipExpGolomb(),Du=re.readUnsignedExpGolomb(),Hr=0;Hr<Du;Hr++)re.skipExpGolomb();if(re.skipUnsignedExpGolomb(),re.skipBits(1),Wh=re.readUnsignedExpGolomb(),Jl=re.readUnsignedExpGolomb(),Zl=re.readBits(1),Zl===0&&re.skipBits(1),re.skipBits(1),re.readBoolean()&&(z=re.readUnsignedExpGolomb(),Y=re.readUnsignedExpGolomb(),te=re.readUnsignedExpGolomb(),pe=re.readUnsignedExpGolomb()),re.readBoolean()&&re.readBoolean()){switch(iv=re.readUnsignedByte(),iv){case 1:Ot=[1,1];break;case 2:Ot=[12,11];break;case 3:Ot=[10,11];break;case 4:Ot=[16,11];break;case 5:Ot=[40,33];break;case 6:Ot=[24,11];break;case 7:Ot=[20,11];break;case 8:Ot=[32,11];break;case 9:Ot=[80,33];break;case 10:Ot=[18,11];break;case 11:Ot=[15,11];break;case 12:Ot=[64,33];break;case 13:Ot=[160,99];break;case 14:Ot=[4,3];break;case 15:Ot=[3,2];break;case 16:Ot=[2,1];break;case 255:{Ot=[re.readUnsignedByte()<<8|re.readUnsignedByte(),re.readUnsignedByte()<<8|re.readUnsignedByte()];break}}Ot&&Ot[0]/Ot[1]}return{profileIdc:_e,levelIdc:zt,profileCompatibility:En,width:(Wh+1)*16-z*2-Y*2,height:(2-Zl)*(Jl+1)*16-te*2-pe*2,sarRatio:Ot}}},Ur.prototype=new e;var Zs={H264Stream:Ur,NalByteStream:oo},Fg=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Ug=function(v,T){var _=v[T+6]<<21|v[T+7]<<14|v[T+8]<<7|v[T+9],S=v[T+5],C=(S&16)>>4;return _=_>=0?_:0,C?_+20:_+10},Bg=function D(v,T){return v.length-T<10||v[T]!=="I".charCodeAt(0)||v[T+1]!=="D".charCodeAt(0)||v[T+2]!=="3".charCodeAt(0)?T:(T+=Ug(v,T),D(v,T))},mi=function(v){var T=Bg(v,0);return v.length>=T+2&&(v[T]&255)===255&&(v[T+1]&240)===240&&(v[T+1]&22)===16},Br=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},jg=function(v,T,_){var S,C="";for(S=T;S<_;S++)C+="%"+("00"+v[S].toString(16)).slice(-2);return C},zl=function(v,T,_){return unescape(jg(v,T,_))},Vg=function(v,T){var _=(v[T+5]&224)>>5,S=v[T+4]<<3,C=v[T+3]&3<<11;return C|S|_},$g=function(v,T){return v[T]==="I".charCodeAt(0)&&v[T+1]==="D".charCodeAt(0)&&v[T+2]==="3".charCodeAt(0)?"timed-metadata":v[T]&!0&&(v[T+1]&240)===240?"audio":null},Fh=function(v){for(var T=0;T+5<v.length;){if(v[T]!==255||(v[T+1]&246)!==240){T++;continue}return Fg[(v[T+2]&60)>>>2]}return null},uo=function(v){var T,_,S,C;T=10,v[5]&64&&(T+=4,T+=Br(v.subarray(10,14)));do{if(_=Br(v.subarray(T+4,T+8)),_<1)return null;if(C=String.fromCharCode(v[T],v[T+1],v[T+2],v[T+3]),C==="PRIV"){S=v.subarray(T+10,T+_+10);for(var A=0;A<S.byteLength;A++)if(S[A]===0){var L=zl(S,0,A);if(L==="com.apple.streaming.transportStreamTimestamp"){var M=S.subarray(A+1),V=(M[3]&1)<<30|M[4]<<22|M[5]<<14|M[6]<<6|M[7]>>>2;return V*=4,V+=M[7]&3,V}break}}T+=10,T+=_}while(T<v.byteLength);return null},yu={isLikelyAacData:mi,parseId3TagSize:Ug,parseAdtsSize:Vg,parseType:$g,parseSampleRate:Fh,parseAacTimestamp:uo},Ji;Ji=function(){var v=new Uint8Array,T=0;Ji.prototype.init.call(this),this.setTimestamp=function(_){T=_},this.push=function(_){var S=0,C=0,A,L,M,V;for(v.length?(V=v.length,v=new Uint8Array(_.byteLength+V),v.set(v.subarray(0,V)),v.set(_,V)):v=_;v.length-C>=3;){if(v[C]==="I".charCodeAt(0)&&v[C+1]==="D".charCodeAt(0)&&v[C+2]==="3".charCodeAt(0)){if(v.length-C<10||(S=yu.parseId3TagSize(v,C),C+S>v.length))break;L={type:"timed-metadata",data:v.subarray(C,C+S)},this.trigger("data",L),C+=S;continue}else if((v[C]&255)===255&&(v[C+1]&240)===240){if(v.length-C<7||(S=yu.parseAdtsSize(v,C),C+S>v.length))break;M={type:"audio",data:v.subarray(C,C+S),pts:T,dts:T},this.trigger("data",M),C+=S;continue}C++}A=v.length-C,A>0?v=v.subarray(C):v=new Uint8Array},this.reset=function(){v=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){v=new Uint8Array,this.trigger("endedtimeline")}},Ji.prototype=new e;var ql=Ji,Hg=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ea=Hg,fb=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Uh=fb,pb=Zs.H264Stream,lo=yu.isLikelyAacData,vs=Ze.ONE_SECOND_IN_TS,ta,jr,co,Vr,zg=function(v,T){T.stream=v,this.trigger("log",T)},qg=function(v,T){for(var _=Object.keys(T),S=0;S<_.length;S++){var C=_[S];C==="headOfPipeline"||!T[C].on||T[C].on("log",zg.bind(v,C))}},Bh=function(v,T){var _;if(v.length!==T.length)return!1;for(_=0;_<v.length;_++)if(v[_]!==T[_])return!1;return!0},ho=function(v,T,_,S,C,A){var L=_-T,M=S-T,V=C-_;return{start:{dts:v,pts:v+L},end:{dts:v+M,pts:v+V},prependedContentDuration:A,baseMediaDecodeTime:v}};jr=function(v,T){var _=[],S,C=0,A=0,L=1/0;T=T||{},S=T.firstSequenceNumber||0,jr.prototype.init.call(this),this.push=function(M){Yi.collectDtsInfo(v,M),v&&ea.forEach(function(V){v[V]=M[V]}),_.push(M)},this.setEarliestDts=function(M){C=M},this.setVideoBaseMediaDecodeTime=function(M){L=M},this.setAudioAppendStart=function(M){A=M},this.flush=function(){var M,V,j,z,Y,te,pe;if(_.length===0){this.trigger("done","AudioSegmentStream");return}M=Bl.trimAdtsFramesByEarliestDts(_,v,C),v.baseMediaDecodeTime=Yi.calculateTrackBaseMediaDecodeTime(v,T.keepOriginalTimestamps),pe=Bl.prefixWithSilence(v,M,A,L),v.samples=Bl.generateSampleTable(M),j=rn.mdat(Bl.concatenateFrameData(M)),_=[],V=rn.moof(S,[v]),z=new Uint8Array(V.byteLength+j.byteLength),S++,z.set(V),z.set(j,V.byteLength),Yi.clearDtsInfo(v),Y=Math.ceil(vs*1024/v.samplerate),M.length&&(te=M.length*Y,this.trigger("segmentTimingInfo",ho(Ze.audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),M[0].dts,M[0].pts,M[0].dts+te,M[0].pts+te,pe||0)),this.trigger("timingInfo",{start:M[0].pts,end:M[0].pts+te})),this.trigger("data",{track:v,boxes:z}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Yi.clearDtsInfo(v),_=[],this.trigger("reset")}},jr.prototype=new e,ta=function(v,T){var _,S=[],C=[],A,L;T=T||{},_=T.firstSequenceNumber||0,ta.prototype.init.call(this),delete v.minPTS,this.gopCache_=[],this.push=function(M){Yi.collectDtsInfo(v,M),M.nalUnitType==="seq_parameter_set_rbsp"&&!A&&(A=M.config,v.sps=[M.data],Uh.forEach(function(V){v[V]=A[V]},this)),M.nalUnitType==="pic_parameter_set_rbsp"&&!L&&(L=M.data,v.pps=[M.data]),S.push(M)},this.flush=function(){for(var M,V,j,z,Y,te,pe=0,re,_e;S.length&&S[0].nalUnitType!=="access_unit_delimiter_rbsp";)S.shift();if(S.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(M=hu.groupNalsIntoFrames(S),j=hu.groupFramesIntoGops(M),j[0][0].keyFrame||(V=this.getGopForFusion_(S[0],v),V?(pe=V.duration,j.unshift(V),j.byteLength+=V.byteLength,j.nalCount+=V.nalCount,j.pts=V.pts,j.dts=V.dts,j.duration+=V.duration):j=hu.extendFirstKeyFrame(j)),C.length){var zt;if(T.alignGopsAtEnd?zt=this.alignGopsAtEnd_(j):zt=this.alignGopsAtStart_(j),!zt){this.gopCache_.unshift({gop:j.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),S=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Yi.clearDtsInfo(v),j=zt}Yi.collectDtsInfo(v,j),v.samples=hu.generateSampleTable(j),Y=rn.mdat(hu.concatenateNalData(j)),v.baseMediaDecodeTime=Yi.calculateTrackBaseMediaDecodeTime(v,T.keepOriginalTimestamps),this.trigger("processedGopsInfo",j.map(function(En){return{pts:En.pts,dts:En.dts,byteLength:En.byteLength}})),re=j[0],_e=j[j.length-1],this.trigger("segmentTimingInfo",ho(v.baseMediaDecodeTime,re.dts,re.pts,_e.dts+_e.duration,_e.pts+_e.duration,pe)),this.trigger("timingInfo",{start:j[0].pts,end:j[j.length-1].pts+j[j.length-1].duration}),this.gopCache_.unshift({gop:j.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),S=[],this.trigger("baseMediaDecodeTime",v.baseMediaDecodeTime),this.trigger("timelineStartInfo",v.timelineStartInfo),z=rn.moof(_,[v]),te=new Uint8Array(z.byteLength+Y.byteLength),_++,te.set(z),te.set(Y,z.byteLength),this.trigger("data",{track:v,boxes:te}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),S=[],this.gopCache_.length=0,C.length=0,this.trigger("reset")},this.resetStream_=function(){Yi.clearDtsInfo(v),A=void 0,L=void 0},this.getGopForFusion_=function(M){var V=45e3,j=1e4,z=1/0,Y,te,pe,re,_e;for(_e=0;_e<this.gopCache_.length;_e++)re=this.gopCache_[_e],pe=re.gop,!(!(v.pps&&Bh(v.pps[0],re.pps[0]))||!(v.sps&&Bh(v.sps[0],re.sps[0])))&&(pe.dts<v.timelineStartInfo.dts||(Y=M.dts-pe.dts-pe.duration,Y>=-j&&Y<=V&&(!te||z>Y)&&(te=re,z=Y)));return te?te.gop:null},this.alignGopsAtStart_=function(M){var V,j,z,Y,te,pe,re,_e;for(te=M.byteLength,pe=M.nalCount,re=M.duration,V=j=0;V<C.length&&j<M.length&&(z=C[V],Y=M[j],z.pts!==Y.pts);){if(Y.pts>z.pts){V++;continue}j++,te-=Y.byteLength,pe-=Y.nalCount,re-=Y.duration}return j===0?M:j===M.length?null:(_e=M.slice(j),_e.byteLength=te,_e.duration=re,_e.nalCount=pe,_e.pts=_e[0].pts,_e.dts=_e[0].dts,_e)},this.alignGopsAtEnd_=function(M){var V,j,z,Y,te,pe;for(V=C.length-1,j=M.length-1,te=null,pe=!1;V>=0&&j>=0;){if(z=C[V],Y=M[j],z.pts===Y.pts){pe=!0;break}if(z.pts>Y.pts){V--;continue}V===C.length-1&&(te=j),j--}if(!pe&&te===null)return null;var re;if(pe?re=j:re=te,re===0)return M;var _e=M.slice(re),zt=_e.reduce(function(En,la){return En.byteLength+=la.byteLength,En.duration+=la.duration,En.nalCount+=la.nalCount,En},{byteLength:0,duration:0,nalCount:0});return _e.byteLength=zt.byteLength,_e.duration=zt.duration,_e.nalCount=zt.nalCount,_e.pts=_e[0].pts,_e.dts=_e[0].dts,_e},this.alignGopsWith=function(M){C=M}},ta.prototype=new e,Vr=function(v,T){this.numberOfTracks=0,this.metadataStream=T,v=v||{},typeof v.remux<"u"?this.remuxTracks=!!v.remux:this.remuxTracks=!0,typeof v.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=v.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Vr.prototype.init.call(this),this.push=function(_){if(_.text)return this.pendingCaptions.push(_);if(_.frames)return this.pendingMetadata.push(_);this.pendingTracks.push(_.track),this.pendingBytes+=_.boxes.byteLength,_.track.type==="video"&&(this.videoTrack=_.track,this.pendingBoxes.push(_.boxes)),_.track.type==="audio"&&(this.audioTrack=_.track,this.pendingBoxes.unshift(_.boxes))}},Vr.prototype=new e,Vr.prototype.flush=function(D){var v=0,T={captions:[],captionStreams:{},metadata:[],info:{}},_,S,C,A=0,L;if(this.pendingTracks.length<this.numberOfTracks){if(D!=="VideoSegmentStream"&&D!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(A=this.videoTrack.timelineStartInfo.pts,Uh.forEach(function(M){T.info[M]=this.videoTrack[M]},this)):this.audioTrack&&(A=this.audioTrack.timelineStartInfo.pts,ea.forEach(function(M){T.info[M]=this.audioTrack[M]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?T.type=this.pendingTracks[0].type:T.type="combined",this.emittedTracks+=this.pendingTracks.length,C=rn.initSegment(this.pendingTracks),T.initSegment=new Uint8Array(C.byteLength),T.initSegment.set(C),T.data=new Uint8Array(this.pendingBytes),L=0;L<this.pendingBoxes.length;L++)T.data.set(this.pendingBoxes[L],v),v+=this.pendingBoxes[L].byteLength;for(L=0;L<this.pendingCaptions.length;L++)_=this.pendingCaptions[L],_.startTime=Ze.metadataTsToSeconds(_.startPts,A,this.keepOriginalTimestamps),_.endTime=Ze.metadataTsToSeconds(_.endPts,A,this.keepOriginalTimestamps),T.captionStreams[_.stream]=!0,T.captions.push(_);for(L=0;L<this.pendingMetadata.length;L++)S=this.pendingMetadata[L],S.cueTime=Ze.metadataTsToSeconds(S.pts,A,this.keepOriginalTimestamps),T.metadata.push(S);for(T.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",T),L=0;L<T.captions.length;L++)_=T.captions[L],this.trigger("caption",_);for(L=0;L<T.metadata.length;L++)S=T.metadata[L],this.trigger("id3Frame",S)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Vr.prototype.setRemux=function(D){this.remuxTracks=D},co=function(v){var T=this,_=!0,S,C;co.prototype.init.call(this),v=v||{},this.baseMediaDecodeTime=v.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var A={};this.transmuxPipeline_=A,A.type="aac",A.metadataStream=new Qi.MetadataStream,A.aacStream=new ql,A.audioTimestampRolloverStream=new Qi.TimestampRolloverStream("audio"),A.timedMetadataTimestampRolloverStream=new Qi.TimestampRolloverStream("timed-metadata"),A.adtsStream=new gs,A.coalesceStream=new Vr(v,A.metadataStream),A.headOfPipeline=A.aacStream,A.aacStream.pipe(A.audioTimestampRolloverStream).pipe(A.adtsStream),A.aacStream.pipe(A.timedMetadataTimestampRolloverStream).pipe(A.metadataStream).pipe(A.coalesceStream),A.metadataStream.on("timestamp",function(L){A.aacStream.setTimestamp(L.timeStamp)}),A.aacStream.on("data",function(L){L.type!=="timed-metadata"&&L.type!=="audio"||A.audioSegmentStream||(C=C||{timelineStartInfo:{baseMediaDecodeTime:T.baseMediaDecodeTime},codec:"adts",type:"audio"},A.coalesceStream.numberOfTracks++,A.audioSegmentStream=new jr(C,v),A.audioSegmentStream.on("log",T.getLogTrigger_("audioSegmentStream")),A.audioSegmentStream.on("timingInfo",T.trigger.bind(T,"audioTimingInfo")),A.adtsStream.pipe(A.audioSegmentStream).pipe(A.coalesceStream),T.trigger("trackinfo",{hasAudio:!!C,hasVideo:!!S}))}),A.coalesceStream.on("data",this.trigger.bind(this,"data")),A.coalesceStream.on("done",this.trigger.bind(this,"done")),qg(this,A)},this.setupTsPipeline=function(){var A={};this.transmuxPipeline_=A,A.type="ts",A.metadataStream=new Qi.MetadataStream,A.packetStream=new Qi.TransportPacketStream,A.parseStream=new Qi.TransportParseStream,A.elementaryStream=new Qi.ElementaryStream,A.timestampRolloverStream=new Qi.TimestampRolloverStream,A.adtsStream=new gs,A.h264Stream=new pb,A.captionStream=new Qi.CaptionStream(v),A.coalesceStream=new Vr(v,A.metadataStream),A.headOfPipeline=A.packetStream,A.packetStream.pipe(A.parseStream).pipe(A.elementaryStream).pipe(A.timestampRolloverStream),A.timestampRolloverStream.pipe(A.h264Stream),A.timestampRolloverStream.pipe(A.adtsStream),A.timestampRolloverStream.pipe(A.metadataStream).pipe(A.coalesceStream),A.h264Stream.pipe(A.captionStream).pipe(A.coalesceStream),A.elementaryStream.on("data",function(L){var M;if(L.type==="metadata"){for(M=L.tracks.length;M--;)!S&&L.tracks[M].type==="video"?(S=L.tracks[M],S.timelineStartInfo.baseMediaDecodeTime=T.baseMediaDecodeTime):!C&&L.tracks[M].type==="audio"&&(C=L.tracks[M],C.timelineStartInfo.baseMediaDecodeTime=T.baseMediaDecodeTime);S&&!A.videoSegmentStream&&(A.coalesceStream.numberOfTracks++,A.videoSegmentStream=new ta(S,v),A.videoSegmentStream.on("log",T.getLogTrigger_("videoSegmentStream")),A.videoSegmentStream.on("timelineStartInfo",function(V){C&&!v.keepOriginalTimestamps&&(C.timelineStartInfo=V,A.audioSegmentStream.setEarliestDts(V.dts-T.baseMediaDecodeTime))}),A.videoSegmentStream.on("processedGopsInfo",T.trigger.bind(T,"gopInfo")),A.videoSegmentStream.on("segmentTimingInfo",T.trigger.bind(T,"videoSegmentTimingInfo")),A.videoSegmentStream.on("baseMediaDecodeTime",function(V){C&&A.audioSegmentStream.setVideoBaseMediaDecodeTime(V)}),A.videoSegmentStream.on("timingInfo",T.trigger.bind(T,"videoTimingInfo")),A.h264Stream.pipe(A.videoSegmentStream).pipe(A.coalesceStream)),C&&!A.audioSegmentStream&&(A.coalesceStream.numberOfTracks++,A.audioSegmentStream=new jr(C,v),A.audioSegmentStream.on("log",T.getLogTrigger_("audioSegmentStream")),A.audioSegmentStream.on("timingInfo",T.trigger.bind(T,"audioTimingInfo")),A.audioSegmentStream.on("segmentTimingInfo",T.trigger.bind(T,"audioSegmentTimingInfo")),A.adtsStream.pipe(A.audioSegmentStream).pipe(A.coalesceStream)),T.trigger("trackinfo",{hasAudio:!!C,hasVideo:!!S})}}),A.coalesceStream.on("data",this.trigger.bind(this,"data")),A.coalesceStream.on("id3Frame",function(L){L.dispatchType=A.metadataStream.dispatchType,T.trigger("id3Frame",L)}),A.coalesceStream.on("caption",this.trigger.bind(this,"caption")),A.coalesceStream.on("done",this.trigger.bind(this,"done")),qg(this,A)},this.setBaseMediaDecodeTime=function(A){var L=this.transmuxPipeline_;v.keepOriginalTimestamps||(this.baseMediaDecodeTime=A),C&&(C.timelineStartInfo.dts=void 0,C.timelineStartInfo.pts=void 0,Yi.clearDtsInfo(C),L.audioTimestampRolloverStream&&L.audioTimestampRolloverStream.discontinuity()),S&&(L.videoSegmentStream&&(L.videoSegmentStream.gopCache_=[]),S.timelineStartInfo.dts=void 0,S.timelineStartInfo.pts=void 0,Yi.clearDtsInfo(S),L.captionStream.reset()),L.timestampRolloverStream&&L.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(A){C&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(A)},this.setRemux=function(A){var L=this.transmuxPipeline_;v.remux=A,L&&L.coalesceStream&&L.coalesceStream.setRemux(A)},this.alignGopsWith=function(A){S&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(A)},this.getLogTrigger_=function(A){var L=this;return function(M){M.stream=A,L.trigger("log",M)}},this.push=function(A){if(_){var L=lo(A);L&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!L&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),_=!1}this.transmuxPipeline_.headOfPipeline.push(A)},this.flush=function(){_=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},co.prototype=new e;var na={Transmuxer:co,VideoSegmentStream:ta,AudioSegmentStream:jr,AUDIO_PROPERTIES:ea,VIDEO_PROPERTIES:Uh,generateSegmentTimingInfo:ho},_u=function(v){return v>>>0},jh=function(v){return("00"+v.toString(16)).slice(-2)},Tu={toUnsigned:_u,toHexString:jh},mb=function(v){var T="";return T+=String.fromCharCode(v[0]),T+=String.fromCharCode(v[1]),T+=String.fromCharCode(v[2]),T+=String.fromCharCode(v[3]),T},$r=mb,Wl=Tu.toUnsigned,Wg=function D(v,T){var _=[],S,C,A,L,M;if(!T.length)return null;for(S=0;S<v.byteLength;)C=Wl(v[S]<<24|v[S+1]<<16|v[S+2]<<8|v[S+3]),A=$r(v.subarray(S+4,S+8)),L=C>1?S+C:v.byteLength,A===T[0]&&(T.length===1?_.push(v.subarray(S+8,L)):(M=D(v.subarray(S+8,L),T.slice(1)),M.length&&(_=_.concat(M)))),S=L;return _},gt=Wg,Gg=Tu.toUnsigned,ys=r.getUint64,bu=function(v){var T={version:v[0],flags:new Uint8Array(v.subarray(1,4))};return T.version===1?T.baseMediaDecodeTime=ys(v.subarray(4)):T.baseMediaDecodeTime=Gg(v[4]<<24|v[5]<<16|v[6]<<8|v[7]),T},Kg=bu,gb=function(v){return{isLeading:(v[0]&12)>>>2,dependsOn:v[0]&3,isDependedOn:(v[1]&192)>>>6,hasRedundancy:(v[1]&48)>>>4,paddingValue:(v[1]&14)>>>1,isNonSyncSample:v[1]&1,degradationPriority:v[2]<<8|v[3]}},Xg=gb,vb=function(v){var T={version:v[0],flags:new Uint8Array(v.subarray(1,4)),samples:[]},_=new DataView(v.buffer,v.byteOffset,v.byteLength),S=T.flags[2]&1,C=T.flags[2]&4,A=T.flags[1]&1,L=T.flags[1]&2,M=T.flags[1]&4,V=T.flags[1]&8,j=_.getUint32(4),z=8,Y;for(S&&(T.dataOffset=_.getInt32(z),z+=4),C&&j&&(Y={flags:Xg(v.subarray(z,z+4))},z+=4,A&&(Y.duration=_.getUint32(z),z+=4),L&&(Y.size=_.getUint32(z),z+=4),V&&(T.version===1?Y.compositionTimeOffset=_.getInt32(z):Y.compositionTimeOffset=_.getUint32(z),z+=4),T.samples.push(Y),j--);j--;)Y={},A&&(Y.duration=_.getUint32(z),z+=4),L&&(Y.size=_.getUint32(z),z+=4),M&&(Y.flags=Xg(v.subarray(z,z+4)),z+=4),V&&(T.version===1?Y.compositionTimeOffset=_.getInt32(z):Y.compositionTimeOffset=_.getUint32(z),z+=4),T.samples.push(Y);return T},wu=vb,Re=function(v){var T=new DataView(v.buffer,v.byteOffset,v.byteLength),_={version:v[0],flags:new Uint8Array(v.subarray(1,4)),trackId:T.getUint32(4)},S=_.flags[2]&1,C=_.flags[2]&2,A=_.flags[2]&8,L=_.flags[2]&16,M=_.flags[2]&32,V=_.flags[0]&65536,j=_.flags[0]&131072,z;return z=8,S&&(z+=4,_.baseDataOffset=T.getUint32(12),z+=4),C&&(_.sampleDescriptionIndex=T.getUint32(z),z+=4),A&&(_.defaultSampleDuration=T.getUint32(z),z+=4),L&&(_.defaultSampleSize=T.getUint32(z),z+=4),M&&(_.defaultSampleFlags=T.getUint32(z)),V&&(_.durationIsEmpty=!0),!S&&j&&(_.baseDataOffsetIsMoof=!0),_},Su=Re,Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ze;typeof window<"u"?ze=window:typeof Eu<"u"?ze=Eu:typeof self<"u"?ze=self:ze={};var ve=ze,yb=Mr.discardEmulationPreventionBytes,_b=Tr.CaptionStream,Rt=function(v,T){for(var _=v,S=0;S<T.length;S++){var C=T[S];if(_<C.size)return C;_-=C.size}return null},Yg=function(v,T,_){var S=new DataView(v.buffer,v.byteOffset,v.byteLength),C={logs:[],seiNals:[]},A,L,M,V;for(L=0;L+4<v.length;L+=M)if(M=S.getUint32(L),L+=4,!(M<=0))switch(v[L]&31){case 6:var j=v.subarray(L+1,L+1+M),z=Rt(L,T);if(A={nalUnitType:"sei_rbsp",size:M,data:j,escapedRBSP:yb(j),trackId:_},z)A.pts=z.pts,A.dts=z.dts,V=z;else if(V)A.pts=V.pts,A.dts=V.dts;else{C.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+L+" for trackId "+_+". See mux.js#223."});break}C.seiNals.push(A);break}return C},Vn=function(v,T,_){var S=T,C=_.defaultSampleDuration||0,A=_.defaultSampleSize||0,L=_.trackId,M=[];return v.forEach(function(V){var j=wu(V),z=j.samples;z.forEach(function(Y){Y.duration===void 0&&(Y.duration=C),Y.size===void 0&&(Y.size=A),Y.trackId=L,Y.dts=S,Y.compositionTimeOffset===void 0&&(Y.compositionTimeOffset=0),typeof S=="bigint"?(Y.pts=S+ve.BigInt(Y.compositionTimeOffset),S+=ve.BigInt(Y.duration)):(Y.pts=S+Y.compositionTimeOffset,S+=Y.duration)}),M=M.concat(z)}),M},ia=function(v,T){var _=gt(v,["moof","traf"]),S=gt(v,["mdat"]),C={},A=[];return S.forEach(function(L,M){var V=_[M];A.push({mdat:L,traf:V})}),A.forEach(function(L){var M=L.mdat,V=L.traf,j=gt(V,["tfhd"]),z=Su(j[0]),Y=z.trackId,te=gt(V,["tfdt"]),pe=te.length>0?Kg(te[0]).baseMediaDecodeTime:0,re=gt(V,["trun"]),_e,zt;T===Y&&re.length>0&&(_e=Vn(re,pe,z),zt=Yg(M,_e,Y),C[Y]||(C[Y]={seiNals:[],logs:[]}),C[Y].seiNals=C[Y].seiNals.concat(zt.seiNals),C[Y].logs=C[Y].logs.concat(zt.logs))}),C},Qg=function(v,T,_){var S;if(T===null)return null;S=ia(v,T);var C=S[T]||{};return{seiNals:C.seiNals,logs:C.logs,timescale:_}},Tb=function(){var v=!1,T,_,S,C,A,L;this.isInitialized=function(){return v},this.init=function(M){T=new _b,v=!0,L=M?M.isPartial:!1,T.on("data",function(V){V.startTime=V.startPts/C,V.endTime=V.endPts/C,A.captions.push(V),A.captionStreams[V.stream]=!0}),T.on("log",function(V){A.logs.push(V)})},this.isNewInit=function(M,V){return M&&M.length===0||V&&typeof V=="object"&&Object.keys(V).length===0?!1:S!==M[0]||C!==V[S]},this.parse=function(M,V,j){var z;if(this.isInitialized()){if(!V||!j)return null;if(this.isNewInit(V,j))S=V[0],C=j[S];else if(S===null||!C)return _.push(M),null}else return null;for(;_.length>0;){var Y=_.shift();this.parse(Y,V,j)}return z=Qg(M,S,C),z&&z.logs&&(A.logs=A.logs.concat(z.logs)),z===null||!z.seiNals?A.logs.length?{logs:A.logs,captions:[],captionStreams:[]}:null:(this.pushNals(z.seiNals),this.flushStream(),A)},this.pushNals=function(M){if(!this.isInitialized()||!M||M.length===0)return null;M.forEach(function(V){T.push(V)})},this.flushStream=function(){if(!this.isInitialized())return null;L?T.partialFlush():T.flush()},this.clearParsedCaptions=function(){A.captions=[],A.captionStreams={},A.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;T.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){_=[],S=null,C=null,A?this.clearParsedCaptions():A={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},bb=Tb,Gl=Tu.toUnsigned,ra=Tu.toHexString,wb=r.getUint64,Kl,Jg,Zg,ev,tv,xu;Kl=function(v){var T={},_=gt(v,["moov","trak"]);return _.reduce(function(S,C){var A,L,M,V,j;return A=gt(C,["tkhd"])[0],!A||(L=A[0],M=L===0?12:20,V=Gl(A[M]<<24|A[M+1]<<16|A[M+2]<<8|A[M+3]),j=gt(C,["mdia","mdhd"])[0],!j)?null:(L=j[0],M=L===0?12:20,S[V]=Gl(j[M]<<24|j[M+1]<<16|j[M+2]<<8|j[M+3]),S)},T)},Jg=function(v,T){var _;_=gt(T,["moof","traf"]);var S=_.reduce(function(C,A){var L=gt(A,["tfhd"])[0],M=Gl(L[4]<<24|L[5]<<16|L[6]<<8|L[7]),V=v[M]||9e4,j=gt(A,["tfdt"])[0],z=new DataView(j.buffer,j.byteOffset,j.byteLength),Y;j[0]===1?Y=wb(j.subarray(4,12)):Y=z.getUint32(4);var te;return typeof Y=="bigint"?te=Y/ve.BigInt(V):typeof Y=="number"&&!isNaN(Y)&&(te=Y/V),te<Number.MAX_SAFE_INTEGER&&(te=Number(te)),te<C&&(C=te),C},1/0);return typeof S=="bigint"||isFinite(S)?S:0},Zg=function(v,T){var _=gt(T,["moof","traf"]),S=0,C=0,A;if(_&&_.length){var L=gt(_[0],["tfhd"])[0],M=gt(_[0],["trun"])[0],V=gt(_[0],["tfdt"])[0];if(L){var j=Su(L);A=j.trackId}if(V){var z=Kg(V);S=z.baseMediaDecodeTime}if(M){var Y=wu(M);Y.samples&&Y.samples.length&&(C=Y.samples[0].compositionTimeOffset||0)}}var te=v[A]||9e4;typeof S=="bigint"&&(C=ve.BigInt(C),te=ve.BigInt(te));var pe=(S+C)/te;return typeof pe=="bigint"&&pe<Number.MAX_SAFE_INTEGER&&(pe=Number(pe)),pe},ev=function(v){var T=gt(v,["moov","trak"]),_=[];return T.forEach(function(S){var C=gt(S,["mdia","hdlr"]),A=gt(S,["tkhd"]);C.forEach(function(L,M){var V=$r(L.subarray(8,12)),j=A[M],z,Y,te;V==="vide"&&(z=new DataView(j.buffer,j.byteOffset,j.byteLength),Y=z.getUint8(0),te=Y===0?z.getUint32(12):z.getUint32(20),_.push(te))})}),_},xu=function(v){var T=v[0],_=T===0?12:20;return Gl(v[_]<<24|v[_+1]<<16|v[_+2]<<8|v[_+3])},tv=function(v){var T=gt(v,["moov","trak"]),_=[];return T.forEach(function(S){var C={},A=gt(S,["tkhd"])[0],L,M;A&&(L=new DataView(A.buffer,A.byteOffset,A.byteLength),M=L.getUint8(0),C.id=M===0?L.getUint32(12):L.getUint32(20));var V=gt(S,["mdia","hdlr"])[0];if(V){var j=$r(V.subarray(8,12));j==="vide"?C.type="video":j==="soun"?C.type="audio":C.type=j}var z=gt(S,["mdia","minf","stbl","stsd"])[0];if(z){var Y=z.subarray(8);C.codec=$r(Y.subarray(4,8));var te=gt(Y,[C.codec])[0],pe,re;te&&(/^[asm]vc[1-9]$/i.test(C.codec)?(pe=te.subarray(78),re=$r(pe.subarray(4,8)),re==="avcC"&&pe.length>11?(C.codec+=".",C.codec+=ra(pe[9]),C.codec+=ra(pe[10]),C.codec+=ra(pe[11])):C.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(C.codec)?(pe=te.subarray(28),re=$r(pe.subarray(4,8)),re==="esds"&&pe.length>20&&pe[19]!==0?(C.codec+="."+ra(pe[19]),C.codec+="."+ra(pe[20]>>>2&63).replace(/^0/,"")):C.codec="mp4a.40.2"):C.codec=C.codec.toLowerCase())}var _e=gt(S,["mdia","mdhd"])[0];_e&&(C.timescale=xu(_e)),_.push(C)}),_};var Vh={findBox:gt,parseType:$r,timescale:Kl,startTime:Jg,compositionStartTime:Zg,videoTrackIds:ev,tracks:tv,getTimescaleFromMediaHeader:xu},$h=function(v){var T=v[1]&31;return T<<=8,T|=v[2],T},Cu=function(v){return!!(v[1]&64)},Iu=function(v){var T=0;return(v[3]&48)>>>4>1&&(T+=v[4]+1),T},nv=function(v,T){var _=$h(v);return _===0?"pat":_===T?"pmt":T?"pes":null},ku=function(v){var T=Cu(v),_=4+Iu(v);return T&&(_+=v[_]+1),(v[_+10]&31)<<8|v[_+11]},Sb=function(v){var T={},_=Cu(v),S=4+Iu(v);if(_&&(S+=v[S]+1),!!(v[S+5]&1)){var C,A,L;C=(v[S+1]&15)<<8|v[S+2],A=3+C-4,L=(v[S+10]&15)<<8|v[S+11];for(var M=12+L;M<A;){var V=S+M;T[(v[V+1]&31)<<8|v[V+2]]=v[V],M+=((v[V+3]&15)<<8|v[V+4])+5}return T}},sa=function(v,T){var _=$h(v),S=T[_];switch(S){case pn.H264_STREAM_TYPE:return"video";case pn.ADTS_STREAM_TYPE:return"audio";case pn.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Eb=function(v){var T=Cu(v);if(!T)return null;var _=4+Iu(v);if(_>=v.byteLength)return null;var S=null,C;return C=v[_+7],C&192&&(S={},S.pts=(v[_+9]&14)<<27|(v[_+10]&255)<<20|(v[_+11]&254)<<12|(v[_+12]&255)<<5|(v[_+13]&254)>>>3,S.pts*=4,S.pts+=(v[_+13]&6)>>>1,S.dts=S.pts,C&64&&(S.dts=(v[_+14]&14)<<27|(v[_+15]&255)<<20|(v[_+16]&254)<<12|(v[_+17]&255)<<5|(v[_+18]&254)>>>3,S.dts*=4,S.dts+=(v[_+18]&6)>>>1)),S},aa=function(v){switch(v){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Au=function(v){for(var T=4+Iu(v),_=v.subarray(T),S=0,C=0,A=!1,L;C<_.byteLength-3;C++)if(_[C+2]===1){S=C+5;break}for(;S<_.byteLength;)switch(_[S]){case 0:if(_[S-1]!==0){S+=2;break}else if(_[S-2]!==0){S++;break}C+3!==S-2&&(L=aa(_[C+3]&31),L==="slice_layer_without_partitioning_rbsp_idr"&&(A=!0));do S++;while(_[S]!==1&&S<_.length);C=S-2,S+=3;break;case 1:if(_[S-1]!==0||_[S-2]!==0){S+=3;break}L=aa(_[C+3]&31),L==="slice_layer_without_partitioning_rbsp_idr"&&(A=!0),C=S-2,S+=3;break;default:S+=3;break}return _=_.subarray(C),S-=C,C=0,_&&_.byteLength>3&&(L=aa(_[C+3]&31),L==="slice_layer_without_partitioning_rbsp_idr"&&(A=!0)),A},xb={parseType:nv,parsePat:ku,parsePmt:Sb,parsePayloadUnitStartIndicator:Cu,parsePesType:sa,parsePesTime:Eb,videoPacketContainsKeyFrame:Au},oa=Rh.handleRollover,at={};at.ts=xb,at.aac=yu;var ua=Ze.ONE_SECOND_IN_TS,St=188,_t=71,Cb=function(v,T){for(var _=0,S=St,C,A;S<v.byteLength;){if(v[_]===_t&&v[S]===_t){switch(C=v.subarray(_,S),A=at.ts.parseType(C,T.pid),A){case"pat":T.pid=at.ts.parsePat(C);break;case"pmt":var L=at.ts.parsePmt(C);T.table=T.table||{},Object.keys(L).forEach(function(M){T.table[M]=L[M]});break}_+=St,S+=St;continue}_++,S++}},fo=function(v,T,_){for(var S=0,C=St,A,L,M,V,j,z=!1;C<=v.byteLength;){if(v[S]===_t&&(v[C]===_t||C===v.byteLength)){switch(A=v.subarray(S,C),L=at.ts.parseType(A,T.pid),L){case"pes":M=at.ts.parsePesType(A,T.table),V=at.ts.parsePayloadUnitStartIndicator(A),M==="audio"&&V&&(j=at.ts.parsePesTime(A),j&&(j.type="audio",_.audio.push(j),z=!0));break}if(z)break;S+=St,C+=St;continue}S++,C++}for(C=v.byteLength,S=C-St,z=!1;S>=0;){if(v[S]===_t&&(v[C]===_t||C===v.byteLength)){switch(A=v.subarray(S,C),L=at.ts.parseType(A,T.pid),L){case"pes":M=at.ts.parsePesType(A,T.table),V=at.ts.parsePayloadUnitStartIndicator(A),M==="audio"&&V&&(j=at.ts.parsePesTime(A),j&&(j.type="audio",_.audio.push(j),z=!0));break}if(z)break;S-=St,C-=St;continue}S--,C--}},Ib=function(v,T,_){for(var S=0,C=St,A,L,M,V,j,z,Y,te,pe=!1,re={data:[],size:0};C<v.byteLength;){if(v[S]===_t&&v[C]===_t){switch(A=v.subarray(S,C),L=at.ts.parseType(A,T.pid),L){case"pes":if(M=at.ts.parsePesType(A,T.table),V=at.ts.parsePayloadUnitStartIndicator(A),M==="video"&&(V&&!pe&&(j=at.ts.parsePesTime(A),j&&(j.type="video",_.video.push(j),pe=!0)),!_.firstKeyFrame)){if(V&&re.size!==0){for(z=new Uint8Array(re.size),Y=0;re.data.length;)te=re.data.shift(),z.set(te,Y),Y+=te.byteLength;if(at.ts.videoPacketContainsKeyFrame(z)){var _e=at.ts.parsePesTime(z);_e?(_.firstKeyFrame=_e,_.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}re.size=0}re.data.push(A),re.size+=A.byteLength}break}if(pe&&_.firstKeyFrame)break;S+=St,C+=St;continue}S++,C++}for(C=v.byteLength,S=C-St,pe=!1;S>=0;){if(v[S]===_t&&v[C]===_t){switch(A=v.subarray(S,C),L=at.ts.parseType(A,T.pid),L){case"pes":M=at.ts.parsePesType(A,T.table),V=at.ts.parsePayloadUnitStartIndicator(A),M==="video"&&V&&(j=at.ts.parsePesTime(A),j&&(j.type="video",_.video.push(j),pe=!0));break}if(pe)break;S-=St,C-=St;continue}S--,C--}},kb=function(v,T){if(v.audio&&v.audio.length){var _=T;(typeof _>"u"||isNaN(_))&&(_=v.audio[0].dts),v.audio.forEach(function(A){A.dts=oa(A.dts,_),A.pts=oa(A.pts,_),A.dtsTime=A.dts/ua,A.ptsTime=A.pts/ua})}if(v.video&&v.video.length){var S=T;if((typeof S>"u"||isNaN(S))&&(S=v.video[0].dts),v.video.forEach(function(A){A.dts=oa(A.dts,S),A.pts=oa(A.pts,S),A.dtsTime=A.dts/ua,A.ptsTime=A.pts/ua}),v.firstKeyFrame){var C=v.firstKeyFrame;C.dts=oa(C.dts,S),C.pts=oa(C.pts,S),C.dtsTime=C.dts/ua,C.ptsTime=C.pts/ua}}},Xl=function(v){for(var T=!1,_=0,S=null,C=null,A=0,L=0,M;v.length-L>=3;){var V=at.aac.parseType(v,L);switch(V){case"timed-metadata":if(v.length-L<10){T=!0;break}if(A=at.aac.parseId3TagSize(v,L),A>v.length){T=!0;break}C===null&&(M=v.subarray(L,L+A),C=at.aac.parseAacTimestamp(M)),L+=A;break;case"audio":if(v.length-L<7){T=!0;break}if(A=at.aac.parseAdtsSize(v,L),A>v.length){T=!0;break}S===null&&(M=v.subarray(L,L+A),S=at.aac.parseSampleRate(M)),_++,L+=A;break;default:L++;break}if(T)return null}if(S===null||C===null)return null;var j=ua/S,z={audio:[{type:"audio",dts:C,pts:C},{type:"audio",dts:C+_*1024*j,pts:C+_*1024*j}]};return z},Yl=function(v){var T={pid:null,table:null},_={};Cb(v,T);for(var S in T.table)if(T.table.hasOwnProperty(S)){var C=T.table[S];switch(C){case pn.H264_STREAM_TYPE:_.video=[],Ib(v,T,_),_.video.length===0&&delete _.video;break;case pn.ADTS_STREAM_TYPE:_.audio=[],fo(v,T,_),_.audio.length===0&&delete _.audio;break}}return _},Hh=function(v,T){var _=at.aac.isLikelyAacData(v),S;return _?S=Xl(v):S=Yl(v),!S||!S.audio&&!S.video?null:(kb(S,T),S)},zh={inspect:Hh,parseAudioPes_:fo},qh=function(v,T){T.on("data",function(_){var S=_.initSegment;_.initSegment={data:S.buffer,byteOffset:S.byteOffset,byteLength:S.byteLength};var C=_.data;_.data=C.buffer,v.postMessage({action:"data",segment:_,byteOffset:C.byteOffset,byteLength:C.byteLength},[_.data])}),T.on("done",function(_){v.postMessage({action:"done"})}),T.on("gopInfo",function(_){v.postMessage({action:"gopInfo",gopInfo:_})}),T.on("videoSegmentTimingInfo",function(_){var S={start:{decode:Ze.videoTsToSeconds(_.start.dts),presentation:Ze.videoTsToSeconds(_.start.pts)},end:{decode:Ze.videoTsToSeconds(_.end.dts),presentation:Ze.videoTsToSeconds(_.end.pts)},baseMediaDecodeTime:Ze.videoTsToSeconds(_.baseMediaDecodeTime)};_.prependedContentDuration&&(S.prependedContentDuration=Ze.videoTsToSeconds(_.prependedContentDuration)),v.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:S})}),T.on("audioSegmentTimingInfo",function(_){var S={start:{decode:Ze.videoTsToSeconds(_.start.dts),presentation:Ze.videoTsToSeconds(_.start.pts)},end:{decode:Ze.videoTsToSeconds(_.end.dts),presentation:Ze.videoTsToSeconds(_.end.pts)},baseMediaDecodeTime:Ze.videoTsToSeconds(_.baseMediaDecodeTime)};_.prependedContentDuration&&(S.prependedContentDuration=Ze.videoTsToSeconds(_.prependedContentDuration)),v.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:S})}),T.on("id3Frame",function(_){v.postMessage({action:"id3Frame",id3Frame:_})}),T.on("caption",function(_){v.postMessage({action:"caption",caption:_})}),T.on("trackinfo",function(_){v.postMessage({action:"trackinfo",trackInfo:_})}),T.on("audioTimingInfo",function(_){v.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ze.videoTsToSeconds(_.start),end:Ze.videoTsToSeconds(_.end)}})}),T.on("videoTimingInfo",function(_){v.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ze.videoTsToSeconds(_.start),end:Ze.videoTsToSeconds(_.end)}})}),T.on("log",function(_){v.postMessage({action:"log",log:_})})},Ql=function(){function D(T,_){this.options=_||{},this.self=T,this.init()}var v=D.prototype;return v.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new na.Transmuxer(this.options),qh(this.self,this.transmuxer)},v.pushMp4Captions=function(_){this.captionParser||(this.captionParser=new bb,this.captionParser.init());var S=new Uint8Array(_.data,_.byteOffset,_.byteLength),C=this.captionParser.parse(S,_.trackIds,_.timescales);this.self.postMessage({action:"mp4Captions",captions:C&&C.captions||[],logs:C&&C.logs||[],data:S.buffer},[S.buffer])},v.probeMp4StartTime=function(_){var S=_.timescales,C=_.data,A=Vh.startTime(S,C);this.self.postMessage({action:"probeMp4StartTime",startTime:A,data:C},[C.buffer])},v.probeMp4Tracks=function(_){var S=_.data,C=Vh.tracks(S);this.self.postMessage({action:"probeMp4Tracks",tracks:C,data:S},[S.buffer])},v.probeTs=function(_){var S=_.data,C=_.baseStartTime,A=typeof C=="number"&&!isNaN(C)?C*Ze.ONE_SECOND_IN_TS:void 0,L=zh.inspect(S,A),M=null;L&&(M={hasVideo:L.video&&L.video.length===2||!1,hasAudio:L.audio&&L.audio.length===2||!1},M.hasVideo&&(M.videoStart=L.video[0].ptsTime),M.hasAudio&&(M.audioStart=L.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:M,data:S},[S.buffer])},v.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},v.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},v.push=function(_){var S=new Uint8Array(_.data,_.byteOffset,_.byteLength);this.transmuxer.push(S)},v.reset=function(){this.transmuxer.reset()},v.setTimestampOffset=function(_){var S=_.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ze.secondsToVideoTs(S)))},v.setAudioAppendStart=function(_){this.transmuxer.setAudioAppendStart(Math.ceil(Ze.secondsToVideoTs(_.appendStart)))},v.setRemux=function(_){this.transmuxer.setRemux(_.remux)},v.flush=function(_){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},v.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},v.alignGopsWith=function(_){this.transmuxer.alignGopsWith(_.gopsToAlignWith.slice())},D}();self.onmessage=function(D){if(D.data.action==="init"&&D.data.options){this.messageHandlers=new Ql(self,D.data.options);return}this.messageHandlers||(this.messageHandlers=new Ql(self)),D.data&&D.data.action&&D.data.action!=="init"&&this.messageHandlers[D.data.action]&&this.messageHandlers[D.data.action](D.data)}})),aae=tV(sae),oae=function(e,n,i){var r=e.data.segment,s=r.type,a=r.initSegment,u=r.captions,c=r.captionStreams,d=r.metadata,f=r.videoFrameDtsTime,m=r.videoFramePtsTime;n.buffer.push({captions:u,captionStreams:c,metadata:d});var g=e.data.segment.boxes||{data:e.data.segment.data},E={type:s,data:new Uint8Array(g.data,g.data.byteOffset,g.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};typeof f<"u"&&(E.videoFrameDtsTime=f),typeof m<"u"&&(E.videoFramePtsTime=m),i(E)},uae=function(e){var n=e.transmuxedData,i=e.callback;n.buffer=[],i(n)},lae=function(e,n){n.gopInfo=e.data.gopInfo},rV=function(e){var n=e.transmuxer,i=e.bytes,r=e.audioAppendStart,s=e.gopsToAlignWith,a=e.remux,u=e.onData,c=e.onTrackInfo,d=e.onAudioTimingInfo,f=e.onVideoTimingInfo,m=e.onVideoSegmentTimingInfo,g=e.onAudioSegmentTimingInfo,E=e.onId3,I=e.onCaptions,b=e.onDone,x=e.onEndedTimeline,k=e.onTransmuxerLog,P=e.isEndOfTimeline,O={buffer:[]},N=P,B=function(K){n.currentTransmux===e&&(K.data.action==="data"&&oae(K,O,u),K.data.action==="trackinfo"&&c(K.data.trackInfo),K.data.action==="gopInfo"&&lae(K,O),K.data.action==="audioTimingInfo"&&d(K.data.audioTimingInfo),K.data.action==="videoTimingInfo"&&f(K.data.videoTimingInfo),K.data.action==="videoSegmentTimingInfo"&&m(K.data.videoSegmentTimingInfo),K.data.action==="audioSegmentTimingInfo"&&g(K.data.audioSegmentTimingInfo),K.data.action==="id3Frame"&&E([K.data.id3Frame],K.data.id3Frame.dispatchType),K.data.action==="caption"&&I(K.data.caption),K.data.action==="endedtimeline"&&(N=!1,x()),K.data.action==="log"&&k(K.data.log),K.data.type==="transmuxed"&&(N||(n.onmessage=null,uae({transmuxedData:O,callback:b}),sV(n))))};if(n.onmessage=B,r&&n.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(s)&&n.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof a<"u"&&n.postMessage({action:"setRemux",remux:a}),i.byteLength){var q=i instanceof ArrayBuffer?i:i.buffer,$=i instanceof ArrayBuffer?0:i.byteOffset;n.postMessage({action:"push",data:q,byteOffset:$,byteLength:i.byteLength},[q])}P&&n.postMessage({action:"endTimeline"}),n.postMessage({action:"flush"})},sV=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():rV(e.currentTransmux))},pN=function(e,n){e.postMessage({action:n}),sV(e)},aV=function(e,n){if(!n.currentTransmux){n.currentTransmux=e,pN(n,e);return}n.transmuxQueue.push(pN.bind(null,n,e))},cae=function(e){aV("reset",e)},dae=function(e){aV("endTimeline",e)},oV=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,rV(e);return}e.transmuxer.transmuxQueue.push(e)},hae=function(e){var n=new aae;n.currentTransmux=null,n.transmuxQueue=[];var i=n.terminate;return n.terminate=function(){return n.currentTransmux=null,n.transmuxQueue.length=0,i.call(n)},n.postMessage({action:"init",options:e}),n},t1={reset:cae,endTimeline:dae,transmux:oV,createTransmuxer:hae},E_=function(e){var n=e.transmuxer,i=e.endAction||e.action,r=e.callback,s=Or({},e,{endAction:null,transmuxer:null,callback:null}),a=function d(f){f.data.action===i&&(n.removeEventListener("message",d),f.data.data&&(f.data.data=new Uint8Array(f.data.data,e.byteOffset||0,e.byteLength||f.data.data.byteLength),e.data&&(e.data=f.data.data)),r(f.data))};if(n.addEventListener("message",a),e.data){var u=e.data instanceof ArrayBuffer;s.byteOffset=u?0:e.data.byteOffset,s.byteLength=e.data.byteLength;var c=[u?e.data:e.data.buffer];n.postMessage(s,c)}else n.postMessage(s)},Fs={FAILURE:2,TIMEOUT:-101,ABORTED:-102},rx=function(e){e.forEach(function(n){n.abort()})},fae=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},pae=function(e){var n=e.target,i=Date.now()-n.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},Uk=function(e,n){return n.timedout?{status:n.status,message:"HLS request timed-out at URL: "+n.uri,code:Fs.TIMEOUT,xhr:n}:n.aborted?{status:n.status,message:"HLS request aborted at URL: "+n.uri,code:Fs.ABORTED,xhr:n}:e?{status:n.status,message:"HLS request errored at URL: "+n.uri,code:Fs.FAILURE,xhr:n}:n.responseType==="arraybuffer"&&n.response.byteLength===0?{status:n.status,message:"Empty HLS response at URL: "+n.uri,code:Fs.FAILURE,xhr:n}:null},mN=function(e,n,i){return function(r,s){var a=s.response,u=Uk(r,s);if(u)return i(u,e);if(a.byteLength!==16)return i({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Fs.FAILURE,xhr:s},e);for(var c=new DataView(a),d=new Uint32Array([c.getUint32(0),c.getUint32(4),c.getUint32(8),c.getUint32(12)]),f=0;f<n.length;f++)n[f].bytes=d;return i(null,e)}},uV=function(e,n){var i=ZI(e.map.bytes);if(i!=="mp4"){var r=e.map.resolvedUri||e.map.uri;return n({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+r,code:Fs.FAILURE})}E_({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(a){var u=a.tracks,c=a.data;return e.map.bytes=c,u.forEach(function(d){e.map.tracks=e.map.tracks||{},!e.map.tracks[d.type]&&(e.map.tracks[d.type]=d,typeof d.id=="number"&&d.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[d.id]=d.timescale))}),n(null)}})},mae=function(e){var n=e.segment,i=e.finishProcessingFn;return function(r,s){var a=Uk(r,s);if(a)return i(a,n);var u=new Uint8Array(s.response);if(n.map.key)return n.map.encryptedBytes=u,i(null,n);n.map.bytes=u,uV(n,function(c){if(c)return c.xhr=s,c.status=s.status,i(c,n);i(null,n)})}},gae=function(e){var n=e.segment,i=e.finishProcessingFn,r=e.responseType;return function(s,a){var u=Uk(s,a);if(u)return i(u,n);var c=r==="arraybuffer"||!a.responseText?a.response:iae(a.responseText.substring(n.lastReachedChar||0));return n.stats=fae(a),n.key?n.encryptedBytes=new Uint8Array(c):n.bytes=new Uint8Array(c),i(null,n)}},vae=function(e){var n=e.segment,i=e.bytes,r=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,u=e.audioSegmentTimingInfoFn,c=e.id3Fn,d=e.captionsFn,f=e.isEndOfTimeline,m=e.endedTimelineFn,g=e.dataFn,E=e.doneFn,I=e.onTransmuxerLog,b=n.map&&n.map.tracks||{},x=Boolean(b.audio&&b.video),k=s.bind(null,n,"audio","start"),P=s.bind(null,n,"audio","end"),O=s.bind(null,n,"video","start"),N=s.bind(null,n,"video","end"),B=function(){return oV({bytes:i,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:x,onData:function(H){H.type=H.type==="combined"?"video":H.type,g(n,H)},onTrackInfo:function(H){r&&(x&&(H.isMuxed=!0),r(n,H))},onAudioTimingInfo:function(H){k&&typeof H.start<"u"&&(k(H.start),k=null),P&&typeof H.end<"u"&&P(H.end)},onVideoTimingInfo:function(H){O&&typeof H.start<"u"&&(O(H.start),O=null),N&&typeof H.end<"u"&&N(H.end)},onVideoSegmentTimingInfo:function(H){a(H)},onAudioSegmentTimingInfo:function(H){u(H)},onId3:function(H,K){c(n,H,K)},onCaptions:function(H){d(n,[H])},isEndOfTimeline:f,onEndedTimeline:function(){m()},onTransmuxerLog:I,onDone:function(H){!E||(H.type=H.type==="combined"?"video":H.type,E(null,n,H))}})};E_({action:"probeTs",transmuxer:n.transmuxer,data:i,baseStartTime:n.baseStartTime,callback:function($){n.bytes=i=$.data;var H=$.result;H&&(r(n,{hasAudio:H.hasAudio,hasVideo:H.hasVideo,isMuxed:x}),r=null,H.hasAudio&&!x&&k(H.audioStart),H.hasVideo&&O(H.videoStart),k=null,O=null),B()}})},lV=function(e){var n=e.segment,i=e.bytes,r=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,u=e.audioSegmentTimingInfoFn,c=e.id3Fn,d=e.captionsFn,f=e.isEndOfTimeline,m=e.endedTimelineFn,g=e.dataFn,E=e.doneFn,I=e.onTransmuxerLog,b=new Uint8Array(i);if(jie(b)){n.isFmp4=!0;var x=n.map.tracks,k={isFmp4:!0,hasVideo:!!x.video,hasAudio:!!x.audio};x.audio&&x.audio.codec&&x.audio.codec!=="enca"&&(k.audioCodec=x.audio.codec),x.video&&x.video.codec&&x.video.codec!=="encv"&&(k.videoCodec=x.video.codec),x.video&&x.audio&&(k.isMuxed=!0),r(n,k);var P=function(N){g(n,{data:b,type:k.hasAudio&&!k.isMuxed?"audio":"video"}),N&&N.length&&d(n,N),E(null,n,{})};E_({action:"probeMp4StartTime",timescales:n.map.timescales,data:b,transmuxer:n.transmuxer,callback:function(N){var B=N.data,q=N.startTime;if(i=B.buffer,n.bytes=b=B,k.hasAudio&&!k.isMuxed&&s(n,"audio","start",q),k.hasVideo&&s(n,"video","start",q),!x.video||!B.byteLength||!n.transmuxer){P();return}E_({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:b,timescales:n.map.timescales,trackIds:[x.video.id],callback:function(H){i=H.data.buffer,n.bytes=b=H.data,H.logs.forEach(function(K){I(W.mergeOptions(K,{stream:"mp4CaptionParser"}))}),P(H.captions)}})}});return}if(!n.transmuxer){E(null,n,{});return}if(typeof n.container>"u"&&(n.container=ZI(b)),n.container!=="ts"&&n.container!=="aac"){r(n,{hasAudio:!1,hasVideo:!1}),E(null,n,{});return}vae({segment:n,bytes:i,trackInfoFn:r,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:m,dataFn:g,doneFn:E,onTransmuxerLog:I})},cV=function(e,n){var i=e.id,r=e.key,s=e.encryptedBytes,a=e.decryptionWorker,u=function d(f){if(f.data.source===i){a.removeEventListener("message",d);var m=f.data.decrypted;n(new Uint8Array(m.bytes,m.byteOffset,m.byteLength))}};a.addEventListener("message",u);var c;r.bytes.slice?c=r.bytes.slice():c=new Uint32Array(Array.prototype.slice.call(r.bytes)),a.postMessage(Xj({source:i,encrypted:s,key:c,iv:r.iv}),[s.buffer,c.buffer])},yae=function(e){var n=e.decryptionWorker,i=e.segment,r=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,u=e.audioSegmentTimingInfoFn,c=e.id3Fn,d=e.captionsFn,f=e.isEndOfTimeline,m=e.endedTimelineFn,g=e.dataFn,E=e.doneFn,I=e.onTransmuxerLog;cV({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:n},function(b){i.bytes=b,lV({segment:i,bytes:i.bytes,trackInfoFn:r,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:m,dataFn:g,doneFn:E,onTransmuxerLog:I})})},_ae=function(e){var n=e.activeXhrs,i=e.decryptionWorker,r=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,u=e.audioSegmentTimingInfoFn,c=e.id3Fn,d=e.captionsFn,f=e.isEndOfTimeline,m=e.endedTimelineFn,g=e.dataFn,E=e.doneFn,I=e.onTransmuxerLog,b=0,x=!1;return function(k,P){if(!x){if(k)return x=!0,rx(n),E(k,P);if(b+=1,b===n.length){var O=function(){if(P.encryptedBytes)return yae({decryptionWorker:i,segment:P,trackInfoFn:r,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:m,dataFn:g,doneFn:E,onTransmuxerLog:I});lV({segment:P,bytes:P.bytes,trackInfoFn:r,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:m,dataFn:g,doneFn:E,onTransmuxerLog:I})};if(P.endOfAllRequests=Date.now(),P.map&&P.map.encryptedBytes&&!P.map.bytes)return cV({decryptionWorker:i,id:P.requestId+"-init",encryptedBytes:P.map.encryptedBytes,key:P.map.key},function(N){P.map.bytes=N,uV(P,function(B){if(B)return rx(n),E(B,P);O()})});O()}}}},Tae=function(e){var n=e.loadendState,i=e.abortFn;return function(r){var s=r.target;s.aborted&&i&&!n.calledAbortFn&&(i(),n.calledAbortFn=!0)}},bae=function(e){var n=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(r){var s=r.target;if(!s.aborted)return n.stats=W.mergeOptions(n.stats,pae(r)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),i(r,n)}},wae=function(e){var n=e.xhr,i=e.xhrOptions,r=e.decryptionWorker,s=e.segment,a=e.abortFn,u=e.progressFn,c=e.trackInfoFn,d=e.timingInfoFn,f=e.videoSegmentTimingInfoFn,m=e.audioSegmentTimingInfoFn,g=e.id3Fn,E=e.captionsFn,I=e.isEndOfTimeline,b=e.endedTimelineFn,x=e.dataFn,k=e.doneFn,P=e.onTransmuxerLog,O=[],N=_ae({activeXhrs:O,decryptionWorker:r,trackInfoFn:c,timingInfoFn:d,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:m,id3Fn:g,captionsFn:E,isEndOfTimeline:I,endedTimelineFn:b,dataFn:x,doneFn:k,onTransmuxerLog:P});if(s.key&&!s.key.bytes){var B=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&B.push(s.map.key);var q=W.mergeOptions(i,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),$=mN(s,B,N),H=n(q,$);O.push(H)}if(s.map&&!s.map.bytes){var K=s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri);if(K){var G=W.mergeOptions(i,{uri:s.map.key.resolvedUri,responseType:"arraybuffer"}),Q=mN(s,[s.map.key],N),ie=n(G,Q);O.push(ie)}var he=W.mergeOptions(i,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:nx(s.map)}),$e=mae({segment:s,finishProcessingFn:N}),Ie=n(he,$e);O.push(Ie)}var ce=W.mergeOptions(i,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:nx(s)}),De=gae({segment:s,finishProcessingFn:N,responseType:ce.responseType}),se=n(ce,De);se.addEventListener("progress",bae({segment:s,progressFn:u,trackInfoFn:c,timingInfoFn:d,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:m,id3Fn:g,captionsFn:E,isEndOfTimeline:I,endedTimelineFn:b,dataFn:x})),O.push(se);var we={};return O.forEach(function(me){me.addEventListener("loadend",Tae({loadendState:we,abortFn:a}))}),function(){return rx(O)}},Sae=cs("CodecUtils"),Eae=function(e){var n=e.attributes||{};if(n.CODECS)return Cs(n.CODECS)},dV=function(e,n){var i=n.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},xae=function(e,n){if(!dV(e,n))return!0;var i=n.attributes||{},r=e.mediaGroups.AUDIO[i.AUDIO];for(var s in r)if(!r[s].uri&&!r[s].playlists)return!0;return!1},x_=function(e){var n={};return e.forEach(function(i){var r=i.mediaType,s=i.type,a=i.details;n[r]=n[r]||[],n[r].push(R6(""+s+a))}),Object.keys(n).forEach(function(i){if(n[i].length>1){Sae("multiple "+i+" codecs found as attributes: "+n[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),n[i]=null;return}n[i]=n[i][0]}),n},gN=function(e){var n=0;return e.audio&&n++,e.video&&n++,n},zp=function(e,n){var i=n.attributes||{},r=x_(Eae(n)||[]);if(dV(e,n)&&!r.audio&&!xae(e,n)){var s=x_(Kte(e,i.AUDIO)||[]);s.audio&&(r.audio=s.audio)}return r},My=cs("PlaylistSelector"),vN=function(e){if(!(!e||!e.playlist)){var n=e.playlist;return JSON.stringify({id:n.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:n.attributes&&n.attributes.CODECS||""})}},C_=function(e,n){if(!e)return"";var i=F.getComputedStyle(e);return i?i[n]:""},xd=function(e,n){var i=e.slice();e.sort(function(r,s){var a=n(r,s);return a===0?i.indexOf(r)-i.indexOf(s):a})},Bk=function(e,n){var i,r;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||F.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),r=r||F.Number.MAX_VALUE,i-r},Cae=function(e,n){var i,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||F.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),r=r||F.Number.MAX_VALUE,i===r&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-r},hV=function(e,n,i,r,s,a){if(!!e){var u={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:s},c=e.playlists;ji.isAudioOnly(e)&&(c=a.getAudioTrackPlaylists_(),u.audioOnly=!0);var d=c.map(function(G){var Q,ie=G.attributes&&G.attributes.RESOLUTION&&G.attributes.RESOLUTION.width,he=G.attributes&&G.attributes.RESOLUTION&&G.attributes.RESOLUTION.height;return Q=G.attributes&&G.attributes.BANDWIDTH,Q=Q||F.Number.MAX_VALUE,{bandwidth:Q,width:ie,height:he,playlist:G}});xd(d,function(G,Q){return G.bandwidth-Q.bandwidth}),d=d.filter(function(G){return!ji.isIncompatible(G.playlist)});var f=d.filter(function(G){return ji.isEnabled(G.playlist)});f.length||(f=d.filter(function(G){return!ji.isDisabled(G.playlist)}));var m=f.filter(function(G){return G.bandwidth*Pn.BANDWIDTH_VARIANCE<n}),g=m[m.length-1],E=m.filter(function(G){return G.bandwidth===g.bandwidth})[0];if(s===!1){var I=E||f[0]||d[0];if(I&&I.playlist){var b="sortedPlaylistReps";return E&&(b="bandwidthBestRep"),f[0]&&(b="enabledPlaylistReps"),My("choosing "+vN(I)+" using "+b+" with options",u),I.playlist}return My("could not choose a playlist with options",u),null}var x=m.filter(function(G){return G.width&&G.height});xd(x,function(G,Q){return G.width-Q.width});var k=x.filter(function(G){return G.width===i&&G.height===r});g=k[k.length-1];var P=k.filter(function(G){return G.bandwidth===g.bandwidth})[0],O,N,B;P||(O=x.filter(function(G){return G.width>i||G.height>r}),N=O.filter(function(G){return G.width===O[0].width&&G.height===O[0].height}),g=N[N.length-1],B=N.filter(function(G){return G.bandwidth===g.bandwidth})[0]);var q;if(a.experimentalLeastPixelDiffSelector){var $=x.map(function(G){return G.pixelDiff=Math.abs(G.width-i)+Math.abs(G.height-r),G});xd($,function(G,Q){return G.pixelDiff===Q.pixelDiff?Q.bandwidth-G.bandwidth:G.pixelDiff-Q.pixelDiff}),q=$[0]}var H=q||B||P||E||f[0]||d[0];if(H&&H.playlist){var K="sortedPlaylistReps";return q?K="leastPixelDiffRep":B?K="resolutionPlusOneRep":P?K="resolutionBestRep":E?K="bandwidthBestRep":f[0]&&(K="enabledPlaylistReps"),My("choosing "+vN(H)+" using "+K+" with options",u),H.playlist}return My("could not choose a playlist with options",u),null}},yN=function(){var e=this.useDevicePixelRatio&&F.devicePixelRatio||1;return hV(this.playlists.master,this.systemBandwidth,parseInt(C_(this.tech_.el(),"width"),10)*e,parseInt(C_(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Iae=function(e){var n=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&F.devicePixelRatio||1;return n<0&&(n=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(n=e*this.systemBandwidth+(1-e)*n,i=this.systemBandwidth),hV(this.playlists.master,n,parseInt(C_(this.tech_.el(),"width"),10)*r,parseInt(C_(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},kae=function(e){var n=e.master,i=e.currentTime,r=e.bandwidth,s=e.duration,a=e.segmentDuration,u=e.timeUntilRebuffer,c=e.currentTimeline,d=e.syncController,f=n.playlists.filter(function(b){return!ji.isIncompatible(b)}),m=f.filter(ji.isEnabled);m.length||(m=f.filter(function(b){return!ji.isDisabled(b)}));var g=m.filter(ji.hasAttribute.bind(null,"BANDWIDTH")),E=g.map(function(b){var x=d.getSyncPoint(b,s,c,i),k=x?1:2,P=ji.estimateSegmentRequestTime(a,r,b),O=P*k-u;return{playlist:b,rebufferingImpact:O}}),I=E.filter(function(b){return b.rebufferingImpact<=0});return xd(I,function(b,x){return Bk(x.playlist,b.playlist)}),I.length?I[0]:(xd(E,function(b,x){return b.rebufferingImpact-x.rebufferingImpact}),E[0]||null)},Aae=function(){var e=this,n=this.playlists.master.playlists.filter(ji.isEnabled);xd(n,function(r,s){return Bk(r,s)});var i=n.filter(function(r){return!!zp(e.playlists.master,r).video});return i[0]||null},Pae=function(e){var n=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(r){i.set(r,n),n+=r.byteLength})),i},Dae=function(e,n,i){if(!e[i]){n.trigger({type:"usage",name:"vhs-608"}),n.trigger({type:"usage",name:"hls-608"});var r=i;/^cc708_/.test(i)&&(r="SERVICE"+i.split("_")[1]);var s=n.textTracks().getTrackById(r);if(s)e[i]=s;else{var a=n.options_.vhs&&n.options_.vhs.captionServices||{},u=i,c=i,d=!1,f=a[r];f&&(u=f.label,c=f.language,d=f.default),e[i]=n.addRemoteTextTrack({kind:"captions",id:r,default:d,label:u,language:c},!1).track}}},Rae=function(e){var n=e.inbandTextTracks,i=e.captionArray,r=e.timestampOffset;if(!!i){var s=F.WebKitDataCue||F.VTTCue;i.forEach(function(a){var u=a.stream;n[u].addCue(new s(a.startTime+r,a.endTime+r,a.text))})}},Oae=function(e){Object.defineProperties(e.frame,{id:{get:function(){return W.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return W.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return W.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},Lae=function(e){var n=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,s=e.videoDuration;if(!!i){var a=F.WebKitDataCue||F.VTTCue,u=n.metadataTrack_;if(!!u&&(i.forEach(function(E){var I=E.cueTime+r;typeof I!="number"||F.isNaN(I)||I<0||!(I<1/0)||E.frames.forEach(function(b){var x=new a(I,I,b.value||b.url||b.data||"");x.frame=b,x.value=b,Oae(x),u.addCue(x)})}),!(!u.cues||!u.cues.length))){for(var c=u.cues,d=[],f=0;f<c.length;f++)c[f]&&d.push(c[f]);var m=d.reduce(function(E,I){var b=E[I.startTime]||[];return b.push(I),E[I.startTime]=b,E},{}),g=Object.keys(m).sort(function(E,I){return Number(E)-Number(I)});g.forEach(function(E,I){var b=m[E],x=Number(g[I+1])||s;b.forEach(function(k){k.endTime=x})})}}},Nae=function(e,n,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n)},wp=function(e,n,i){var r,s;if(!!i&&!!i.cues)for(r=i.cues.length;r--;)s=i.cues[r],s.startTime>=e&&s.endTime<=n&&i.removeCue(s)},Mae=function(e){var n=e.cues;if(!!n)for(var i=0;i<n.length;i++){for(var r=[],s=0,a=0;a<n.length;a++)n[i].startTime===n[a].startTime&&n[i].endTime===n[a].endTime&&n[i].text===n[a].text&&(s++,s>1&&r.push(n[a]));r.length&&r.forEach(function(u){return e.removeCue(u)})}},Fae=function(e,n,i){if(typeof n>"u"||n===null||!e.length)return[];var r=Math.ceil((n-i+3)*d_.ONE_SECOND_IN_TS),s;for(s=0;s<e.length&&!(e[s].pts>r);s++);return e.slice(s)},Uae=function(e,n,i){if(!n.length)return e;if(i)return n.slice();var r=n[0].pts,s=0;for(s;s<e.length&&!(e[s].pts>=r);s++);return e.slice(0,s).concat(n)},Bae=function(e,n,i,r){for(var s=Math.ceil((n-r)*d_.ONE_SECOND_IN_TS),a=Math.ceil((i-r)*d_.ONE_SECOND_IN_TS),u=e.slice(),c=e.length;c--&&!(e[c].pts<=a););if(c===-1)return u;for(var d=c+1;d--&&!(e[d].pts<=s););return d=Math.max(d,0),u.splice(d,c-d+1),u},jae=function(e,n){if(!e&&!n||!e&&n||e&&!n)return!1;if(e===n)return!0;var i=Object.keys(e).sort(),r=Object.keys(n).sort();if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++){var a=i[s];if(a!==r[s]||e[a]!==n[a])return!1}return!0},fV=22,Vae=function(e,n,i){n=n||[];for(var r=[],s=0,a=0;a<n.length;a++){var u=n[a];if(e===u.timeline&&(r.push(a),s+=u.duration,s>i))return a}return r.length===0?0:r[r.length-1]},ap=1,$ae=500,_N=function(e){return typeof e=="number"&&isFinite(e)},Fy=1/60,Hae=function(e,n,i){return e!=="main"||!n||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":n.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!n.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},zae=function(e,n,i){var r=n-Pn.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var s=n-i;return Math.min(s,r)},Hc=function(e){var n=e.startOfSegment,i=e.duration,r=e.segment,s=e.part,a=e.playlist,u=a.mediaSequence,c=a.id,d=a.segments,f=d===void 0?[]:d,m=e.mediaIndex,g=e.partIndex,E=e.timeline,I=f.length-1,b="mediaIndex/partIndex increment";e.getMediaInfoForTime?b="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(b="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(b+=" with independent "+e.independent);var x=typeof g=="number",k=e.segment.uri?"segment":"pre-segment",P=x?Nj({preloadSegment:r})-1:0;return k+" ["+(u+m)+"/"+(u+I)+"]"+(x?" part ["+g+"/"+P+"]":"")+(" segment start/end ["+r.start+" => "+r.end+"]")+(x?" part start/end ["+s.start+" => "+s.end+"]":"")+(" startOfSegment ["+n+"]")+(" duration ["+i+"]")+(" timeline ["+E+"]")+(" selected by ["+b+"]")+(" playlist ["+c+"]")},TN=function(e){return e+"TimingInfo"},qae=function(e){var n=e.segmentTimeline,i=e.currentTimeline,r=e.startOfSegment,s=e.buffered,a=e.overrideCheck;return!a&&n===i?null:n<i?r:s.length?s.end(s.length-1):r},bN=function(e){var n=e.timelineChangeController,i=e.currentTimeline,r=e.segmentTimeline,s=e.loaderType,a=e.audioDisabled;if(i===r)return!1;if(s==="audio"){var u=n.lastTimelineChange({type:"main"});return!u||u.to!==r}if(s==="main"&&a){var c=n.pendingTimelineChange({type:"audio"});return!(c&&c.to===r)}return!1},Wae=function(e){var n=0;return["video","audio"].forEach(function(i){var r=e[i+"TimingInfo"];if(!!r){var s=r.start,a=r.end,u;typeof s=="bigint"||typeof a=="bigint"?u=F.BigInt(a)-F.BigInt(s):typeof s=="number"&&typeof a=="number"&&(u=a-s),typeof u<"u"&&u>n&&(n=u)}}),typeof n=="bigint"&&n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),n},wN=function(e){var n=e.segmentDuration,i=e.maxDuration;return n?Math.round(n)>i+Zo:!1},Gae=function(e,n){if(n!=="hls")return null;var i=Wae({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!i)return null;var r=e.playlist.targetDuration,s=wN({segmentDuration:i,maxDuration:r*2}),a=wN({segmentDuration:i,maxDuration:r}),u="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+r+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return s||a?{severity:s?"warn":"info",message:u}:null},sx=function(t){fe(e,t);function e(i,r){var s;if(s=t.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return s.bandwidth=i.bandwidth,s.throughput={rate:0,count:0},s.roundTrip=NaN,s.resetStats_(),s.mediaIndex=null,s.partIndex=null,s.hasPlayed_=i.hasPlayed,s.currentTime_=i.currentTime,s.seekable_=i.seekable,s.seeking_=i.seeking,s.duration_=i.duration,s.mediaSource_=i.mediaSource,s.vhs_=i.vhs,s.loaderType_=i.loaderType,s.currentMediaInfo_=void 0,s.startingMediaInfo_=void 0,s.segmentMetadataTrack_=i.segmentMetadataTrack,s.goalBufferLength_=i.goalBufferLength,s.sourceType_=i.sourceType,s.sourceUpdater_=i.sourceUpdater,s.inbandTextTracks_=i.inbandTextTracks,s.state_="INIT",s.timelineChangeController_=i.timelineChangeController,s.shouldSaveSegmentTimingInfo_=!0,s.parse708captions_=i.parse708captions,s.useDtsForTimestampOffset_=i.useDtsForTimestampOffset,s.captionServices_=i.captionServices,s.experimentalExactManifestTimings=i.experimentalExactManifestTimings,s.checkBufferTimeout_=null,s.error_=void 0,s.currentTimeline_=-1,s.pendingSegment_=null,s.xhrOptions_=null,s.pendingSegments_=[],s.audioDisabled_=!1,s.isPendingTimestampOffset_=!1,s.gopBuffer_=[],s.timeMapping_=0,s.safeAppend_=W.browser.IE_VERSION>=11,s.appendInitSegment_={audio:!0,video:!0},s.playlistOfLastInitSegment_={audio:null,video:null},s.callQueue_=[],s.loadQueue_=[],s.metadataQueue_={id3:[],caption:[]},s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=null,s.activeInitSegmentId_=null,s.initSegments_={},s.cacheEncryptionKeys_=i.cacheEncryptionKeys,s.keyCache_={},s.decrypter_=i.decrypter,s.syncController_=i.syncController,s.syncPoint_={segmentIndex:0,time:0},s.transmuxer_=s.createTransmuxer_(),s.triggerSyncInfoUpdate_=function(){return s.trigger("syncinfoupdate")},s.syncController_.on("syncinfoupdate",s.triggerSyncInfoUpdate_),s.mediaSource_.addEventListener("sourceopen",function(){s.isEndOfStream_()||(s.ended_=!1)}),s.fetchAtBuffer_=!1,s.logger_=cs("SegmentLoader["+s.loaderType_+"]"),Object.defineProperty(Ne(s),"state",{get:function(){return this.state_},set:function(u){u!==this.state_&&(this.logger_(this.state_+" -> "+u),this.state_=u,this.trigger("statechange"))}}),s.sourceUpdater_.on("ready",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="main"&&s.timelineChangeController_.on("pendingtimelinechange",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="audio"&&s.timelineChangeController_.on("timelinechange",function(){s.hasEnoughInfoToLoad_()&&s.processLoadQueue_(),s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s}var n=e.prototype;return n.createTransmuxer_=function(){return t1.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&F.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(r){this.audioDisabled_=!r,r?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,F.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(r){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==r},n.error=function(r){return typeof r<"u"&&(this.logger_("error occurred:",r),this.error_=r),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&t1.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var r=this.getMediaInfo_();if(!this.sourceUpdater_||!r)return W.createTimeRanges();if(this.loaderType_==="main"){var s=r.hasAudio,a=r.hasVideo,u=r.isMuxed;if(a&&s&&!this.audioDisabled_&&!u)return this.sourceUpdater_.buffered();if(a)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(r,s){if(s===void 0&&(s=!1),!r)return null;var a=S_(r),u=this.initSegments_[a];return s&&!u&&r.bytes&&(this.initSegments_[a]=u={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:r.bytes,tracks:r.tracks,timescales:r.timescales}),u||r},n.segmentKey=function(r,s){if(s===void 0&&(s=!1),!r)return null;var a=Yj(r),u=this.keyCache_[a];this.cacheEncryptionKeys_&&s&&!u&&r.bytes&&(this.keyCache_[a]=u={resolvedUri:r.resolvedUri,bytes:r.bytes});var c={resolvedUri:(u||r).resolvedUri};return u&&(c.bytes=u.bytes),c},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(r,s){if(s===void 0&&(s={}),!!r){var a=this.playlist_,u=this.pendingSegment_;this.playlist_=r,this.xhrOptions_=s,this.state==="INIT"&&(r.syncInfo={mediaSequence:r.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(r));var c=null;if(a&&(a.id?c=a.id:a.uri&&(c=a.uri)),this.logger_("playlist update ["+c+" => "+(r.id||r.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!a||a.uri!==r.uri){this.mediaIndex!==null&&(r.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var d=r.mediaSequence-a.mediaSequence;if(this.logger_("live window shift ["+d+"]"),this.mediaIndex!==null)if(this.mediaIndex-=d,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var f=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!f.parts||!f.parts.length||!f.parts[this.partIndex])){var m=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=m}}u&&(u.mediaIndex-=d,u.mediaIndex<0?(u.mediaIndex=null,u.partIndex=null):(u.mediaIndex>=0&&(u.segment=r.segments[u.mediaIndex]),u.partIndex>=0&&u.segment.parts&&(u.part=u.segment.parts[u.partIndex]))),this.syncController_.saveExpiredSegmentInfo(a,r)}},n.pause=function(){this.checkBufferTimeout_&&(F.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return this.checkBufferTimeout_===null},n.resetEverything=function(r){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,r),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&t1.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(r,s,a,u){if(a===void 0&&(a=function(){}),u===void 0&&(u=!1),s===1/0&&(s=this.duration_()),s<=r){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var c=1,d=function(){c--,c===0&&a()};(u||!this.audioDisabled_)&&(c++,this.sourceUpdater_.removeAudio(r,s,d)),(u||this.loaderType_==="main")&&(this.gopBuffer_=Bae(this.gopBuffer_,r,s,this.timeMapping_),c++,this.sourceUpdater_.removeVideo(r,s,d));for(var f in this.inbandTextTracks_)wp(r,s,this.inbandTextTracks_[f]);wp(r,s,this.segmentMetadataTrack_),d()},n.monitorBuffer_=function(){this.checkBufferTimeout_&&F.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=F.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&F.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=F.setTimeout(this.monitorBufferTick_.bind(this),$ae)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var r=this.chooseNextRequest_();!r||(typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline})),this.loadSegment_(r))}},n.isEndOfStream_=function(r,s,a){if(r===void 0&&(r=this.mediaIndex),s===void 0&&(s=this.playlist_),a===void 0&&(a=this.partIndex),!s||!this.mediaSource_)return!1;var u=typeof r=="number"&&s.segments[r],c=r+1===s.segments.length,d=!u||!u.parts||a+1===u.parts.length;return s.endList&&this.mediaSource_.readyState==="open"&&c&&d},n.chooseNextRequest_=function(){var r=this.buffered_(),s=lN(r)||0,a=Ok(r,this.currentTime_()),u=!this.hasPlayed_()&&a>=1,c=a>=this.goalBufferLength_(),d=this.playlist_.segments;if(!d.length||u||c)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var f={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(f.isSyncRequest)f.mediaIndex=Vae(this.currentTimeline_,d,s);else if(this.mediaIndex!==null){var m=d[this.mediaIndex],g=typeof this.partIndex=="number"?this.partIndex:-1;f.startOfSegment=m.end?m.end:s,m.parts&&m.parts[g+1]?(f.mediaIndex=this.mediaIndex,f.partIndex=g+1):f.mediaIndex=this.mediaIndex+1}else{var E=ji.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?s:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),I=E.segmentIndex,b=E.startTime,x=E.partIndex;f.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+s:"currentTime "+this.currentTime_(),f.mediaIndex=I,f.startOfSegment=b,f.partIndex=x}var k=d[f.mediaIndex],P=k&&typeof f.partIndex=="number"&&k.parts&&k.parts[f.partIndex];if(!k||typeof f.partIndex=="number"&&!P)return null;if(typeof f.partIndex!="number"&&k.parts&&(f.partIndex=0,P=k.parts[0]),!a&&P&&!P.independent)if(f.partIndex===0){var O=d[f.mediaIndex-1],N=O.parts&&O.parts.length&&O.parts[O.parts.length-1];N&&N.independent&&(f.mediaIndex-=1,f.partIndex=O.parts.length-1,f.independent="previous segment")}else k.parts[f.partIndex-1].independent&&(f.partIndex-=1,f.independent="previous part");var B=this.mediaSource_&&this.mediaSource_.readyState==="ended";return f.mediaIndex>=d.length-1&&B&&!this.seeking_()?null:this.generateSegmentInfo_(f)},n.generateSegmentInfo_=function(r){var s=r.independent,a=r.playlist,u=r.mediaIndex,c=r.startOfSegment,d=r.isSyncRequest,f=r.partIndex,m=r.forceTimestampOffset,g=r.getMediaInfoForTime,E=a.segments[u],I=typeof f=="number"&&E.parts[f],b={requestId:"segment-loader-"+Math.random(),uri:I&&I.resolvedUri||E.resolvedUri,mediaIndex:u,partIndex:I?f:null,isSyncRequest:d,startOfSegment:c,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:E.timeline,duration:I&&I.duration||E.duration,segment:E,part:I,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:g,independent:s},x=typeof m<"u"?m:this.isPendingTimestampOffset_;b.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:E.timeline,currentTimeline:this.currentTimeline_,startOfSegment:c,buffered:this.buffered_(),overrideCheck:x});var k=lN(this.sourceUpdater_.audioBuffered());return typeof k=="number"&&(b.audioAppendStart=k-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(b.gopsToAlignWith=Fae(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),b},n.timestampOffsetForSegment_=function(r){return qae(r)},n.earlyAbortWhenNeeded_=function(r){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(r.firstBytesReceivedAt||Date.now())<1e3)){var s=this.currentTime_(),a=r.bandwidth,u=this.pendingSegment_.duration,c=ji.estimateSegmentRequestTime(u,a,this.playlist_,r.bytesReceived),d=vse(this.buffered_(),s,this.vhs_.tech_.playbackRate())-1;if(!(c<=d)){var f=kae({master:this.vhs_.playlists.master,currentTime:s,bandwidth:a,duration:this.duration_(),segmentDuration:u,timeUntilRebuffer:d,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!f){var m=c-d,g=m-f.rebufferingImpact,E=.5;d<=Zo&&(E=1),!(!f.playlist||f.playlist.uri===this.playlist_.uri||g<E)&&(this.bandwidth=f.playlist.attributes.BANDWIDTH*Pn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(r){this.logger_("Aborting "+Hc(r)),this.mediaRequestsAborted+=1},n.handleProgress_=function(r,s){this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)&&this.trigger("progress")},n.handleTrackInfo_=function(r,s){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&(this.checkForIllegalMediaSwitch(s)||(s=s||{},jae(this.currentMediaInfo_,s)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=s,this.currentMediaInfo_=s,this.logger_("trackinfo update",s),this.trigger("trackinfo")),!this.checkForAbort_(r.requestId)&&(this.pendingSegment_.trackInfo=s,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},n.handleTimingInfo_=function(r,s,a,u){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var c=this.pendingSegment_,d=TN(s);c[d]=c[d]||{},c[d][a]=u,this.logger_("timinginfo: "+s+" - "+a+" - "+u),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(r,s){var a=this;if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(s.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var u=this.pendingSegment_;if(!u.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,r,s));return}var c=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),d={};s.forEach(function(f){d[f.stream]=d[f.stream]||{startTime:1/0,captions:[],endTime:0};var m=d[f.stream];m.startTime=Math.min(m.startTime,f.startTime+c),m.endTime=Math.max(m.endTime,f.endTime+c),m.captions.push(f)}),Object.keys(d).forEach(function(f){var m=d[f],g=m.startTime,E=m.endTime,I=m.captions,b=a.inbandTextTracks_;a.logger_("adding cues from "+g+" -> "+E+" for "+f),Dae(b,a.vhs_.tech_,f),wp(g,E,b[f]),Rae({captionArray:I,inbandTextTracks:b,timestampOffset:c})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},n.handleId3_=function(r,s,a){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var u=this.pendingSegment_;if(!u.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,r,s,a));return}var c=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();Nae(this.inbandTextTracks_,a,this.vhs_.tech_),Lae({inbandTextTracks:this.inbandTextTracks_,metadataArray:s,timestampOffset:c,videoDuration:this.duration_()})}},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(r){return r()}),this.metadataQueue_.caption.forEach(function(r){return r()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var r=this.callQueue_;this.callQueue_=[],r.forEach(function(s){return s()})},n.processLoadQueue_=function(){var r=this.loadQueue_;this.loadQueue_=[],r.forEach(function(s){return s()})},n.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var r=this.pendingSegment_;return r?this.getCurrentMediaInfo_()?!bN({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},n.getCurrentMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),r&&r.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),this.getCurrentMediaInfo_(r)||this.startingMediaInfo_},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var r=this.pendingSegment_,s=this.getCurrentMediaInfo_();if(!r||!s)return!1;var a=s.hasAudio,u=s.hasVideo,c=s.isMuxed;return!(u&&!r.videoTimingInfo||a&&!this.audioDisabled_&&!c&&!r.audioTimingInfo||bN({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(r,s){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,r,s));return}var a=this.pendingSegment_;if(this.setTimeMapping_(a.timeline),this.updateMediaSecondsLoaded_(a.part||a.segment),this.mediaSource_.readyState!=="closed"){if(r.map&&(r.map=this.initSegmentForMap(r.map,!0),a.segment.map=r.map),r.key&&this.segmentKey(r.key,!0),a.isFmp4=r.isFmp4,a.timingInfo=a.timingInfo||{},a.isFmp4)this.trigger("fmp4"),a.timingInfo.start=a[TN(s.type)].start;else{var u=this.getCurrentMediaInfo_(),c=this.loaderType_==="main"&&u&&u.hasVideo,d;c&&(d=a.videoTimingInfo.start),a.timingInfo.start=this.trueSegmentStart_({currentStart:a.timingInfo.start,playlist:a.playlist,mediaIndex:a.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:c,firstVideoFrameTimeForData:d,videoTimingInfo:a.videoTimingInfo,audioTimingInfo:a.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(a,s.type),this.updateSourceBufferTimestampOffset_(a),a.isSyncRequest){this.updateTimingInfoEnd_(a),this.syncController_.saveSegmentTimingInfo({segmentInfo:a,shouldSaveTimelineMapping:this.loaderType_==="main"});var f=this.chooseNextRequest_();if(f.mediaIndex!==a.mediaIndex||f.partIndex!==a.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}a.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(a,s)}}},n.updateAppendInitSegmentStatus=function(r,s){this.loaderType_==="main"&&typeof r.timestampOffset=="number"&&!r.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[s]!==r.playlist&&(this.appendInitSegment_[s]=!0)},n.getInitSegmentAndUpdateState_=function(r){var s=r.type,a=r.initSegment,u=r.map,c=r.playlist;if(u){var d=S_(u);if(this.activeInitSegmentId_===d)return null;a=this.initSegmentForMap(u,!0).bytes,this.activeInitSegmentId_=d}return a&&this.appendInitSegment_[s]?(this.playlistOfLastInitSegment_[s]=c,this.appendInitSegment_[s]=!1,this.activeInitSegmentId_=null,a):null},n.handleQuotaExceededError_=function(r,s){var a=this,u=r.segmentInfo,c=r.type,d=r.bytes,f=this.sourceUpdater_.audioBuffered(),m=this.sourceUpdater_.videoBuffered();f.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+el(f).join(", ")),m.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+el(m).join(", "));var g=f.length?f.start(0):0,E=f.length?f.end(f.length-1):0,I=m.length?m.start(0):0,b=m.length?m.end(m.length-1):0;if(E-g<=ap&&b-I<=ap){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+d.byteLength+", ")+("audio buffer: "+el(f).join(", ")+", ")+("video buffer: "+el(m).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:u,type:c,bytes:d}));var x=this.currentTime_(),k=x-ap;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+k),this.remove(0,k,function(){a.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+ap+"s"),a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=F.setTimeout(function(){a.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),a.quotaExceededErrorRetryTimeout_=null,a.processCallQueue_()},ap*1e3)},!0)},n.handleAppendError_=function(r,s){var a=r.segmentInfo,u=r.type,c=r.bytes;if(!!s){if(s.code===fV){this.handleQuotaExceededError_({segmentInfo:a,type:u,bytes:c});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error(u+" append of "+c.length+"b failed for segment "+("#"+a.mediaIndex+" in playlist "+a.playlist.id)),this.trigger("appenderror")}},n.appendToSourceBuffer_=function(r){var s=r.segmentInfo,a=r.type,u=r.initSegment,c=r.data,d=r.bytes;if(!d){var f=[c],m=c.byteLength;u&&(f.unshift(u),m+=u.byteLength),d=Pae({bytes:m,segments:f})}this.sourceUpdater_.appendBuffer({segmentInfo:s,type:a,bytes:d},this.handleAppendError_.bind(this,{segmentInfo:s,type:a,bytes:d}))},n.handleSegmentTimingInfo_=function(r,s,a){if(!(!this.pendingSegment_||s!==this.pendingSegment_.requestId)){var u=this.pendingSegment_.segment,c=r+"TimingInfo";u[c]||(u[c]={}),u[c].transmuxerPrependedSeconds=a.prependedContentDuration||0,u[c].transmuxedPresentationStart=a.start.presentation,u[c].transmuxedDecodeStart=a.start.decode,u[c].transmuxedPresentationEnd=a.end.presentation,u[c].transmuxedDecodeEnd=a.end.decode,u[c].baseMediaDecodeTime=a.baseMediaDecodeTime}},n.appendData_=function(r,s){var a=s.type,u=s.data;if(!(!u||!u.byteLength)&&!(a==="audio"&&this.audioDisabled_)){var c=this.getInitSegmentAndUpdateState_({type:a,initSegment:s.initSegment,playlist:r.playlist,map:r.isFmp4?r.segment.map:null});this.appendToSourceBuffer_({segmentInfo:r,type:a,initSegment:c,data:u})}},n.loadSegment_=function(r){var s=this;if(this.state="WAITING",this.pendingSegment_=r,this.trimBackBuffer_(r),typeof r.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var a=Or({},r,{forceTimestampOffset:!0});Or(r,s.generateSegmentInfo_(a)),s.isPendingTimestampOffset_=!1,s.updateTransmuxerAndRequestSegment_(r)});return}this.updateTransmuxerAndRequestSegment_(r)},n.updateTransmuxerAndRequestSegment_=function(r){var s=this;this.shouldUpdateTransmuxerTimestampOffset_(r.timestampOffset)&&(this.gopBuffer_.length=0,r.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:r.timestampOffset}));var a=this.createSimplifiedSegmentObj_(r),u=this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex),c=this.mediaIndex!==null,d=r.timeline!==this.currentTimeline_&&r.timeline>0,f=u||c&&d;this.logger_("Requesting "+Hc(r)),a.map&&!a.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),r.abortRequests=wae({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:a,abortFn:this.handleAbort_.bind(this,r),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",r.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",r.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:f,endedTimelineFn:function(){s.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(g){var E=g.message,I=g.level,b=g.stream;s.logger_(Hc(r)+" logged from transmuxer stream "+b+" as a "+I+": "+E)}})},n.trimBackBuffer_=function(r){var s=zae(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);s>0&&this.remove(0,s)},n.createSimplifiedSegmentObj_=function(r){var s=r.segment,a=r.part,u={resolvedUri:a?a.resolvedUri:s.resolvedUri,byterange:a?a.byterange:s.byterange,requestId:r.requestId,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,part:r.part},c=r.playlist.segments[r.mediaIndex-1];if(c&&c.timeline===s.timeline&&(c.videoTimingInfo?u.baseStartTime=c.videoTimingInfo.transmuxedDecodeEnd:c.audioTimingInfo&&(u.baseStartTime=c.audioTimingInfo.transmuxedDecodeEnd)),s.key){var d=s.key.iv||new Uint32Array([0,0,0,r.mediaIndex+r.playlist.mediaSequence]);u.key=this.segmentKey(s.key),u.key.iv=d}return s.map&&(u.map=this.initSegmentForMap(s.map)),u},n.saveTransferStats_=function(r){this.mediaRequests+=1,r&&(this.mediaBytesTransferred+=r.bytesReceived,this.mediaTransferDuration+=r.roundTripTime)},n.saveBandwidthRelatedStats_=function(r,s){if(this.pendingSegment_.byteLength=s.bytesReceived,r<Fy){this.logger_("Ignoring segment's bandwidth because its duration of "+r+(" is less than the min to record "+Fy));return}this.bandwidth=s.bandwidth,this.roundTrip=s.roundTripTime},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},n.segmentRequestFinished_=function(r,s,a){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,r,s,a));return}if(this.saveTransferStats_(s.stats),!!this.pendingSegment_&&s.requestId===this.pendingSegment_.requestId){if(r){if(this.pendingSegment_=null,this.state="READY",r.code===Fs.ABORTED)return;if(this.pause(),r.code===Fs.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(r),this.trigger("error");return}var u=this.pendingSegment_;this.saveBandwidthRelatedStats_(u.duration,s.stats),u.endOfAllRequests=s.endOfAllRequests,a.gopInfo&&(this.gopBuffer_=Uae(this.gopBuffer_,a.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(u)}},n.setTimeMapping_=function(r){var s=this.syncController_.mappingForTimeline(r);s!==null&&(this.timeMapping_=s)},n.updateMediaSecondsLoaded_=function(r){typeof r.start=="number"&&typeof r.end=="number"?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(r){return r===null?!1:this.loaderType_==="main"&&r!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&r!==this.sourceUpdater_.audioTimestampOffset()},n.trueSegmentStart_=function(r){var s=r.currentStart,a=r.playlist,u=r.mediaIndex,c=r.firstVideoFrameTimeForData,d=r.currentVideoTimestampOffset,f=r.useVideoTimingInfo,m=r.videoTimingInfo,g=r.audioTimingInfo;if(typeof s<"u")return s;if(!f)return g.start;var E=a.segments[u-1];return u===0||!E||typeof E.start>"u"||E.end!==c+d?c:m.start},n.waitForAppendsToComplete_=function(r){var s=this.getCurrentMediaInfo_(r);if(!s){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var a=s.hasAudio,u=s.hasVideo,c=s.isMuxed,d=this.loaderType_==="main"&&u,f=!this.audioDisabled_&&a&&!c;if(r.waitingOnAppends=0,!r.hasAppendedData_){!r.timingInfo&&typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),r.timingInfo={start:0},r.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(r),this.processMetadataQueue_()),this.checkAppendsDone_(r);return}d&&r.waitingOnAppends++,f&&r.waitingOnAppends++,d&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,r)),f&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,r))},n.checkAppendsDone_=function(r){this.checkForAbort_(r.requestId)||(r.waitingOnAppends--,r.waitingOnAppends===0&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(r){var s=Hae(this.loaderType_,this.getCurrentMediaInfo_(),r);return s?(this.error({message:s,blacklistDuration:1/0}),this.trigger("error"),!0):!1},n.updateSourceBufferTimestampOffset_=function(r){if(!(r.timestampOffset===null||typeof r.timingInfo.start!="number"||r.changedTimestampOffset||this.loaderType_!=="main")){var s=!1;r.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:r.segment.videoTimingInfo,audioTimingInfo:r.segment.audioTimingInfo,timingInfo:r.timingInfo}),r.changedTimestampOffset=!0,r.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(r.timestampOffset),s=!0),r.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(r.timestampOffset),s=!0),s&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(r){var s=r.videoTimingInfo,a=r.audioTimingInfo,u=r.timingInfo;return this.useDtsForTimestampOffset_?s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:u.start:u.start},n.updateTimingInfoEnd_=function(r){r.timingInfo=r.timingInfo||{};var s=this.getMediaInfo_(),a=this.loaderType_==="main"&&s&&s.hasVideo,u=a&&r.videoTimingInfo?r.videoTimingInfo:r.audioTimingInfo;!u||(r.timingInfo.end=typeof u.end=="number"?u.end:u.start+r.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var r=this.pendingSegment_;this.updateTimingInfoEnd_(r),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});var s=Gae(r,this.sourceType_);if(s&&(s.severity==="warn"?W.log.warn(s.message):this.logger_(s.message)),this.recordThroughput_(r),this.pendingSegment_=null,this.state="READY",r.isSyncRequest&&(this.trigger("syncinfoupdate"),!r.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Hc(r));return}this.logger_("Appended "+Hc(r)),this.addSegmentMetadataCue_(r),this.fetchAtBuffer_=!0,this.currentTimeline_!==r.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:r.timeline})),this.currentTimeline_=r.timeline,this.trigger("syncinfoupdate");var a=r.segment,u=r.part,c=a.end&&this.currentTime_()-a.end>r.playlist.targetDuration*3,d=u&&u.end&&this.currentTime_()-u.end>r.playlist.partTargetDuration*3;if(c||d){this.logger_("bad "+(c?"segment":"part")+" "+Hc(r)),this.resetEverything();return}var f=this.mediaIndex!==null;f&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=r.mediaIndex,this.partIndex=r.partIndex,this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex)&&this.endOfStream(),this.trigger("appended"),r.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},n.recordThroughput_=function(r){if(r.duration<Fy){this.logger_("Ignoring segment's throughput because its duration of "+r.duration+(" is less than the min to record "+Fy));return}var s=this.throughput.rate,a=Date.now()-r.endOfAllRequests+1,u=Math.floor(r.byteLength/a*8*1e3);this.throughput.rate+=(u-s)/++this.throughput.count},n.addSegmentMetadataCue_=function(r){if(!!this.segmentMetadataTrack_){var s=r.segment,a=s.start,u=s.end;if(!(!_N(a)||!_N(u))){wp(a,u,this.segmentMetadataTrack_);var c=F.WebKitDataCue||F.VTTCue,d={custom:s.custom,dateTimeObject:s.dateTimeObject,dateTimeString:s.dateTimeString,bandwidth:r.playlist.attributes.BANDWIDTH,resolution:r.playlist.attributes.RESOLUTION,codecs:r.playlist.attributes.CODECS,byteLength:r.byteLength,uri:r.uri,timeline:r.timeline,playlist:r.playlist.id,start:a,end:u},f=JSON.stringify(d),m=new c(a,u,f);m.value=d,this.segmentMetadataTrack_.addCue(m)}}},e}(W.EventTarget);function Ta(){}var pV=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},Kae=["video","audio"],ax=function(e,n){var i=n[e+"Buffer"];return i&&i.updating||n.queuePending[e]},Xae=function(e,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.type==="mediaSource")return null;if(r.type===e)return i}return null},jk=function t(e,n){if(n.queue.length!==0){var i=0,r=n.queue[i];if(r.type==="mediaSource"){!n.updating()&&n.mediaSource.readyState!=="closed"&&(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),t("audio",n),t("video",n));return}if(e!=="mediaSource"&&!(!n.ready()||n.mediaSource.readyState==="closed"||ax(e,n))){if(r.type!==e){if(i=Xae(e,n.queue),i===null)return;r=n.queue[i]}if(n.queue.splice(i,1),n.queuePending[e]=r,r.action(e,n),!r.doneFn){n.queuePending[e]=null,t(e,n);return}}}},mV=function(e,n){var i=n[e+"Buffer"],r=pV(e);!i||(i.removeEventListener("updateend",n["on"+r+"UpdateEnd_"]),i.removeEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=null,n[e+"Buffer"]=null)},Is=function(e,n){return e&&n&&Array.prototype.indexOf.call(e.sourceBuffers,n)!==-1},ir={appendBuffer:function(e,n,i){return function(r,s){var a=s[r+"Buffer"];if(!!Is(s.mediaSource,a)){s.logger_("Appending segment "+n.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{a.appendBuffer(e)}catch(u){s.logger_("Error with code "+u.code+" "+(u.code===fV?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+n.mediaIndex+" to "+r+"Buffer")),s.queuePending[r]=null,i(u)}}}},remove:function(e,n){return function(i,r){var s=r[i+"Buffer"];if(!!Is(r.mediaSource,s)){r.logger_("Removing "+e+" to "+n+" from "+i+"Buffer");try{s.remove(e,n)}catch{r.logger_("Remove "+e+" to "+n+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(n,i){var r=i[n+"Buffer"];!Is(i.mediaSource,r)||(i.logger_("Setting "+n+"timestampOffset to "+e),r.timestampOffset=e)}},callback:function(e){return function(n,i){e()}},endOfStream:function(e){return function(n){if(n.mediaSource.readyState==="open"){n.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{n.mediaSource.endOfStream(e)}catch(i){W.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(n){n.logger_("Setting mediaSource duration to "+e);try{n.mediaSource.duration=e}catch(i){W.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,n){if(n.mediaSource.readyState==="open"){var i=n[e+"Buffer"];if(!!Is(n.mediaSource,i)){n.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(r){W.log.warn("Failed to abort on "+e+"Buffer",r)}}}}},addSourceBuffer:function(e,n){return function(i){var r=pV(e),s=Im(n);i.logger_("Adding "+e+"Buffer with codec "+n+" to mediaSource");var a=i.mediaSource.addSourceBuffer(s);a.addEventListener("updateend",i["on"+r+"UpdateEnd_"]),a.addEventListener("error",i["on"+r+"Error_"]),i.codecs[e]=n,i[e+"Buffer"]=a}},removeSourceBuffer:function(e){return function(n){var i=n[e+"Buffer"];if(mV(e,n),!!Is(n.mediaSource,i)){n.logger_("Removing "+e+"Buffer with codec "+n.codecs[e]+" from mediaSource");try{n.mediaSource.removeSourceBuffer(i)}catch(r){W.log.warn("Failed to removeSourceBuffer "+e+"Buffer",r)}}}},changeType:function(e){return function(n,i){var r=i[n+"Buffer"],s=Im(e);!Is(i.mediaSource,r)||i.codecs[n]!==e&&(i.logger_("changing "+n+"Buffer codec from "+i.codecs[n]+" to "+e),r.changeType(s),i.codecs[n]=e)}}},rr=function(e){var n=e.type,i=e.sourceUpdater,r=e.action,s=e.doneFn,a=e.name;i.queue.push({type:n,action:r,doneFn:s,name:a}),jk(n,i)},SN=function(e,n){return function(i){if(n.queuePending[e]){var r=n.queuePending[e].doneFn;n.queuePending[e]=null,r&&r(n[e+"Error_"])}jk(e,n)}},gV=function(t){fe(e,t);function e(i){var r;return r=t.call(this)||this,r.mediaSource=i,r.sourceopenListener_=function(){return jk("mediaSource",Ne(r))},r.mediaSource.addEventListener("sourceopen",r.sourceopenListener_),r.logger_=cs("SourceUpdater"),r.audioTimestampOffset_=0,r.videoTimestampOffset_=0,r.queue=[],r.queuePending={audio:null,video:null},r.delayedAudioAppendQueue_=[],r.videoAppendQueued_=!1,r.codecs={},r.onVideoUpdateEnd_=SN("video",Ne(r)),r.onAudioUpdateEnd_=SN("audio",Ne(r)),r.onVideoError_=function(s){r.videoError_=s},r.onAudioError_=function(s){r.audioError_=s},r.createdSourceBuffers_=!1,r.initializedEme_=!1,r.triggeredReady_=!1,r}var n=e.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(r){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(r),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(r,s){rr({type:"mediaSource",sourceUpdater:this,action:ir.addSourceBuffer(r,s),name:"addSourceBuffer"})},n.abort=function(r){rr({type:r,sourceUpdater:this,action:ir.abort(r),name:"abort"})},n.removeSourceBuffer=function(r){if(!this.canRemoveSourceBuffer()){W.log.error("removeSourceBuffer is not supported!");return}rr({type:"mediaSource",sourceUpdater:this,action:ir.removeSourceBuffer(r),name:"removeSourceBuffer"})},n.canRemoveSourceBuffer=function(){return!W.browser.IE_VERSION&&!W.browser.IS_FIREFOX&&F.MediaSource&&F.MediaSource.prototype&&typeof F.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return F.SourceBuffer&&F.SourceBuffer.prototype&&typeof F.SourceBuffer.prototype.changeType=="function"},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(r,s){if(!this.canChangeType()){W.log.error("changeType is not supported!");return}rr({type:r,sourceUpdater:this,action:ir.changeType(s),name:"changeType"})},n.addOrChangeSourceBuffers=function(r){var s=this;if(!r||typeof r!="object"||Object.keys(r).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(r).forEach(function(a){var u=r[a];if(!s.hasCreatedSourceBuffers())return s.addSourceBuffer(a,u);s.canChangeType()&&s.changeType(a,u)})},n.appendBuffer=function(r,s){var a=this,u=r.segmentInfo,c=r.type,d=r.bytes;if(this.processedAppend_=!0,c==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([r,s]),this.logger_("delayed audio append of "+d.length+" until video append");return}var f=s;if(rr({type:c,sourceUpdater:this,action:ir.appendBuffer(d,u||{mediaIndex:-1},f),doneFn:s,name:"appendBuffer"}),c==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var m=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+m.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,m.forEach(function(g){a.appendBuffer.apply(a,g)})}},n.audioBuffered=function(){return Is(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:W.createTimeRange()},n.videoBuffered=function(){return Is(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:W.createTimeRange()},n.buffered=function(){var r=Is(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,s=Is(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return s&&!r?this.audioBuffered():r&&!s?this.videoBuffered():gse(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(r,s){s===void 0&&(s=Ta),rr({type:"mediaSource",sourceUpdater:this,action:ir.duration(r),name:"duration",doneFn:s})},n.endOfStream=function(r,s){r===void 0&&(r=null),s===void 0&&(s=Ta),typeof r!="string"&&(r=void 0),rr({type:"mediaSource",sourceUpdater:this,action:ir.endOfStream(r),name:"endOfStream",doneFn:s})},n.removeAudio=function(r,s,a){if(a===void 0&&(a=Ta),!this.audioBuffered().length||this.audioBuffered().end(0)===0){a();return}rr({type:"audio",sourceUpdater:this,action:ir.remove(r,s),doneFn:a,name:"remove"})},n.removeVideo=function(r,s,a){if(a===void 0&&(a=Ta),!this.videoBuffered().length||this.videoBuffered().end(0)===0){a();return}rr({type:"video",sourceUpdater:this,action:ir.remove(r,s),doneFn:a,name:"remove"})},n.updating=function(){return!!(ax("audio",this)||ax("video",this))},n.audioTimestampOffset=function(r){return typeof r<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==r&&(rr({type:"audio",sourceUpdater:this,action:ir.timestampOffset(r),name:"timestampOffset"}),this.audioTimestampOffset_=r),this.audioTimestampOffset_},n.videoTimestampOffset=function(r){return typeof r<"u"&&this.videoBuffer&&this.videoTimestampOffset!==r&&(rr({type:"video",sourceUpdater:this,action:ir.timestampOffset(r),name:"timestampOffset"}),this.videoTimestampOffset_=r),this.videoTimestampOffset_},n.audioQueueCallback=function(r){!this.audioBuffer||rr({type:"audio",sourceUpdater:this,action:ir.callback(r),name:"callback"})},n.videoQueueCallback=function(r){!this.videoBuffer||rr({type:"video",sourceUpdater:this,action:ir.callback(r),name:"callback"})},n.dispose=function(){var r=this;this.trigger("dispose"),Kae.forEach(function(s){r.abort(s),r.canRemoveSourceBuffer()?r.removeSourceBuffer(s):r[s+"QueueCallback"](function(){return mV(s,r)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(W.EventTarget),EN=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},xN=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),Yae=function(t){fe(e,t);function e(i,r){var s;return r===void 0&&(r={}),s=t.call(this,i,r)||this,s.mediaSource_=null,s.subtitlesTrack_=null,s.loaderType_="subtitle",s.featuresNativeTextTracks_=i.featuresNativeTextTracks,s.shouldSaveSegmentTimingInfo_=!1,s}var n=e.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return W.createTimeRanges();var r=this.subtitlesTrack_.cues,s=r[0].startTime,a=r[r.length-1].startTime;return W.createTimeRanges([[s,a]])},n.initSegmentForMap=function(r,s){if(s===void 0&&(s=!1),!r)return null;var a=S_(r),u=this.initSegments_[a];if(s&&!u&&r.bytes){var c=xN.byteLength+r.bytes.byteLength,d=new Uint8Array(c);d.set(r.bytes),d.set(xN,r.bytes.byteLength),this.initSegments_[a]=u={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:d}}return u||r},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(r){return typeof r>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=r,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},n.remove=function(r,s){wp(r,s,this.subtitlesTrack_)},n.fillBuffer_=function(){var r=this,s=this.chooseNextRequest_();if(!!s){if(this.syncController_.timestampOffsetForTimeline(s.timeline)===null){var a=function(){r.state="READY",r.paused()||r.monitorBuffer_()};this.syncController_.one("timestampoffset",a),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(s)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(r){for(;r&&r.segment.empty;){if(r.mediaIndex+1>=r.playlist.segments.length){r=null;break}r=this.generateSegmentInfo_({playlist:r.playlist,mediaIndex:r.mediaIndex+1,startOfSegment:r.startOfSegment+r.duration,isSyncRequest:r.isSyncRequest})}return r},n.stopForError=function(r){this.error(r),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(r,s,a){var u=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(s.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(r){r.code===Fs.TIMEOUT&&this.handleTimeout_(),r.code===Fs.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(r);return}var c=this.pendingSegment_;this.saveBandwidthRelatedStats_(c.duration,s.stats),s.key&&this.segmentKey(s.key,!0),this.state="APPENDING",this.trigger("appending");var d=c.segment;if(d.map&&(d.map.bytes=s.map.bytes),c.bytes=s.bytes,typeof F.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var f,m=function(){u.subtitlesTrack_.tech_.off("vttjsloaded",f),u.stopForError({message:"Error loading vtt.js"})};f=function(){u.subtitlesTrack_.tech_.off("vttjserror",m),u.segmentRequestFinished_(r,s,a)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",f),this.subtitlesTrack_.tech_.one("vttjserror",m);return}d.requested=!0;try{this.parseVTTCues_(c)}catch(g){this.stopForError({message:g.message});return}if(this.updateTimeMapping_(c,this.syncController_.timelines[c.timeline],this.playlist_),c.cues.length?c.timingInfo={start:c.cues[0].startTime,end:c.cues[c.cues.length-1].endTime}:c.timingInfo={start:c.startOfSegment,end:c.startOfSegment+c.duration},c.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}c.byteLength=c.bytes.byteLength,this.mediaSecondsLoaded+=d.duration,c.cues.forEach(function(g){u.subtitlesTrack_.addCue(u.featuresNativeTextTracks_?new F.VTTCue(g.startTime,g.endTime,g.text):g)}),Mae(this.subtitlesTrack_),this.handleAppendsDone_()},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(r){var s,a=!1;typeof F.TextDecoder=="function"?s=new F.TextDecoder("utf8"):(s=F.WebVTT.StringDecoder(),a=!0);var u=new F.WebVTT.Parser(F,F.vttjs,s);if(r.cues=[],r.timestampmap={MPEGTS:0,LOCAL:0},u.oncue=r.cues.push.bind(r.cues),u.ontimestampmap=function(f){r.timestampmap=f},u.onparsingerror=function(f){W.log.warn("Error encountered when parsing cues: "+f.message)},r.segment.map){var c=r.segment.map.bytes;a&&(c=EN(c)),u.parse(c)}var d=r.bytes;a&&(d=EN(d)),u.parse(d),u.flush()},n.updateTimeMapping_=function(r,s,a){var u=r.segment;if(!!s){if(!r.cues.length){u.empty=!0;return}var c=r.timestampmap,d=c.MPEGTS/d_.ONE_SECOND_IN_TS-c.LOCAL+s.mapping;if(r.cues.forEach(function(g){g.startTime+=d,g.endTime+=d}),!a.syncInfo){var f=r.cues[0].startTime,m=r.cues[r.cues.length-1].startTime;a.syncInfo={mediaSequence:a.mediaSequence+r.mediaIndex,time:Math.min(f,m-u.duration)}}}},e}(sx),Qae=function(e,n){for(var i=e.cues,r=0;r<i.length;r++){var s=i[r];if(n>=s.adStartTime&&n<=s.adEndTime)return s}return null},Jae=function(e,n,i){if(i===void 0&&(i=0),!!e.segments)for(var r=i,s,a=0;a<e.segments.length;a++){var u=e.segments[a];if(s||(s=Qae(n,r+u.duration/2)),s){if("cueIn"in u){s.endTime=r,s.adEndTime=r,r+=u.duration,s=null;continue}if(r<s.endTime){r+=u.duration;continue}s.endTime+=u.duration}else if("cueOut"in u&&(s=new F.VTTCue(r,r+u.duration,u.cueOut),s.adStartTime=r,s.adEndTime=r+parseFloat(u.cueOut),n.addCue(s)),"cueOutCont"in u){var c=u.cueOutCont.split("/").map(parseFloat),d=c[0],f=c[1];s=new F.VTTCue(r,r+u.duration,""),s.adStartTime=r-d,s.adEndTime=s.adStartTime+f,n.addCue(s)}r+=u.duration}},Zae=86400,CN=[{name:"VOD",run:function(e,n,i,r,s){if(i!==1/0){var a={time:0,segmentIndex:0,partIndex:null};return a}return null}},{name:"ProgramDateTime",run:function(e,n,i,r,s){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,u=null,c=QE(n);s=s||0;for(var d=0;d<c.length;d++){var f=n.endList||s===0?d:c.length-(d+1),m=c[f],g=m.segment,E=e.timelineToDatetimeMappings[g.timeline];if(!(!E||!g.dateTimeObject)){var I=g.dateTimeObject.getTime()/1e3,b=I+E;if(g.parts&&typeof m.partIndex=="number")for(var x=0;x<m.partIndex;x++)b+=g.parts[x].duration;var k=Math.abs(s-b);if(u!==null&&(k===0||u<k))break;u=k,a={time:b,segmentIndex:m.segmentIndex,partIndex:m.partIndex}}}return a}},{name:"Segment",run:function(e,n,i,r,s){var a=null,u=null;s=s||0;for(var c=QE(n),d=0;d<c.length;d++){var f=n.endList||s===0?d:c.length-(d+1),m=c[f],g=m.segment,E=m.part&&m.part.start||g&&g.start;if(g.timeline===r&&typeof E<"u"){var I=Math.abs(s-E);if(u!==null&&u<I)break;(!a||u===null||u>=I)&&(u=I,a={time:E,segmentIndex:m.segmentIndex,partIndex:m.partIndex})}}return a}},{name:"Discontinuity",run:function(e,n,i,r,s){var a=null;if(s=s||0,n.discontinuityStarts&&n.discontinuityStarts.length)for(var u=null,c=0;c<n.discontinuityStarts.length;c++){var d=n.discontinuityStarts[c],f=n.discontinuitySequence+c+1,m=e.discontinuities[f];if(m){var g=Math.abs(s-m.time);if(u!==null&&u<g)break;(!a||u===null||u>=g)&&(u=g,a={time:m.time,segmentIndex:d,partIndex:null})}}return a}},{name:"Playlist",run:function(e,n,i,r,s){if(n.syncInfo){var a={time:n.syncInfo.time,segmentIndex:n.syncInfo.mediaSequence-n.mediaSequence,partIndex:null};return a}return null}}],eoe=function(t){fe(e,t);function e(i){var r;return r=t.call(this)||this,r.timelines=[],r.discontinuities=[],r.timelineToDatetimeMappings={},r.logger_=cs("SyncController"),r}var n=e.prototype;return n.getSyncPoint=function(r,s,a,u){var c=this.runStrategies_(r,s,a,u);return c.length?this.selectSyncPoint_(c,{key:"time",value:u}):null},n.getExpiredTime=function(r,s){if(!r||!r.segments)return null;var a=this.runStrategies_(r,s,r.discontinuitySequence,0);if(!a.length)return null;var u=this.selectSyncPoint_(a,{key:"segmentIndex",value:0});return u.segmentIndex>0&&(u.time*=-1),Math.abs(u.time+Hp({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:u.segmentIndex,endIndex:0}))},n.runStrategies_=function(r,s,a,u){for(var c=[],d=0;d<CN.length;d++){var f=CN[d],m=f.run(this,r,s,a,u);m&&(m.strategy=f.name,c.push({strategy:f.name,syncPoint:m}))}return c},n.selectSyncPoint_=function(r,s){for(var a=r[0].syncPoint,u=Math.abs(r[0].syncPoint[s.key]-s.value),c=r[0].strategy,d=1;d<r.length;d++){var f=Math.abs(r[d].syncPoint[s.key]-s.value);f<u&&(u=f,a=r[d].syncPoint,c=r[d].strategy)}return this.logger_("syncPoint for ["+s.key+": "+s.value+"] chosen with strategy"+(" ["+c+"]: [time:"+a.time+",")+(" segmentIndex:"+a.segmentIndex)+(typeof a.partIndex=="number"?",partIndex:"+a.partIndex:"")+"]"),a},n.saveExpiredSegmentInfo=function(r,s){var a=s.mediaSequence-r.mediaSequence;if(a>Zae){W.log.warn("Not saving expired segment info. Media sequence gap "+a+" is too large.");return}for(var u=a-1;u>=0;u--){var c=r.segments[u];if(c&&typeof c.start<"u"){s.syncInfo={mediaSequence:r.mediaSequence+u,time:c.start},this.logger_("playlist refresh sync: [time:"+s.syncInfo.time+","+(" mediaSequence: "+s.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(r){if(this.timelineToDatetimeMappings={},r.segments&&r.segments.length&&r.segments[0].dateTimeObject){var s=r.segments[0],a=s.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[s.timeline]=-a}},n.saveSegmentTimingInfo=function(r){var s=r.segmentInfo,a=r.shouldSaveTimelineMapping,u=this.calculateSegmentTimeMapping_(s,s.timingInfo,a),c=s.segment;u&&(this.saveDiscontinuitySyncInfo_(s),s.playlist.syncInfo||(s.playlist.syncInfo={mediaSequence:s.playlist.mediaSequence+s.mediaIndex,time:c.start}));var d=c.dateTimeObject;c.discontinuity&&a&&d&&(this.timelineToDatetimeMappings[c.timeline]=-(d.getTime()/1e3))},n.timestampOffsetForTimeline=function(r){return typeof this.timelines[r]>"u"?null:this.timelines[r].time},n.mappingForTimeline=function(r){return typeof this.timelines[r]>"u"?null:this.timelines[r].mapping},n.calculateSegmentTimeMapping_=function(r,s,a){var u=r.segment,c=r.part,d=this.timelines[r.timeline],f,m;if(typeof r.timestampOffset=="number")d={time:r.startOfSegment,mapping:r.startOfSegment-s.start},a&&(this.timelines[r.timeline]=d,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+r.timeline+": "+("[time: "+d.time+"] [mapping: "+d.mapping+"]"))),f=r.startOfSegment,m=s.end+d.mapping;else if(d)f=s.start+d.mapping,m=s.end+d.mapping;else return!1;return c&&(c.start=f,c.end=m),(!u.start||f<u.start)&&(u.start=f),u.end=m,!0},n.saveDiscontinuitySyncInfo_=function(r){var s=r.playlist,a=r.segment;if(a.discontinuity)this.discontinuities[a.timeline]={time:a.start,accuracy:0};else if(s.discontinuityStarts&&s.discontinuityStarts.length)for(var u=0;u<s.discontinuityStarts.length;u++){var c=s.discontinuityStarts[u],d=s.discontinuitySequence+u+1,f=c-r.mediaIndex,m=Math.abs(f);if(!this.discontinuities[d]||this.discontinuities[d].accuracy>m){var g=void 0;f<0?g=a.start-Hp({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:r.mediaIndex,endIndex:c}):g=a.end+Hp({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:r.mediaIndex+1,endIndex:c}),this.discontinuities[d]={time:g,accuracy:m}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(W.EventTarget),toe=function(t){fe(e,t);function e(){var i;return i=t.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var n=e.prototype;return n.clearPendingTimelineChange=function(r){this.pendingTimelineChanges_[r]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(r){var s=r.type,a=r.from,u=r.to;return typeof a=="number"&&typeof u=="number"&&(this.pendingTimelineChanges_[s]={type:s,from:a,to:u},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[s]},n.lastTimelineChange=function(r){var s=r.type,a=r.from,u=r.to;return typeof a=="number"&&typeof u=="number"&&(this.lastTimelineChanges_[s]={type:s,from:a,to:u},delete this.pendingTimelineChanges_[s],this.trigger("timelinechange")),this.lastTimelineChanges_[s]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(W.EventTarget),noe=nV(iV(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(N,B,q){return q={path:B,exports:{},require:function(H,K){return n(H,K??q.path)}},N(q,q.exports),q.exports}function n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=e(function(N){function B($,H){for(var K=0;K<H.length;K++){var G=H[K];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty($,G.key,G)}}function q($,H,K){return H&&B($.prototype,H),K&&B($,K),$}N.exports=q,N.exports.default=N.exports,N.exports.__esModule=!0}),r=e(function(N){function B(q,$){return N.exports=B=Object.setPrototypeOf||function(K,G){return K.__proto__=G,K},N.exports.default=N.exports,N.exports.__esModule=!0,B(q,$)}N.exports=B,N.exports.default=N.exports,N.exports.__esModule=!0}),s=e(function(N){function B(q,$){q.prototype=Object.create($.prototype),q.prototype.constructor=q,r(q,$)}N.exports=B,N.exports.default=N.exports,N.exports.__esModule=!0}),a=function(){function N(){this.listeners={}}var B=N.prototype;return B.on=function($,H){this.listeners[$]||(this.listeners[$]=[]),this.listeners[$].push(H)},B.off=function($,H){if(!this.listeners[$])return!1;var K=this.listeners[$].indexOf(H);return this.listeners[$]=this.listeners[$].slice(0),this.listeners[$].splice(K,1),K>-1},B.trigger=function($){var H=this.listeners[$];if(!!H)if(arguments.length===2)for(var K=H.length,G=0;G<K;++G)H[G].call(this,arguments[1]);else for(var Q=Array.prototype.slice.call(arguments,1),ie=H.length,he=0;he<ie;++he)H[he].apply(this,Q)},B.dispose=function(){this.listeners={}},B.pipe=function($){this.on("data",function(H){$.push(H)})},N}();function u(N){return N.subarray(0,N.byteLength-N[N.byteLength-1])}var c=function(){var B=[[[],[],[],[],[]],[[],[],[],[],[]]],q=B[0],$=B[1],H=q[4],K=$[4],G,Q,ie,he=[],$e=[],Ie,ce,De,se,we,me;for(G=0;G<256;G++)$e[(he[G]=G<<1^(G>>7)*283)^G]=G;for(Q=ie=0;!H[Q];Q^=Ie||1,ie=$e[ie]||1)for(se=ie^ie<<1^ie<<2^ie<<3^ie<<4,se=se>>8^se&255^99,H[Q]=se,K[se]=Q,De=he[ce=he[Ie=he[Q]]],me=De*16843009^ce*65537^Ie*257^Q*16843008,we=he[se]*257^se*16843008,G=0;G<4;G++)q[G][Q]=we=we<<24^we>>>8,$[G][se]=me=me<<24^me>>>8;for(G=0;G<5;G++)q[G]=q[G].slice(0),$[G]=$[G].slice(0);return B},d=null,f=function(){function N(q){d||(d=c()),this._tables=[[d[0][0].slice(),d[0][1].slice(),d[0][2].slice(),d[0][3].slice(),d[0][4].slice()],[d[1][0].slice(),d[1][1].slice(),d[1][2].slice(),d[1][3].slice(),d[1][4].slice()]];var $,H,K,G=this._tables[0][4],Q=this._tables[1],ie=q.length,he=1;if(ie!==4&&ie!==6&&ie!==8)throw new Error("Invalid aes key size");var $e=q.slice(0),Ie=[];for(this._key=[$e,Ie],$=ie;$<4*ie+28;$++)K=$e[$-1],($%ie===0||ie===8&&$%ie===4)&&(K=G[K>>>24]<<24^G[K>>16&255]<<16^G[K>>8&255]<<8^G[K&255],$%ie===0&&(K=K<<8^K>>>24^he<<24,he=he<<1^(he>>7)*283)),$e[$]=$e[$-ie]^K;for(H=0;$;H++,$--)K=$e[H&3?$:$-4],$<=4||H<4?Ie[H]=K:Ie[H]=Q[0][G[K>>>24]]^Q[1][G[K>>16&255]]^Q[2][G[K>>8&255]]^Q[3][G[K&255]]}var B=N.prototype;return B.decrypt=function($,H,K,G,Q,ie){var he=this._key[1],$e=$^he[0],Ie=G^he[1],ce=K^he[2],De=H^he[3],se,we,me,dt=he.length/4-2,We,Zn=4,Sn=this._tables[1],Xi=Sn[0],rn=Sn[1],At=Sn[2],Xs=Sn[3],Lr=Sn[4];for(We=0;We<dt;We++)se=Xi[$e>>>24]^rn[Ie>>16&255]^At[ce>>8&255]^Xs[De&255]^he[Zn],we=Xi[Ie>>>24]^rn[ce>>16&255]^At[De>>8&255]^Xs[$e&255]^he[Zn+1],me=Xi[ce>>>24]^rn[De>>16&255]^At[$e>>8&255]^Xs[Ie&255]^he[Zn+2],De=Xi[De>>>24]^rn[$e>>16&255]^At[Ie>>8&255]^Xs[ce&255]^he[Zn+3],Zn+=4,$e=se,Ie=we,ce=me;for(We=0;We<4;We++)Q[(3&-We)+ie]=Lr[$e>>>24]<<24^Lr[Ie>>16&255]<<16^Lr[ce>>8&255]<<8^Lr[De&255]^he[Zn++],se=$e,$e=Ie,Ie=ce,ce=De,De=se},N}(),m=function(N){s(B,N);function B(){var $;return $=N.call(this,a)||this,$.jobs=[],$.delay=1,$.timeout_=null,$}var q=B.prototype;return q.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},q.push=function(H){this.jobs.push(H),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},B}(a),g=function(B){return B<<24|(B&65280)<<8|(B&16711680)>>8|B>>>24},E=function(B,q,$){var H=new Int32Array(B.buffer,B.byteOffset,B.byteLength>>2),K=new f(Array.prototype.slice.call(q)),G=new Uint8Array(B.byteLength),Q=new Int32Array(G.buffer),ie,he,$e,Ie,ce,De,se,we,me;for(ie=$[0],he=$[1],$e=$[2],Ie=$[3],me=0;me<H.length;me+=4)ce=g(H[me]),De=g(H[me+1]),se=g(H[me+2]),we=g(H[me+3]),K.decrypt(ce,De,se,we,Q,me),Q[me]=g(Q[me]^ie),Q[me+1]=g(Q[me+1]^he),Q[me+2]=g(Q[me+2]^$e),Q[me+3]=g(Q[me+3]^Ie),ie=ce,he=De,$e=se,Ie=we;return G},I=function(){function N(q,$,H,K){var G=N.STEP,Q=new Int32Array(q.buffer),ie=new Uint8Array(q.byteLength),he=0;for(this.asyncStream_=new m,this.asyncStream_.push(this.decryptChunk_(Q.subarray(he,he+G),$,H,ie)),he=G;he<Q.length;he+=G)H=new Uint32Array([g(Q[he-4]),g(Q[he-3]),g(Q[he-2]),g(Q[he-1])]),this.asyncStream_.push(this.decryptChunk_(Q.subarray(he,he+G),$,H,ie));this.asyncStream_.push(function(){K(null,u(ie))})}var B=N.prototype;return B.decryptChunk_=function($,H,K,G){return function(){var Q=E($,H,K);G.set(Q,$.byteOffset)}},i(N,null,[{key:"STEP",get:function(){return 32e3}}]),N}(),b;typeof window<"u"?b=window:typeof t<"u"?b=t:typeof self<"u"?b=self:b={};var x=b,k=function(B){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(B):B&&B.buffer instanceof ArrayBuffer},P=x.BigInt||Number;P("0x1"),P("0x100"),P("0x10000"),P("0x1000000"),P("0x100000000"),P("0x10000000000"),P("0x1000000000000"),P("0x100000000000000"),P("0x10000000000000000");var O=function(B){var q={};return Object.keys(B).forEach(function($){var H=B[$];k(H)?q[$]={bytes:H.buffer,byteOffset:H.byteOffset,byteLength:H.byteLength}:q[$]=H}),q};self.onmessage=function(N){var B=N.data,q=new Uint8Array(B.encrypted.bytes,B.encrypted.byteOffset,B.encrypted.byteLength),$=new Uint32Array(B.key.bytes,B.key.byteOffset,B.key.byteLength/4),H=new Uint32Array(B.iv.bytes,B.iv.byteOffset,B.iv.byteLength/4);new I(q,$,H,function(K,G){self.postMessage(O({source:B.source,decrypted:G}),[G.buffer])})}})),ioe=tV(noe),roe=function(e){var n=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(n="main-desc"),n},I_=function(e,n){e.abort(),e.pause(),n&&n.activePlaylistLoader&&(n.activePlaylistLoader.pause(),n.activePlaylistLoader=null)},ox=function(e,n){n.activePlaylistLoader=e,e.load()},soe=function(e,n){return function(){var i=n.segmentLoaders,r=i[e],s=i.main,a=n.mediaTypes[e],u=a.activeTrack(),c=a.getActiveGroup(),d=a.activePlaylistLoader,f=a.lastGroup_;if(!(c&&f&&c.id===f.id)&&(a.lastGroup_=c,a.lastTrack_=u,I_(r,a),!(!c||c.isMasterPlaylist))){if(!c.playlistLoader){d&&s.resetEverything();return}r.resyncLoader(),ox(c.playlistLoader,a)}}},aoe=function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e];r.lastGroup_=null,i.abort(),i.pause()}},ooe=function(e,n){return function(){var i=n.masterPlaylistLoader,r=n.segmentLoaders,s=r[e],a=r.main,u=n.mediaTypes[e],c=u.activeTrack(),d=u.getActiveGroup(),f=u.activePlaylistLoader,m=u.lastTrack_;if(!(m&&c&&m.id===c.id)&&(u.lastGroup_=d,u.lastTrack_=c,I_(s,u),!!d)){if(d.isMasterPlaylist){if(!c||!m||c.id===m.id)return;var g=n.vhs.masterPlaylistController_,E=g.selectPlaylist();if(g.media()===E)return;u.logger_("track change. Switching master audio from "+m.id+" to "+c.id),i.pause(),a.resetEverything(),g.fastQualityChange_(E);return}if(e==="AUDIO"){if(!d.playlistLoader){a.setAudio(!0),a.resetEverything();return}s.setAudio(!0),a.setAudio(!1)}if(f===d.playlistLoader){ox(d.playlistLoader,u);return}s.track&&s.track(c),s.resetEverything(),ox(d.playlistLoader,u)}}},k_={AUDIO:function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e],s=n.blacklistCurrentPlaylist;I_(i,r);var a=r.activeTrack(),u=r.activeGroup(),c=(u.filter(function(m){return m.default})[0]||u[0]).id,d=r.tracks[c];if(a===d){s({message:"Problem encountered loading the default audio track."});return}W.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var f in r.tracks)r.tracks[f].enabled=r.tracks[f]===d;r.onTrackChanged()}},SUBTITLES:function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e];W.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),I_(i,r);var s=r.activeTrack();s&&(s.mode="disabled"),r.onTrackChanged()}}},IN={AUDIO:function(e,n,i){if(!!n){var r=i.tech,s=i.requestOptions,a=i.segmentLoaders[e];n.on("loadedmetadata",function(){var u=n.media();a.playlist(u,s),(!r.paused()||u.endList&&r.preload()!=="none")&&a.load()}),n.on("loadedplaylist",function(){a.playlist(n.media(),s),r.paused()||a.load()}),n.on("error",k_[e](e,i))}},SUBTITLES:function(e,n,i){var r=i.tech,s=i.requestOptions,a=i.segmentLoaders[e],u=i.mediaTypes[e];n.on("loadedmetadata",function(){var c=n.media();a.playlist(c,s),a.track(u.activeTrack()),(!r.paused()||c.endList&&r.preload()!=="none")&&a.load()}),n.on("loadedplaylist",function(){a.playlist(n.media(),s),r.paused()||a.load()}),n.on("error",k_[e](e,i))}},uoe={AUDIO:function(e,n){var i=n.vhs,r=n.sourceType,s=n.segmentLoaders[e],a=n.requestOptions,u=n.master.mediaGroups,c=n.mediaTypes[e],d=c.groups,f=c.tracks,m=c.logger_,g=n.masterPlaylistLoader,E=Sg(g.master);(!u[e]||Object.keys(u[e]).length===0)&&(u[e]={main:{default:{default:!0}}},E&&(u[e].main.default.playlists=g.master.playlists));for(var I in u[e]){d[I]||(d[I]=[]);for(var b in u[e][I]){var x=u[e][I][b],k=void 0;if(E?(m("AUDIO group '"+I+"' label '"+b+"' is a master playlist"),x.isMasterPlaylist=!0,k=null):r==="vhs-json"&&x.playlists?k=new cd(x.playlists[0],i,a):x.resolvedUri?k=new cd(x.resolvedUri,i,a):x.playlists&&r==="dash"?k=new ix(x.playlists[0],i,a,g):k=null,x=W.mergeOptions({id:b,playlistLoader:k},x),IN[e](e,x.playlistLoader,n),d[I].push(x),typeof f[b]>"u"){var P=new W.AudioTrack({id:b,kind:roe(x),enabled:!1,language:x.language,default:x.default,label:b});f[b]=P}}}s.on("error",k_[e](e,n))},SUBTITLES:function(e,n){var i=n.tech,r=n.vhs,s=n.sourceType,a=n.segmentLoaders[e],u=n.requestOptions,c=n.master.mediaGroups,d=n.mediaTypes[e],f=d.groups,m=d.tracks,g=n.masterPlaylistLoader;for(var E in c[e]){f[E]||(f[E]=[]);for(var I in c[e][E])if(!c[e][E][I].forced){var b=c[e][E][I],x=void 0;if(s==="hls")x=new cd(b.resolvedUri,r,u);else if(s==="dash"){var k=b.playlists.filter(function(O){return O.excludeUntil!==1/0});if(!k.length)return;x=new ix(b.playlists[0],r,u,g)}else s==="vhs-json"&&(x=new cd(b.playlists?b.playlists[0]:b.resolvedUri,r,u));if(b=W.mergeOptions({id:I,playlistLoader:x},b),IN[e](e,b.playlistLoader,n),f[E].push(b),typeof m[I]>"u"){var P=i.addRemoteTextTrack({id:I,kind:"subtitles",default:b.default&&b.autoselect,language:b.language,label:I},!1).track;m[I]=P}}}a.on("error",k_[e](e,n))},"CLOSED-CAPTIONS":function(e,n){var i=n.tech,r=n.master.mediaGroups,s=n.mediaTypes[e],a=s.groups,u=s.tracks;for(var c in r[e]){a[c]||(a[c]=[]);for(var d in r[e][c]){var f=r[e][c][d];if(!!/^(?:CC|SERVICE)/.test(f.instreamId)){var m=i.options_.vhs&&i.options_.vhs.captionServices||{},g={label:d,language:f.language,instreamId:f.instreamId,default:f.default&&f.autoselect};if(m[g.instreamId]&&(g=W.mergeOptions(g,m[g.instreamId])),g.default===void 0&&delete g.default,a[c].push(W.mergeOptions({id:d},f)),typeof u[d]>"u"){var E=i.addRemoteTextTrack({id:g.instreamId,kind:"captions",default:g.default,language:g.language,label:g.label},!1).track;u[d]=E}}}}}},loe=function t(e,n){for(var i=0;i<e.length;i++)if(Mk(n,e[i])||e[i].playlists&&t(e[i].playlists,n))return!0;return!1},coe=function(e,n){return function(i){var r=n.masterPlaylistLoader,s=n.mediaTypes[e].groups,a=r.media();if(!a)return null;var u=null;a.attributes[e]&&(u=s[a.attributes[e]]);var c=Object.keys(s);if(!u)if(e==="AUDIO"&&c.length>1&&Sg(n.master))for(var d=0;d<c.length;d++){var f=s[c[d]];if(loe(f,a)){u=f;break}}else s.main?u=s.main:c.length===1&&(u=s[c[0]]);return typeof i>"u"?u:i===null||!u?null:u.filter(function(m){return m.id===i.id})[0]||null}},doe={AUDIO:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var r in i)if(i[r].enabled)return i[r];return null}},SUBTITLES:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var r in i)if(i[r].mode==="showing"||i[r].mode==="hidden")return i[r];return null}}},hoe=function(e,n){var i=n.mediaTypes;return function(){var r=i[e].activeTrack();return r?i[e].activeGroup(r):null}},foe=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(I){uoe[I](I,e)});var n=e.mediaTypes,i=e.masterPlaylistLoader,r=e.tech,s=e.vhs,a=e.segmentLoaders,u=a.AUDIO,c=a.main;["AUDIO","SUBTITLES"].forEach(function(I){n[I].activeGroup=coe(I,e),n[I].activeTrack=doe[I](I,e),n[I].onGroupChanged=soe(I,e),n[I].onGroupChanging=aoe(I,e),n[I].onTrackChanged=ooe(I,e),n[I].getActiveGroup=hoe(I,e)});var d=n.AUDIO.activeGroup();if(d){var f=(d.filter(function(I){return I.default})[0]||d[0]).id;n.AUDIO.tracks[f].enabled=!0,n.AUDIO.onGroupChanged(),n.AUDIO.onTrackChanged();var m=n.AUDIO.getActiveGroup();m.playlistLoader?(c.setAudio(!1),u.setAudio(!0)):c.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(I){return n[I].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(I){return n[I].onGroupChanging()})});var g=function(){n.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",g),r.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),s.on("dispose",function(){r.audioTracks().removeEventListener("change",g),r.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var E in n.AUDIO.tracks)r.audioTracks().addTrack(n.AUDIO.tracks[E])},poe=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(n){e[n]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ta,activeTrack:Ta,getActiveGroup:Ta,onGroupChanged:Ta,onTrackChanged:Ta,lastTrack_:null,logger_:cs("MediaGroups["+n+"]")}}),e},moe=60*2,ma,goe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],voe=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},yoe=function(e){var n=e.currentPlaylist,i=e.buffered,r=e.currentTime,s=e.nextPlaylist,a=e.bufferLowWaterLine,u=e.bufferHighWaterLine,c=e.duration,d=e.experimentalBufferBasedABR,f=e.log;if(!s)return W.log.warn("We received no playlist to switch to. Please check your stream."),!1;var m="allowing switch "+(n&&n.id||"null")+" -> "+s.id;if(!n)return f(m+" as current playlist is not set"),!0;if(s.id===n.id)return!1;var g=Boolean(ld(i,r).length);if(!n.endList)return!g&&typeof n.partTargetDuration=="number"?(f("not "+m+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(f(m+" as current playlist is live"),!0);var E=Ok(i,r),I=d?Pn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Pn.MAX_BUFFER_LOW_WATER_LINE;if(c<I)return f(m+" as duration < max low water line ("+c+" < "+I+")"),!0;var b=s.attributes.BANDWIDTH,x=n.attributes.BANDWIDTH;if(b<x&&(!d||E<u)){var k=m+" as next bandwidth < current bandwidth ("+b+" < "+x+")";return d&&(k+=" and forwardBuffer < bufferHighWaterLine ("+E+" < "+u+")"),f(k),!0}if((!d||b>x)&&E>=a){var P=m+" as forwardBuffer >= bufferLowWaterLine ("+E+" >= "+a+")";return d&&(P+=" and next bandwidth > current bandwidth ("+b+" > "+x+")"),f(P),!0}return f("not "+m+" as no switching criteria met"),!1},_oe=function(t){fe(e,t);function e(i){var r;r=t.call(this)||this;var s=i.src,a=i.handleManifestRedirects,u=i.withCredentials,c=i.tech,d=i.bandwidth,f=i.externVhs,m=i.useCueTags,g=i.blacklistDuration,E=i.enableLowInitialPlaylist,I=i.sourceType,b=i.cacheEncryptionKeys,x=i.experimentalBufferBasedABR,k=i.experimentalLeastPixelDiffSelector,P=i.captionServices;if(!s)throw new Error("A non-empty playlist URL or JSON manifest string is required");var O=i.maxPlaylistRetries;(O===null||typeof O>"u")&&(O=1/0),ma=f,r.experimentalBufferBasedABR=Boolean(x),r.experimentalLeastPixelDiffSelector=Boolean(k),r.withCredentials=u,r.tech_=c,r.vhs_=c.vhs,r.sourceType_=I,r.useCueTags_=m,r.blacklistDuration=g,r.maxPlaylistRetries=O,r.enableLowInitialPlaylist=E,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:u,handleManifestRedirects:a,maxPlaylistRetries:O,timeout:null},r.on("error",r.pauseLoading),r.mediaTypes_=poe(),r.mediaSource=new F.MediaSource,r.handleDurationChange_=r.handleDurationChange_.bind(Ne(r)),r.handleSourceOpen_=r.handleSourceOpen_.bind(Ne(r)),r.handleSourceEnded_=r.handleSourceEnded_.bind(Ne(r)),r.mediaSource.addEventListener("durationchange",r.handleDurationChange_),r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_),r.mediaSource.addEventListener("sourceended",r.handleSourceEnded_),r.seekable_=W.createTimeRanges(),r.hasPlayed_=!1,r.syncController_=new eoe(i),r.segmentMetadataTrack_=c.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new ioe,r.sourceUpdater_=new gV(r.mediaSource),r.inbandTextTracks_={},r.timelineChangeController_=new toe;var N={vhs:r.vhs_,parse708captions:i.parse708captions,useDtsForTimestampOffset:i.useDtsForTimestampOffset,captionServices:P,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.duration()},hasPlayed:function(){return r.hasPlayed_},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:d,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:b,sourceUpdater:r.sourceUpdater_,timelineChangeController:r.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};r.masterPlaylistLoader_=r.sourceType_==="dash"?new ix(s,r.vhs_,r.requestOptions_):new cd(s,r.vhs_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new sx(W.mergeOptions(N,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),i),r.audioSegmentLoader_=new sx(W.mergeOptions(N,{loaderType:"audio"}),i),r.subtitleSegmentLoader_=new Yae(W.mergeOptions(N,{loaderType:"vtt",featuresNativeTextTracks:r.tech_.featuresNativeTextTracks}),i),r.setupSegmentLoaderListeners_(),r.experimentalBufferBasedABR&&(r.masterPlaylistLoader_.one("loadedplaylist",function(){return r.startABRTimer_()}),r.tech_.on("pause",function(){return r.stopABRTimer_()}),r.tech_.on("play",function(){return r.startABRTimer_()})),goe.forEach(function(q){r[q+"_"]=voe.bind(Ne(r),q)}),r.logger_=cs("MPC"),r.triggeredFmp4Usage=!1,r.tech_.preload()==="none"?(r.loadOnPlay_=function(){r.loadOnPlay_=null,r.masterPlaylistLoader_.load()},r.tech_.one("play",r.loadOnPlay_)):r.masterPlaylistLoader_.load(),r.timeToLoadedData__=-1,r.mainAppendsToLoadedData__=-1,r.audioAppendsToLoadedData__=-1;var B=r.tech_.preload()==="none"?"play":"loadstart";return r.tech_.one(B,function(){var q=Date.now();r.tech_.one("loadeddata",function(){r.timeToLoadedData__=Date.now()-q,r.mainAppendsToLoadedData__=r.mainSegmentLoader_.mediaAppends,r.audioAppendsToLoadedData__=r.audioSegmentLoader_.mediaAppends})}),r}var n=e.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var r=this.mainAppendsToLoadedData_(),s=this.audioAppendsToLoadedData_();return r===-1||s===-1?-1:r+s},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(){var r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,"abr")},n.switchMedia_=function(r,s,a){var u=this.media(),c=u&&(u.id||u.uri),d=r.id||r.uri;c&&c!==d&&(this.logger_("switch media "+c+" -> "+d+" from "+s),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+s})),this.masterPlaylistLoader_.media(r,a)},n.startABRTimer_=function(){var r=this;this.stopABRTimer_(),this.abrTimer_=F.setInterval(function(){return r.checkABR_()},250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(F.clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var r=this.master(),s=r&&r.playlists||[];if(!r||!r.mediaGroups||!r.mediaGroups.AUDIO)return s;var a=r.mediaGroups.AUDIO,u=Object.keys(a),c;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)c=this.mediaTypes_.AUDIO.activeTrack();else{var d=a.main||u.length&&a[u[0]];for(var f in d)if(d[f].default){c={label:f};break}}if(!c)return s;var m=[];for(var g in a)if(a[g][c.label]){var E=a[g][c.label];if(E.playlists&&E.playlists.length)m.push.apply(m,E.playlists);else if(E.uri)m.push(E);else if(r.playlists.length)for(var I=0;I<r.playlists.length;I++){var b=r.playlists[I];b.attributes&&b.attributes.AUDIO&&b.attributes.AUDIO===g&&m.push(b)}}return m.length?m:s},n.setupMasterPlaylistLoaderListeners_=function(){var r=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var s=r.masterPlaylistLoader_.media(),a=s.targetDuration*1.5*1e3;JE(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=a,s.endList&&r.tech_.preload()!=="none"&&(r.mainSegmentLoader_.playlist(s,r.requestOptions_),r.mainSegmentLoader_.load()),foe({sourceType:r.sourceType_,segmentLoaders:{AUDIO:r.audioSegmentLoader_,SUBTITLES:r.subtitleSegmentLoader_,main:r.mainSegmentLoader_},tech:r.tech_,requestOptions:r.requestOptions_,masterPlaylistLoader:r.masterPlaylistLoader_,vhs:r.vhs_,master:r.master(),mediaTypes:r.mediaTypes_,blacklistCurrentPlaylist:r.blacklistCurrentPlaylist.bind(r)}),r.triggerPresenceUsage_(r.master(),s),r.setupFirstPlay(),!r.mediaTypes_.AUDIO.activePlaylistLoader||r.mediaTypes_.AUDIO.activePlaylistLoader.media()?r.trigger("selectedinitialmedia"):r.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){r.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){r.loadOnPlay_&&r.tech_.off("play",r.loadOnPlay_);var s=r.masterPlaylistLoader_.media();if(!s){r.excludeUnsupportedVariants_();var a;if(r.enableLowInitialPlaylist&&(a=r.selectInitialPlaylist()),a||(a=r.selectPlaylist()),!a||!r.shouldSwitchToMedia_(a))return;r.initialMedia_=a,r.switchMedia_(r.initialMedia_,"initial");var u=r.sourceType_==="vhs-json"&&r.initialMedia_.segments;if(!u)return;s=r.initialMedia_}r.handleUpdatedMediaPlaylist(s)}),this.masterPlaylistLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){r.mainSegmentLoader_.abort(),r.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var s=r.masterPlaylistLoader_.media(),a=s.targetDuration*1.5*1e3;JE(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=a,r.mainSegmentLoader_.playlist(s,r.requestOptions_),r.mainSegmentLoader_.load(),r.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var s=r.masterPlaylistLoader_.media();if(s.lastExcludeReason_!=="playlist-unchanged"){var a=r.stuckAtPlaylistEnd_(s);a&&(r.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),r.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},n.handleUpdatedMediaPlaylist=function(r){this.useCueTags_&&this.updateAdCues_(r),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.updateDuration(!r.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(r,s){var a=r.mediaGroups||{},u=!0,c=Object.keys(a.AUDIO);for(var d in a.AUDIO)for(var f in a.AUDIO[d]){var m=a.AUDIO[d][f];m.uri||(u=!1)}u&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(a.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),ma.Playlist.isAes(s)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),c.length&&Object.keys(a.AUDIO[c[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(r){var s=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,a=this.tech_.currentTime(),u=this.bufferLowWaterLine(),c=this.bufferHighWaterLine(),d=this.tech_.buffered();return yoe({buffered:d,currentTime:a,currentPlaylist:s,nextPlaylist:r,bufferLowWaterLine:u,bufferHighWaterLine:c,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var r=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var a=r.selectPlaylist();r.shouldSwitchToMedia_(a)&&r.switchMedia_(a,"bandwidthupdate"),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){r.error=r.mainSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){r.error=r.audioSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){r.logger_("main segment loader ended"),r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(a){r.experimentalBufferBasedABR||(r.delegateLoaders_("all",["abort"]),r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},moe))});var s=function(){if(!r.sourceUpdater_.hasCreatedSourceBuffers())return r.tryToCreateSourceBuffers_();var u=r.getCodecsOrExclude_();!u||r.sourceUpdater_.addOrChangeSourceBuffers(u)};this.mainSegmentLoader_.on("trackinfo",s),this.audioSegmentLoader_.on("trackinfo",s),this.mainSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){r.logger_("audioSegmentLoader ended"),r.onEndOfStream()})},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(r){r===void 0&&(r=this.selectPlaylist()),this.fastQualityChange_(r)},n.fastQualityChange_=function(r){var s=this;if(r===void 0&&(r=this.selectPlaylist()),r===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(r,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){W.browser.IE_VERSION||W.browser.IS_EDGE?s.tech_.setCurrentTime(s.tech_.currentTime()+.04):s.tech_.setCurrentTime(s.tech_.currentTime())})},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var r=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<r.start(0))return this.tech_.setCurrentTime(r.end(r.length-1))}},n.setupFirstPlay=function(){var r=this,s=this.masterPlaylistLoader_.media();if(!s||this.tech_.paused()||this.hasPlayed_)return!1;if(!s.endList){var a=this.seekable();if(!a.length)return!1;if(W.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){r.trigger("firstplay"),r.tech_.setCurrentTime(a.end(0)),r.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(a.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var r=this.tech_.play();typeof r<"u"&&typeof r.then=="function"&&r.then(null,function(s){})}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var r=this.inbandTextTracks_.metadataTrack_.cues;if(!(!r||!r.length)){var s=this.duration();r[r.length-1].endTime=isNaN(s)||Math.abs(s)===1/0?Number.MAX_VALUE:s}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var r=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var s=this.mainSegmentLoader_.getCurrentMediaInfo_();!s||s.hasVideo?r=r&&this.audioSegmentLoader_.ended_:r=this.audioSegmentLoader_.ended_}!r||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(r){var s=this.seekable();if(!s.length)return!1;var a=this.syncController_.getExpiredTime(r,this.duration());if(a===null)return!1;var u=ma.Playlist.playlistEnd(r,a),c=this.tech_.currentTime(),d=this.tech_.buffered();if(!d.length)return u-c<=Ms;var f=d.end(d.length-1);return f-c<=Ms&&u-f<=Ms},n.blacklistCurrentPlaylist=function(r,s){r===void 0&&(r={});var a=r.playlist||this.masterPlaylistLoader_.media();if(s=s||r.blacklistDuration||this.blacklistDuration,!a){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}a.playlistErrors_++;var u=this.masterPlaylistLoader_.master.playlists,c=u.filter(nb),d=c.length===1&&c[0]===a;if(u.length===1&&s!==1/0)return W.log.warn("Problem encountered with playlist "+a.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(d);if(d){var f=!1;u.forEach(function(k){if(k!==a){var P=k.excludeUntil;typeof P<"u"&&P!==1/0&&(f=!0,delete k.excludeUntil)}}),f&&(W.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var m;a.playlistErrors_>this.maxPlaylistRetries?m=1/0:m=Date.now()+s*1e3,a.excludeUntil=m,r.reason&&(a.lastExcludeReason_=r.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var g=this.selectPlaylist();if(!g){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var E=r.internal?this.logger_:W.log.warn,I=r.message?" "+r.message:"";E((r.internal?"Internal problem":"Problem")+" encountered with playlist "+a.id+"."+(I+" Switching to playlist "+g.id+".")),g.attributes.AUDIO!==a.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),g.attributes.SUBTITLES!==a.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var b=g.targetDuration/2*1e3||5*1e3,x=typeof g.lastRequest=="number"&&Date.now()-g.lastRequest<=b;return this.switchMedia_(g,"exclude",d||x)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(r,s){var a=this,u=[],c=r==="all";(c||r==="main")&&u.push(this.masterPlaylistLoader_);var d=[];(c||r==="audio")&&d.push("AUDIO"),(c||r==="subtitle")&&(d.push("CLOSED-CAPTIONS"),d.push("SUBTITLES")),d.forEach(function(f){var m=a.mediaTypes_[f]&&a.mediaTypes_[f].activePlaylistLoader;m&&u.push(m)}),["main","audio","subtitle"].forEach(function(f){var m=a[f+"SegmentLoader_"];m&&(r===f||r==="all")&&u.push(m)}),u.forEach(function(f){return s.forEach(function(m){typeof f[m]=="function"&&f[m]()})})},n.setCurrentTime=function(r){var s=ld(this.tech_.buffered(),r);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(s&&s.length)return r;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var r=this.masterPlaylistLoader_.media();return r?r.endList?this.mediaSource?this.mediaSource.duration:ma.Playlist.duration(r):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var r;if(!!this.masterPlaylistLoader_){var s=this.masterPlaylistLoader_.media();if(!!s){var a=this.syncController_.getExpiredTime(s,this.duration());if(a!==null){var u=this.masterPlaylistLoader_.master,c=ma.Playlist.seekable(s,a,ma.Playlist.liveEdgeDelay(u,s));if(c.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(s=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),a=this.syncController_.getExpiredTime(s,this.duration()),a===null||(r=ma.Playlist.seekable(s,a,ma.Playlist.liveEdgeDelay(u,s)),r.length===0)))){var d,f;this.seekable_&&this.seekable_.length&&(d=this.seekable_.end(0),f=this.seekable_.start(0)),r?r.start(0)>c.end(0)||c.start(0)>r.end(0)?this.seekable_=c:this.seekable_=W.createTimeRanges([[r.start(0)>c.start(0)?r.start(0):c.start(0),r.end(0)<c.end(0)?r.end(0):c.end(0)]]):this.seekable_=c,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===d&&this.seekable_.start(0)===f)&&(this.logger_("seekable updated ["+Oj(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(r){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,r),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(r){var s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}var a=this.tech_.buffered(),u=ma.Playlist.duration(this.masterPlaylistLoader_.media());a.length>0&&(u=Math.max(u,a.end(a.length-1))),this.mediaSource.duration!==u&&this.sourceUpdater_.setDuration(u)},n.dispose=function(){var r=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(s){var a=r.mediaTypes_[s].groups;for(var u in a)a[u].forEach(function(c){c.playlistLoader&&c.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var r=!!this.mediaTypes_.AUDIO.activePlaylistLoader,s=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),a=r?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!s||!a)},n.getCodecsOrExclude_=function(){var r=this,s={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};s.video=s.main;var a=zp(this.master(),this.media()),u={},c=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(s.main.hasVideo&&(u.video=a.video||s.main.videoCodec||Yte),s.main.isMuxed&&(u.video+=","+(a.audio||s.main.audioCodec||d2)),(s.main.hasAudio&&!s.main.isMuxed||s.audio.hasAudio||c)&&(u.audio=a.audio||s.main.audioCodec||s.audio.audioCodec||d2,s.audio.isFmp4=s.main.hasAudio&&!s.main.isMuxed?s.main.isFmp4:s.audio.isFmp4),!u.audio&&!u.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var d=function(x,k){return x?r0(k):FS(k)},f={},m;if(["video","audio"].forEach(function(b){if(u.hasOwnProperty(b)&&!d(s[b].isFmp4,u[b])){var x=s[b].isFmp4?"browser":"muxer";f[x]=f[x]||[],f[x].push(u[b]),b==="audio"&&(m=x)}}),c&&m&&this.media().attributes.AUDIO){var g=this.media().attributes.AUDIO;this.master().playlists.forEach(function(b){var x=b.attributes&&b.attributes.AUDIO;x===g&&b!==r.media()&&(b.excludeUntil=1/0)}),this.logger_("excluding audio group "+g+" as "+m+' does not support codec(s): "'+u.audio+'"')}if(Object.keys(f).length){var E=Object.keys(f).reduce(function(b,x){return b&&(b+=", "),b+=x+' does not support codec(s): "'+f[x].join(",")+'"',b},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:E,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var I=[];if(["video","audio"].forEach(function(b){var x=(Cs(r.sourceUpdater_.codecs[b]||"")[0]||{}).type,k=(Cs(u[b]||"")[0]||{}).type;x&&k&&x.toLowerCase()!==k.toLowerCase()&&I.push('"'+r.sourceUpdater_.codecs[b]+'" -> "'+u[b]+'"')}),I.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+I.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return u},n.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var r=this.getCodecsOrExclude_();if(!!r){this.sourceUpdater_.createSourceBuffers(r);var s=[r.video,r.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(s)}}},n.excludeUnsupportedVariants_=function(){var r=this,s=this.master().playlists,a=[];Object.keys(s).forEach(function(u){var c=s[u];if(a.indexOf(c.id)===-1){a.push(c.id);var d=zp(r.master,c),f=[];d.audio&&!FS(d.audio)&&!r0(d.audio)&&f.push("audio codec "+d.audio),d.video&&!FS(d.video)&&!r0(d.video)&&f.push("video codec "+d.video),d.text&&d.text==="stpp.ttml.im1t"&&f.push("text codec "+d.text),f.length&&(c.excludeUntil=1/0,r.logger_("excluding "+c.id+" for unsupported: "+f.join(", ")))}})},n.excludeIncompatibleVariants_=function(r){var s=this,a=[],u=this.master().playlists,c=x_(Cs(r)),d=gN(c),f=c.video&&Cs(c.video)[0]||null,m=c.audio&&Cs(c.audio)[0]||null;Object.keys(u).forEach(function(g){var E=u[g];if(!(a.indexOf(E.id)!==-1||E.excludeUntil===1/0)){a.push(E.id);var I=[],b=zp(s.masterPlaylistLoader_.master,E),x=gN(b);if(!(!b.audio&&!b.video)){if(x!==d&&I.push('codec count "'+x+'" !== "'+d+'"'),!s.sourceUpdater_.canChangeType()){var k=b.video&&Cs(b.video)[0]||null,P=b.audio&&Cs(b.audio)[0]||null;k&&f&&k.type.toLowerCase()!==f.type.toLowerCase()&&I.push('video codec "'+k.type+'" !== "'+f.type+'"'),P&&m&&P.type.toLowerCase()!==m.type.toLowerCase()&&I.push('audio codec "'+P.type+'" !== "'+m.type+'"')}I.length&&(E.excludeUntil=1/0,s.logger_("blacklisting "+E.id+": "+I.join(" && ")))}}})},n.updateAdCues_=function(r){var s=0,a=this.seekable();a.length&&(s=a.start(0)),Jae(r,this.cueTagsTrack_,s)},n.goalBufferLength=function(){var r=this.tech_.currentTime(),s=Pn.GOAL_BUFFER_LENGTH,a=Pn.GOAL_BUFFER_LENGTH_RATE,u=Math.max(s,Pn.MAX_GOAL_BUFFER_LENGTH);return Math.min(s+r*a,u)},n.bufferLowWaterLine=function(){var r=this.tech_.currentTime(),s=Pn.BUFFER_LOW_WATER_LINE,a=Pn.BUFFER_LOW_WATER_LINE_RATE,u=Math.max(s,Pn.MAX_BUFFER_LOW_WATER_LINE),c=Math.max(s,Pn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(s+r*a,this.experimentalBufferBasedABR?c:u)},n.bufferHighWaterLine=function(){return Pn.BUFFER_HIGH_WATER_LINE},e}(W.EventTarget),Toe=function(e,n,i){return function(r){var s=e.master.playlists[n],a=Nk(s),u=nb(s);return typeof r>"u"?u:(r?delete s.disabled:s.disabled=!0,r!==u&&!a&&(i(),r?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),r)}},boe=function(e,n,i){var r=e.masterPlaylistController_,s=e.options_.smoothQualityChange,a=s?"smooth":"fast",u=r[a+"QualityChange_"].bind(r);if(n.attributes){var c=n.attributes.RESOLUTION;this.width=c&&c.width,this.height=c&&c.height,this.bandwidth=n.attributes.BANDWIDTH}this.codecs=zp(r.master(),n),this.playlist=n,this.id=i,this.enabled=Toe(e.playlists,n.id,u)},woe=function(e){e.representations=function(){var n=e.masterPlaylistController_.master(),i=Sg(n)?e.masterPlaylistController_.getAudioTrackPlaylists_():n.playlists;return i?i.filter(function(r){return!Nk(r)}).map(function(r,s){return new boe(e,r,r.id)}):[]}},kN=["seeking","seeked","pause","playing","error"],Soe=function(){function t(n){var i=this;this.masterPlaylistController_=n.masterPlaylistController,this.tech_=n.tech,this.seekable=n.seekable,this.allowSeeksWithinUnsafeLiveWindow=n.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=n.liveRangeSafeTimeDelta,this.media=n.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=cs("PlaybackWatcher"),this.logger_("initialize");var r=function(){return i.monitorCurrentTime_()},s=function(){return i.monitorCurrentTime_()},a=function(){return i.techWaiting_()},u=function(){return i.cancelTimer_()},c=this.masterPlaylistController_,d=["main","subtitle","audio"],f={};d.forEach(function(g){f[g]={reset:function(){return i.resetSegmentDownloads_(g)},updateend:function(){return i.checkSegmentDownloads_(g)}},c[g+"SegmentLoader_"].on("appendsdone",f[g].updateend),c[g+"SegmentLoader_"].on("playlistupdate",f[g].reset),i.tech_.on(["seeked","seeking"],f[g].reset)});var m=function(E){["main","audio"].forEach(function(I){c[I+"SegmentLoader_"][E]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),m("off"))},this.clearSeekingAppendCheck_=function(){return m("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),m("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(kN,u),this.tech_.on("canplay",s),this.tech_.one("play",r),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",a),i.tech_.off(kN,u),i.tech_.off("canplay",s),i.tech_.off("play",r),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),d.forEach(function(g){c[g+"SegmentLoader_"].off("appendsdone",f[g].updateend),c[g+"SegmentLoader_"].off("playlistupdate",f[g].reset),i.tech_.off(["seeked","seeking"],f[g].reset)}),i.checkCurrentTimeTimeout_&&F.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&F.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=F.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var r=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=r.buffered_()},e.checkSegmentDownloads_=function(i){var r=this.masterPlaylistController_,s=r[i+"SegmentLoader_"],a=s.buffered_(),u=yse(this[i+"Buffered_"],a);if(this[i+"Buffered_"]=a,u){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:s.playlist_&&s.playlist_.id,buffered:el(a)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&r.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===i&&(!r.length||i+Ms>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var r=this.seekable(),s=this.tech_.currentTime(),a=this.afterSeekableWindow_(r,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow),u;if(a){var c=r.end(r.length-1);u=c}if(this.beforeSeekableWindow_(r,s)){var d=r.start(0);u=d+(d===r.end(0)?0:Ms)}if(typeof u<"u")return this.logger_("Trying to seek outside of seekable at time "+s+" with "+("seekable range "+Oj(r)+". Seeking to ")+(u+".")),this.tech_.setCurrentTime(u),!0;for(var f=this.masterPlaylistController_.sourceUpdater_,m=this.tech_.buffered(),g=f.audioBuffer?f.audioBuffered():null,E=f.videoBuffer?f.videoBuffered():null,I=this.media(),b=I.partTargetDuration?I.partTargetDuration:(I.targetDuration-Zo)*2,x=[g,E],k=0;k<x.length;k++)if(!!x[k]){var P=Ok(x[k],s);if(P<b)return!1}var O=Ny(m,s);return O.length===0?!1:(u=O.start(0)+Ms,this.logger_("Buffered region starts ("+O.start(0)+") "+(" just beyond seek point ("+s+"). Seeking to "+u+".")),this.tech_.setCurrentTime(u),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),r=this.tech_.buffered(),s=ld(r,i);if(s.length&&i+3<=s.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+s.start(0)+" -> "+s.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,r)){var s=i.end(i.length-1);return this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+s)),this.cancelTimer_(),this.tech_.setCurrentTime(s),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var a=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,u=this.tech_.buffered(),c=this.videoUnderflow_({audioBuffered:a.audioBuffered(),videoBuffered:a.videoBuffered(),currentTime:r});if(c)return this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var d=Ny(u,r);if(d.length>0){var f=d.start(0)-r;return this.logger_("Stopped at "+r+", setting timer for "+f+", seeking "+("to "+d.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),f*1e3,r),!0}return!1},e.afterSeekableWindow_=function(i,r,s,a){if(a===void 0&&(a=!1),!i.length)return!1;var u=i.end(i.length-1)+Ms,c=!s.endList;return c&&a&&(u=i.end(i.length-1)+s.targetDuration*3),r>u},e.beforeSeekableWindow_=function(i,r){return!!(i.length&&i.start(0)>0&&r<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var r=i.videoBuffered,s=i.audioBuffered,a=i.currentTime;if(!!r){var u;if(r.length&&s.length){var c=ld(r,a-3),d=ld(r,a),f=ld(s,a);f.length&&!d.length&&c.length&&(u={start:c.end(0),end:f.end(0)})}else{var m=Ny(r,a);m.length||(u=this.gapFromVideoUnderflow_(r,a))}return u?(this.logger_("Encountered a gap in video from "+u.start+" to "+u.end+". "+("Seeking to current time "+a)),!0):!1}},e.skipTheGap_=function(i){var r=this.tech_.buffered(),s=this.tech_.currentTime(),a=Ny(r,s);this.cancelTimer_(),!(a.length===0||s!==i)&&(this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",i,"nextRange start:",a.start(0)),this.tech_.setCurrentTime(a.start(0)+Zo),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,r){for(var s=mse(i),a=0;a<s.length;a++){var u=s.start(a),c=s.end(a);if(r-u<4&&r-u>2)return{start:u,end:c}}return null},t}(),Eoe={errorInterval:30,getSource:function(e){var n=this.tech({IWillNotUseThisInPlugins:!0}),i=n.currentSource_||this.currentSource();return e(i)}},xoe=function t(e,n){var i=0,r=0,s=W.mergeOptions(Eoe,n);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){r&&e.currentTime(r)},u=function(g){g!=null&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(g),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},c=function(){if(Date.now()-i<s.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){W.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),s.getSource.call(e,u)},d=function m(){e.off("loadedmetadata",a),e.off("error",c),e.off("dispose",m)},f=function(g){d(),t(e,g)};e.on("error",c),e.on("dispose",d),e.reloadSourceOnError=f},Coe=function(e){xoe(this,e)},vV="2.14.3",Ioe="6.0.1",koe="0.21.1",Aoe="4.7.1",Poe="3.1.3",Wn={PlaylistLoader:cd,Playlist:ji,utils:$se,STANDARD_PLAYLIST_SELECTOR:yN,INITIAL_PLAYLIST_SELECTOR:Aae,lastBandwidthSelector:yN,movingAverageBandwidthSelector:Iae,comparePlaylistBandwidth:Bk,comparePlaylistResolution:Cae,xhr:Kj()};Object.keys(Pn).forEach(function(t){Object.defineProperty(Wn,t,{get:function(){return W.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Pn[t]},set:function(n){if(W.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof n!="number"||n<0){W.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}Pn[t]=n}})});var yV="videojs-vhs",_V=function(e,n){for(var i=n.media(),r=-1,s=0;s<e.length;s++)if(e[s].id===i.id){r=s;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},Doe=function(e,n){n.representations().forEach(function(i){e.addQualityLevel(i)}),_V(e,n.playlists)};Wn.canPlaySource=function(){return W.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Roe=function(e,n,i){if(!e)return e;var r={};n&&n.attributes&&n.attributes.CODECS&&(r=x_(Cs(n.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(r.audio=i.attributes.CODECS);var s=Im(r.video),a=Im(r.audio),u={};for(var c in e)u[c]={},a&&(u[c].audioContentType=a),s&&(u[c].videoContentType=s),n.contentProtection&&n.contentProtection[c]&&n.contentProtection[c].pssh&&(u[c].pssh=n.contentProtection[c].pssh),typeof e[c]=="string"&&(u[c].url=e[c]);return W.mergeOptions(e,u)},Ooe=function(e,n){return e.reduce(function(i,r){if(!r.contentProtection)return i;var s=n.reduce(function(a,u){var c=r.contentProtection[u];return c&&c.pssh&&(a[u]={pssh:c.pssh}),a},{});return Object.keys(s).length&&i.push(s),i},[])},Loe=function(e){var n=e.player,i=e.sourceKeySystems,r=e.audioMedia,s=e.mainPlaylists;if(!n.eme.initializeMediaKeys)return Promise.resolve();var a=r?s.concat([r]):s,u=Ooe(a,Object.keys(i)),c=[],d=[];return u.forEach(function(f){d.push(new Promise(function(m,g){n.tech_.one("keysessioncreated",m)})),c.push(new Promise(function(m,g){n.eme.initializeMediaKeys({keySystems:f},function(E){if(E){g(E);return}m()})}))}),Promise.race([Promise.all(c),Promise.race(d)])},Noe=function(e){var n=e.player,i=e.sourceKeySystems,r=e.media,s=e.audioMedia,a=Roe(i,r,s);return a?(n.currentSource().keySystems=a,a&&!n.eme?(W.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},TV=function(){if(!F.localStorage)return null;var e=F.localStorage.getItem(yV);if(!e)return null;try{return JSON.parse(e)}catch{return null}},Moe=function(e){if(!F.localStorage)return!1;var n=TV();n=n?W.mergeOptions(n,e):e;try{F.localStorage.setItem(yV,JSON.stringify(n))}catch{return!1}return n},Foe=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};Wn.supportsNativeHls=function(){if(!de||!de.createElement)return!1;var t=de.createElement("video");if(!W.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(n){return/maybe|probably/i.test(t.canPlayType(n))})}();Wn.supportsNativeDash=function(){return!de||!de.createElement||!W.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(de.createElement("video").canPlayType("application/dash+xml"))}();Wn.supportsTypeNatively=function(t){return t==="hls"?Wn.supportsNativeHls:t==="dash"?Wn.supportsNativeDash:!1};Wn.isSupported=function(){return W.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Uoe=W.getComponent("Component"),Vk=function(t){fe(e,t);function e(i,r,s){var a;if(a=t.call(this,r,W.mergeOptions(s.hls,s.vhs))||this,s.hls&&Object.keys(s.hls).length&&W.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof s.initialBandwidth=="number"&&(a.options_.bandwidth=s.initialBandwidth),a.logger_=cs("VhsHandler"),r.options_&&r.options_.playerId){var u=W(r.options_.playerId);u.hasOwnProperty("hls")||Object.defineProperty(u,"hls",{get:function(){return W.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"hls-player-access"}),Ne(a)},configurable:!0}),u.hasOwnProperty("vhs")||Object.defineProperty(u,"vhs",{get:function(){return W.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"vhs-player-access"}),Ne(a)},configurable:!0}),u.hasOwnProperty("dash")||Object.defineProperty(u,"dash",{get:function(){return W.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Ne(a)},configurable:!0}),a.player_=u}if(a.tech_=r,a.source_=i,a.stats={},a.ignoreNextSeekingEvent_=!1,a.setOptions_(),a.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(de,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(c){var d=de.fullscreenElement||de.webkitFullscreenElement||de.mozFullScreenElement||de.msFullscreenElement;d&&d.contains(a.tech_.el())?a.masterPlaylistController_.fastQualityChange_():a.masterPlaylistController_.checkABR_()}),a.on(a.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),a.on(a.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}var n=e.prototype;return n.setOptions_=function(){var r=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var s=TV();s&&s.bandwidth&&(this.options_.bandwidth=s.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),s&&s.throughput&&(this.options_.throughput=s.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Pn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Pn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(a){typeof r.source_[a]<"u"&&(r.options_[a]=r.source_[a])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(r,s){var a=this;if(!!r){this.setOptions_(),this.options_.src=Foe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Wn,this.options_.sourceType=L6(s),this.options_.seekTo=function(d){a.tech_.setCurrentTime(d)},this.options_.smoothQualityChange&&W.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new _oe(this.options_);var u=W.mergeOptions({liveRangeSafeTimeDelta:Ms},this.options_,{seekable:function(){return a.seekable()},media:function(){return a.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Soe(u),this.masterPlaylistController_.on("error",function(){var d=W.players[a.tech_.options_.playerId],f=a.masterPlaylistController_.error;typeof f=="object"&&!f.code?f.code=3:typeof f=="string"&&(f={message:f,code:3}),d.error(f)});var c=this.options_.experimentalBufferBasedABR?Wn.movingAverageBandwidthSelector(.55):Wn.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):c.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Wn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(f){this.masterPlaylistController_.selectPlaylist=f.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(f){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=f,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var f=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,m=F.navigator.connection||F.navigator.mozConnection||F.navigator.webkitConnection,g=1e7;if(this.options_.useNetworkInformationApi&&m){var E=m.downlink*1e3*1e3;E>=g&&f>=g?f=Math.max(f,E):f=E}return f},set:function(f){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=f,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var f=1/(this.bandwidth||1),m;this.throughput>0?m=1/this.throughput:m=0;var g=Math.floor(1/(f+m));return g},set:function(){W.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return a.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return a.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return a.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return a.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return a.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return a.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return a.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return a.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return a.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return a.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return a.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return el(a.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return a.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return a.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return a.tech_.name_},enumerable:!0},duration:{get:function(){return a.tech_.duration()},enumerable:!0},master:{get:function(){return a.playlists.master},enumerable:!0},playerDimensions:{get:function(){return a.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return el(a.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return a.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){a.options_.useBandwidthFromLocalStorage&&Moe({bandwidth:a.bandwidth,throughput:Math.round(a.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){woe(a)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){a.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=F.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var r=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Loe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:s&&s.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){r.logger_("created EME key session"),r.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(a){r.logger_("error while creating EME key session",a),r.player_.error({message:"Failed to initialize media keys for EME",code:3})})},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var r=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,a=Noe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:s&&s.media()});if(this.player_.tech_.on("keystatuschange",function(u){if(u.status==="output-restricted"){var c=r.masterPlaylistController_.master();if(!(!c||!c.playlists)){var d=[];if(c.playlists.forEach(function(m){m&&m.attributes&&m.attributes.RESOLUTION&&m.attributes.RESOLUTION.height>=720&&(!m.excludeUntil||m.excludeUntil<1/0)&&(m.excludeUntil=1/0,d.push(m))}),d.length){var f;(f=W.log).warn.apply(f,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(d)),r.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),W.browser.IE_VERSION===11||!a){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},n.setupQualityLevels_=function(){var r=this,s=W.players[this.tech_.options_.playerId];!s||!s.qualityLevels||this.qualityLevels_||(this.qualityLevels_=s.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){Doe(r.qualityLevels_,r)}),this.playlists.on("mediachange",function(){_V(r.qualityLevels_,r.playlists)}))},e.version=function(){return{"@videojs/http-streaming":vV,"mux.js":Ioe,"mpd-parser":koe,"m3u8-parser":Aoe,"aes-decrypter":Poe}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return gV.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(r){this.masterPlaylistController_.setCurrentTime(r)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&F.URL.revokeObjectURL&&(F.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),t.prototype.dispose.call(this)},n.convertToProgramTime=function(r,s){return Xse({playlist:this.masterPlaylistController_.media(),time:r,callback:s})},n.seekToProgramTime=function(r,s,a,u){return a===void 0&&(a=!0),u===void 0&&(u=2),Yse({programTime:r,playlist:this.masterPlaylistController_.media(),retryCount:u,pauseAfterSeek:a,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:s})},e}(Uoe),ib={name:"videojs-http-streaming",VERSION:vV,canHandleSource:function(e,n){n===void 0&&(n={});var i=W.mergeOptions(W.options,n);return ib.canPlayType(e.type,i)},handleSource:function(e,n,i){i===void 0&&(i={});var r=W.mergeOptions(W.options,i);return n.vhs=new Vk(e,n,r),W.hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return W.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),n.vhs},configurable:!0}),n.vhs.xhr=Kj(),n.vhs.src(e.src,e.type),n.vhs},canPlayType:function(e,n){n===void 0&&(n={});var i=W.mergeOptions(W.options,n),r=i.vhs;r=r===void 0?{}:r;var s=r.overrideNative,a=s===void 0?!W.browser.IS_ANY_SAFARI:s,u=i.hls;u=u===void 0?{}:u;var c=u.overrideNative,d=c===void 0?!1:c,f=L6(e),m=f&&(!Wn.supportsTypeNatively(f)||d||a);return m?"maybe":""}},Boe=function(){return r0("avc1.4d400d,mp4a.40.2")};Boe()&&W.getTech("Html5").registerSourceHandler(ib,0);W.VhsHandler=Vk;Object.defineProperty(W,"HlsHandler",{get:function(){return W.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Vk},configurable:!0});W.VhsSourceHandler=ib;Object.defineProperty(W,"HlsSourceHandler",{get:function(){return W.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),ib},configurable:!0});W.Vhs=Wn;Object.defineProperty(W,"Hls",{get:function(){return W.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Wn},configurable:!0});W.use||(W.registerComponent("Hls",Wn),W.registerComponent("Vhs",Wn));W.options.vhs=W.options.vhs||{};W.options.hls=W.options.hls||{};if(!W.getPlugin||!W.getPlugin("reloadSourceOnError")){var joe=W.registerPlugin||W.plugin;joe("reloadSourceOnError",Coe)}function Voe(){return FN.useRef(null),Je(Uee,{children:Ti(Bee,{children:[Je(qee,{}),";"]})})}n1.createRoot(document.getElementById("root")).render(Je(FN.StrictMode,{children:Je(Voe,{})}));
